Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2016.02.28 - 20:47:51]

totalras.asm
Errors: 0

       1   00:0000                      		output "TOTALRAS.rom"
       2   00:0000                      
       3   00:0000                      		defpage	 0,0x4000, 0x2000		; page 0 main code 
       4   00:0000                      		defpage	 1,0x6000, 0x2000		; page 1 
       5   00:0000                      		defpage	 2..31					; swapped data 
       6   00:0000                      	
       7   00:0000                      		;	konami scc
       8   00:0000                      		
       9   00:0000  (00:5000)           _kBank1:	equ 05000h ;- 57FFh (5000h used)
      10   00:0000  (00:7000)           _kBank2: 	equ 07000h ;- 77FFh (7000h used)
      11   00:0000  (00:9000)           _kBank3: 	equ 09000h ;- 97FFh (9000h used)
      12   00:0000  (00:B000)           _kBank4: 	equ 0B000h ;- B7FFh (B000h used)
      13   00:0000                      	
      14   00:0000  (00)                		page 0
      15   00:4000                      		
      16   00:4000                              org 4000h
      17   00:4000                              dw  4241h,START,0,0,0,0,0,0
      17   00:4000  41 42 35 40 00 00 00 00 00 00 00 00 00 00 00 00 
      18   00:4010                      
      19   00:4010                      screeninit:
      20   00:4010  3E 08               		ld		a,8
      21   00:4012  CD 5F 00            		call	005fh		; screen 1
      22   00:4015  21 00 00            		ld		hl,0h
      23   00:4018  CD 53 00            		call	0053h		
      24   00:401B                      
      25   00:401B  11 07 10            		ld		de,256*:_opening+7
      26   00:401E                      		
      27   00:401E                      outvram:
      28   00:401E  7A                  2:		ld	a,d
      29   00:401F  32 00 70            		ld	(_kBank2),a
      30   00:4022  21 00 60            		ld	hl,0x6000
      31   00:4025                      		
      32   00:4025  01 98 00            		ld	bc,0x98
      33   00:4028  3E 20               		ld	a,32
      34   00:402A  ED B3               1:		otir
      35   00:402C  3D                  		dec	a
      36   00:402D  C2 2A 40            		jp	nz,1b
      37   00:4030  14                  		inc	d
      38   00:4031  1D                  		dec	e
      39   00:4032  20 EA               		jr	nz,2b
      40   00:4034  C9                  		ret
      41   00:4035                      		
      42   00:4035                      		
      43   00:4035                      		
      44   00:4035                      		
      45   00:4035                      START:  
      46   00:4035  CD 10 40            		call	screeninit
      47   00:4038                      		
      48   00:4038  F3                  		di                
      49   00:4039  3E 97               		ld     a,#97      
      50   00:403B  D3 99               		out    (#99),a    
      51   00:403D  3E 91               		ld     a,#91      
      52   00:403F  D3 99               		out    (#99),a  
      53   00:4041  FB                  		ei
      54   00:4042                      
      55   00:4042  76                  		halt              ; allow ISR
      56   00:4043                      		
      57   00:4043  11 78 40            		ld     de,sintab
      58   00:4046  CD 4F 40            1:   	call   raster_wave
      59   00:4049  CD 9C 00            		call   #009c      
      60   00:404C  28 F8               		jr     z,1b    
      61   00:404E                      		
      62   00:404E  C9                  		ret    
      63   00:404F                      ;S#2		
      64   00:404F                      ;b6	VR: Vertical scanning line timing flag
      65   00:404F                      ;		During vertical scanning, this flag is set to 1.
      66   00:404F                      
      67   00:404F                      ;b5	HR: Horizontal scanning line timing flag
      68   00:404F                      ;		During horizontal scanning, this flag is set to 1.
      69   00:404F                             
      70   00:404F                      raster_wave:   
      71   00:404F  F3                  		di                
      72   00:4050  3E 02               		ld     a,#02      
      73   00:4052  D3 99                       out    (#99),a    
      74   00:4054  3E 8F               		ld     a,#8f      
      75   00:4056  D3 99               		out    (#99),a
      76   00:4058                      
      77   00:4058                      
      78   00:4058  0E 9B               		ld		c,0x9B
      79   00:405A                      		
      80   00:405A  DB 99               1:   	in     a,(#99)    ; wait for VR (start of the frame)
      81   00:405C  CB 77               		bit    6,a        
      82   00:405E  C2 5A 40            		jp     nz,1b
      83   00:4061                      
      84   00:4061  62                  		ld		h,d
      85   00:4062  6B                  		ld		l,e
      86   00:4063                      		
      87   00:4063                      .loop:		
      88   00:4063                      
      89   00:4063  DB 99               1:   	in     a,(#99)     ; wait for HR (end of the line)
      90   00:4065  CB 6F               		bit    5,a        
      91   00:4067  28 FA               		jr     z,1b   
      92   00:4069                      
      93   00:4069  ED A3               		outi
      94   00:406B                      		
      95   00:406B  CB 77               		bit    6,a        ; wait for VR (end of the frame)
      96   00:406D  28 F4               		jr     z,.loop    
      97   00:406F                      		
      98   00:406F                      
      99   00:406F  AF                  		xor    a          
     100   00:4070  D3 99               		out    (#99),a    
     101   00:4072  3E 8F               		ld     a,#8f      
     102   00:4074  D3 99               		out    (#99),a    
     103   00:4076  FB                  		ei                
     104   00:4077  C9                  		ret
     105   00:4078                      		
     106   00:4078                                 
     107   00:4078                      
     108   00:4078                      sintab:  
     109   00:4078                      	include rast.txt
       1.  00:4078                        db  212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214,212,210,208,206,204,202,200,198,196,194,192,190,188,186,184,182,180,178,176,174,172,170,168,166,164,162,160,158,156,154,152,150,148,146,144,142,140,138,136,134,132,130,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,254,252,250,248,246,244,242,240,238,236,234,232,230,228,226,224,222,220,218,216,214   
       1.  00:4078  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4088  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4098  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:40A8  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:40B8  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:40C8  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:40D8  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:40E8  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:40F8  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4108  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4118  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:4128  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:4138  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:4148  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:4158  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:4168  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:4178  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4188  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4198  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:41A8  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:41B8  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:41C8  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:41D8  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:41E8  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:41F8  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4208  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4218  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:4228  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:4238  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:4248  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:4258  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:4268  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:4278  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4288  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4298  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:42A8  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:42B8  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:42C8  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:42D8  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:42E8  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:42F8  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4308  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4318  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:4328  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:4338  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:4348  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:4358  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:4368  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:4378  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4388  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4398  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:43A8  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:43B8  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:43C8  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:43D8  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:43E8  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       1.  00:43F8  D4 D2 D0 CE CC CA C8 C6 C4 C2 C0 BE BC BA B8 B6 
       1.  00:4408  B4 B2 B0 AE AC AA A8 A6 A4 A2 A0 9E 9C 9A 98 96 
       1.  00:4418  94 92 90 8E 8C 8A 88 86 84 82 80 7E 7C 7A 78 76 
       1.  00:4428  74 72 70 6E 6C 6A 68 66 64 62 60 5E 5C 5A 58 56 
       1.  00:4438  54 52 50 4E 4C 4A 48 46 44 42 40 3E 3C 3A 38 36 
       1.  00:4448  34 32 30 2E 2C 2A 28 26 24 22 20 1E 1C 1A 18 16 
       1.  00:4458  14 12 10 0E 0C 0A 08 06 04 02 00 FE FC FA F8 F6 
       1.  00:4468  F4 F2 F0 EE EC EA E8 E6 E4 E2 E0 DE DC DA D8 D6 
       2.  00:4478                        
     110   00:4478                      endsintab:
     111   00:4478  (10)                		page 16
     112   10:6000                      _opening:
     113   10:6000  (2000)              		incbin "opening.bin",0x0000,0x2000
     114   10:8000  (11)                		page 17
     115   11:6000  (2000)              		incbin "opening.bin",0x2000,0x2000
     116   11:8000  (12)                		page 18
     117   12:6000  (2000)              		incbin "opening.bin",0x4000,0x2000
     118   12:8000  (13)                		page 19
     119   13:6000  (2000)              		incbin "opening.bin",0x6000,0x2000
     120   13:8000  (14)                		page 20
     121   14:6000  (2000)              		incbin "opening.bin",0x8000,0x2000
     122   14:8000  (15)                		page 21
     123   15:6000  (2000)              		incbin "opening.bin",0xA000,0x2000
     124   15:8000  (16)                		page 22
     125   16:6000  (1400)              		incbin "opening.bin",0xC000;,0x2000
     126   16:7400  (17)                		page 23
     127   17:6000                      		; incbin "opening.bin",0xE000;,,0x2000
     128   17:6000                      

    LABELS
-------------------------------------------------
00:00005000 X _kBank1
00:00007000   _kBank2
00:00009000 X _kBank3
00:0000B000 X _kBank4
00:00004010   screeninit
00:0000401E X outvram
00:00004035   START
00:0000404F   raster_wave
00:00004063   raster_wave.loop
00:00004078   sintab
00:00004478 X endsintab
10:00006000   _opening


 Output: totalras.out
-------------------------------------------------

 Page: 00
  Org: 00004000  Size: *  Used: 00000000

    No output

 Output: TOTALRAS.rom
-------------------------------------------------

 Page: 00
  Org: 00004000  Size: 00002000  Used: 00000478

   Address   Length Align   Label
   00004000    1144         screeninit
   00004478    7048       <empty>

 Page: 01
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 02
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 03
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 04
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 05
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 06
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 07
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 08
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 09
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0A
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0B
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0C
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0D
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0E
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0F
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 10
  Org: 00006000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   00006000    8192         _opening

 Page: 11
  Org: 00006000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   00006000    8192         

 Page: 12
  Org: 00006000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   00006000    8192         

 Page: 13
  Org: 00006000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   00006000    8192         

 Page: 14
  Org: 00006000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   00006000    8192         

 Page: 15
  Org: 00006000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   00006000    8192         

 Page: 16
  Org: 00006000  Size: 00002000  Used: 00001400

   Address   Length Align   Label
   00006000    5120         
   00007400    3072       <empty>

 Page: 17
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 18
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 19
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 1A
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 1B
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 1C
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 1D
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 1E
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 1F
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>
