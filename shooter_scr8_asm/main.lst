Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2015.05.01 - 22:55:24]

main.asm
Errors: 0

       1   00:0000                      ;----------------------------------------------------------------------------
       2   00:0000                      ;----------------------------------------------------------------------------
       3   00:0000                      
       4   00:0000                              output "urd_scr8.rom"
       5   00:0000                      
       6   00:0000                      		incdir ene_code
       7   00:0000                      		incdir music
       8   00:0000                      		incdir manta
       9   00:0000                      
      10   00:0000                      		defpage	 0,0x4000, 0x2000		; page 0 main code + far call routines
      11   00:0000                      		defpage	 1,0x6000, 0x2000		; page 1 main code + far call routines
      12   00:0000                      		defpage	 2,0x8000, 0x2000		; swapped data 
      13   00:0000                      		defpage	 3,0xA000, 0x2000		; swapped data 
      14   00:0000                      		
      15   00:0000                      		defpage	 4,0xA000, 0x2000		; swapped data 
      16   00:0000                      		defpage	 5..11					; 64KB of swapped data 
      17   00:0000                      
      18   00:0000                      		defpage	12,0x4000, 0x2000		; swapped code
      19   00:0000                      		defpage	13,0x6000, 0x2000		; swapped code 
      20   00:0000                      		defpage	14,0x8000, 0x2000		; swapped data 
      21   00:0000                      		defpage	15,0xA000, 0x2000		; swapped data 
      22   00:0000                      
      23   00:0000                      		defpage	 16,0xA000, 0x2000		; swapped data 
      24   00:0000                      		defpage	 17..31					; 128KB of swapped data 
      25   00:0000                      
      26   00:0000                      		;	konami scc
      27   00:0000                      		
      28   00:0000  (00:5000)           _kBank1:	equ 05000h ;- 57FFh (5000h used)
      29   00:0000  (00:7000)           _kBank2: 	equ 07000h ;- 77FFh (7000h used)
      30   00:0000  (00:9000)           _kBank3: 	equ 09000h ;- 97FFh (9000h used)
      31   00:0000  (00:B000)           _kBank4: 	equ 0B000h ;- B7FFh (B000h used)
      32   00:0000                      	
      33   00:0000  (00:0100)           mapWidth	equ	256
      34   00:0000  (00:000B)           mapHeight	equ	11
      35   00:0000  (00:00A8)           YSIZE		equ	10*16+8
      36   00:0000                      
      37   00:0000                      	macro setpage_a
      38   00:0000                    < 		ld	(_kBank3),a
      39   00:0000                    < 		inc	a
      40   00:0000                    < 		ld	(_kBank4),a
      41   00:0000                    < 	endmacro
      42   00:0000                        
      43   00:0000  (00)                		page 0
      44   00:4FE1                      		include enemies.asm
       1.  00:4FE1                      	
       2.  00:4FE1                      
       3.  00:4FE1                      
       4.  00:4FE1  (00:000C)           max_enem:					equ 12		; max 12
       5.  00:4FE1  (00:0003)           max_enem_bullets:			equ 3
       6.  00:4FE1  (00:0002)           max_bullets:				equ 2		; max number of enemies*2 + ms_bullets + enem_bullets + 3 for ms	<= 32 sprites
       7.  00:4FE1                      
       8.  00:4FE1  (00:0004)           maxspeed:					equ 4		; the actual speed is divided by 4
       9.  00:4FE1  (00:00B4)           assault_wave_timer_preset:	equ	3*60	; a wave each 3 seconds
      10.  00:4FE1  (00:0002)           enemy_bullet_speed:			equ	2	
      11.  00:4FE1  (00:0078)           xship_rel:					equ (128-8)
      12.  00:4FE1                      
      13.  00:4FE1                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      14.  00:4FE1                      ms_ani:
      15.  00:4FE1                      	include ms_demo_ani.asm
       1:  00:4FE1                      ms_demo_ani:
       2:  00:4FE1  22                      defb 34 
       3:  00:4FE2  0A                      defb 10 
       4:  00:4FE3  08                      defb 8 
       5:  00:4FE4  07                      defb 7 
       6:  00:4FE5  06                      defb 6 
       7:  00:4FE6  01                      defb 1 
       8:  00:4FE7  05                      defb 5 
       9:  00:4FE8  0B                      defb 11 
      10:  00:4FE9  27                      defb 39 
      11:  00:4FEA  1E                      defb 30 
      12:  00:4FEB  17                      defb 23 
      13:  00:4FEC  0E                      defb 14 
      14:  00:4FED  10                      defb 16 
      15:  00:4FEE  0F                      defb 15 
      16:  00:4FEF  1B                      defb 27 
      17:  00:4FF0  20                      defb 32 
      18:  00:4FF1  26                      defb 38 
      19:  00:4FF2  25                      defb 37 
      20:  00:4FF3  09                      defb 9 
      21:  00:4FF4  03                      defb 3 
      22:  00:4FF5  00                      defb 0 
      23:  00:4FF6  02                      defb 2 
      24:  00:4FF7  04                      defb 4 
      25:  00:4FF8  23                      defb 35 
      26:  00:4FF9  24                      defb 36 
      27:  00:4FFA  1F                      defb 31 
      28:  00:4FFB  19                      defb 25 
      29:  00:4FFC  14                      defb 20 
      30:  00:4FFD  11                      defb 17 
      31:  00:4FFE  15                      defb 21 
      32:  00:4FFF  1A                      defb 26 
      33:  00:5000  1D                      defb 29 
      34:  00:5001  22                      defb 34 
      35:  00:5002  1D                      defb 29 
      36:  00:5003  1A                      defb 26 
      37:  00:5004  15                      defb 21 
      38:  00:5005  11                      defb 17 
      39:  00:5006  15                      defb 21 
      40:  00:5007  1A                      defb 26 
      41:  00:5008  1D                      defb 29 
      42:  00:5009  22                      defb 34 
      43:  00:500A  1C                      defb 28 
      44:  00:500B  16                      defb 22 
      45:  00:500C  13                      defb 19 
      46:  00:500D  0C                      defb 12 
      47:  00:500E  13                      defb 19 
      48:  00:500F  16                      defb 22 
      49:  00:5010  1C                      defb 28 
      50:  00:5011  26                      defb 38 
      51:  00:5012  21                      defb 33 
      52:  00:5013  18                      defb 24 
      53:  00:5014  12                      defb 18 
      54:  00:5015  0D                      defb 13 
      55:  00:5016  12                      defb 18 
      56:  00:5017  18                      defb 24 
      57:  00:5018  21                      defb 33 
      58:  00:5019  26                      defb 38 
      59:  00:501A  20                      defb 32 
      60:  00:501B  1B                      defb 27 
      61:  00:501C  0F                      defb 15 
      62:  00:501D  10                      defb 16 
      63:  00:501E  0F                      defb 15 
      64:  00:501F  1B                      defb 27 
      65:  00:5020  20                      defb 32 
      66:  00:5021  28                      defb 40 
      67:  00:5022  29                      defb 41 
      68:  00:5023  2A                      defb 42 
      69:  00:5024  2B                      defb 43 
      70:  00:5025  2C                      defb 44 
      71:  00:5026  2D                      defb 45 
      72:  00:5027  2E                      defb 46 
      73:  00:5028  2F                      defb 47 
      74:  00:5029  30                      defb 48 
      75:  00:502A  31                      defb 49 
      76:  00:502B  32                      defb 50 
      77:  00:502C  33                      defb 51 
      78:  00:502D  34                      defb 52 
      79:  00:502E  35                      defb 53 
      80:  00:502F  36                      defb 54 
      81:  00:5030  37                      defb 55 
      16.  00:5031                      ms_col_win:
      17.  00:5031                      	include ms_demo_frm_coll_wind.asm
       1:  00:5031                      ms_demo_coll_wind:
       2:  00:5031  07 0D 01 0F             defb 7,13,1,15 
       3:  00:5035  07 0B 01 0F             defb 7,11,1,15 
       4:  00:5039  05 09 01 0F             defb 5,9,1,15 
       5:  00:503D  04 0D 01 0F             defb 4,13,1,15 
       6:  00:5041  04 0C 01 0F             defb 4,12,1,15 
       7:  00:5045  04 0C 01 0F             defb 4,12,1,15 
       8:  00:5049  03 09 01 0F             defb 3,9,1,15 
       9:  00:504D  03 0C 01 0F             defb 3,12,1,15 
      10:  00:5051  03 0D 01 0F             defb 3,13,1,15 
      11:  00:5055  03 0D 01 0F             defb 3,13,1,15 
      12:  00:5059  03 0F 01 0F             defb 3,15,1,15 
      13:  00:505D  03 0F 01 0F             defb 3,15,1,15 
      14:  00:5061  01 0F 07 0D             defb 1,15,7,13 
      15:  00:5065  01 0F 04 0A             defb 1,15,4,10 
      16:  00:5069  01 0F 07 0C             defb 1,15,7,12 
      17:  00:506D  01 0F 06 0C             defb 1,15,6,12 
      18:  00:5071  01 0F 07 0D             defb 1,15,7,13 
      19:  00:5075  01 0F 04 0A             defb 1,15,4,10 
      20:  00:5079  01 0F 05 0B             defb 1,15,5,11 
      21:  00:507D  01 0F 06 0C             defb 1,15,6,12 
      22:  00:5081  01 0F 05 0A             defb 1,15,5,10 
      23:  00:5085  01 0F 05 0B             defb 1,15,5,11 
      24:  00:5089  01 0F 05 0C             defb 1,15,5,12 
      25:  00:508D  01 0F 06 0D             defb 1,15,6,13 
      26:  00:5091  01 0F 05 0C             defb 1,15,5,12 
      27:  00:5095  01 0F 04 0B             defb 1,15,4,11 
      28:  00:5099  01 0F 05 0C             defb 1,15,5,12 
      29:  00:509D  01 0F 05 0C             defb 1,15,5,12 
      30:  00:50A1  01 0F 03 0E             defb 1,15,3,14 
      31:  00:50A5  01 0F 03 0E             defb 1,15,3,14 
      32:  00:50A9  01 0F 05 0F             defb 1,15,5,15 
      33:  00:50AD  01 0F 02 0C             defb 1,15,2,12 
      34:  00:50B1  01 0F 03 0E             defb 1,15,3,14 
      35:  00:50B5  01 0F 03 0E             defb 1,15,3,14 
      36:  00:50B9  01 0F 01 0F             defb 1,15,1,15 
      37:  00:50BD  01 0D 01 0F             defb 1,13,1,15 
      38:  00:50C1  01 0F 01 0F             defb 1,15,1,15 
      39:  00:50C5  01 0D 01 0F             defb 1,13,1,15 
      40:  00:50C9  01 0F 01 0F             defb 1,15,1,15 
      41:  00:50CD  01 0F 01 0F             defb 1,15,1,15 
      42:  00:50D1                      
      18.  00:50D1                      
      19.  00:50D1                      ;--------------------------------------------------------------------
      20.  00:50D1                      ;--------------------------------------------------------------------
      21.  00:50D1                      add_bc_score_bin
      22.  00:50D1  C9                  	ret
      23.  00:50D2                      ;--------------------------------------------------------------------
      24.  00:50D2                      
      25.  00:50D2                      ; Fast random number generator using the same method
      26.  00:50D2                      ; as the CDMA used in cellular telephones
      27.  00:50D2                      ;--------------------------------------------------------------------
      28.  00:50D2                      ; init random seed 
      29.  00:50D2                      
      30.  00:50D2                      rand8_init:
      31.  00:50D2  2A 9E FC            	LD      HL,(_jiffy)
      32.  00:50D5  CB C5               	SET		0,L
      33.  00:50D7  22 84 D3            	LD      (randSeed),HL
      34.  00:50DA  C9                  	RET
      35.  00:50DB                      
      36.  00:50DB                      
      37.  00:50DB                      ; -------------------------------------------------------------------
      38.  00:50DB                      ; rand8
      39.  00:50DB                      ; -------------------------------------------------------------------
      40.  00:50DB                      ;
      41.  00:50DB                      ; choose a random number in the set [0,127] with uniform distribution
      42.  00:50DB                      ; return: A = random value
      43.  00:50DB                      
      44.  00:50DB                      rand8:
      45.  00:50DB  2A 84 D3            	ld      hl,(randSeed)
      46.  00:50DE  29                  	add     hl,hl
      47.  00:50DF  9F                  	sbc     a,a
      48.  00:50E0  E6 83               	and     083h
      49.  00:50E2  AD                  	xor     l
      50.  00:50E3  6F                  	ld      l,a
      51.  00:50E4  22 84 D3            	ld      (randSeed),hl
      52.  00:50E7  C9                  	ret
      53.  00:50E8                      	
      54.  00:50E8                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      55.  00:50E8                      ;	increase the wave counter
      56.  00:50E8                      ; 	and test for landing permission
      57.  00:50E8                      	
      58.  00:50E8                      land_now_test:
      59.  00:50E8  3A 87 D3            	ld	a,(wave_count)
      60.  00:50EB  3C                  	inc	a
      61.  00:50EC  32 87 D3            	ld	(wave_count),a
      62.  00:50EF  5F                  	ld	e,a
      63.  00:50F0  3A 86 D3            	ld	a,(cur_level)
      64.  00:50F3  0F 0F               [2]	rrca
      65.  00:50F5  E6 0F               	and	15
      66.  00:50F7  C6 19               	add	a,25
      67.  00:50F9  BB                  	cp	e				; 'land now' counter after  25+cur_level/4 waves
      68.  00:50FA  C0                  	ret nz
      69.  00:50FB                      
      70.  00:50FB                      	; ld	hl,land_now
      71.  00:50FB                      	; ld	de,0x1C00+8*3*32
      72.  00:50FB                      	; call	print_strf
      73.  00:50FB  3E FF               	ld	a,-1
      74.  00:50FD  32 88 D3            	ld	(landing_permission),a
      75.  00:5100                      	
      76.  00:5100  3E 0E               	ld	a,14			; Land Now
      77.  00:5102  CD 84 4A            	call AFXPLAY
      78.  00:5105  C9                  	ret
      79.  00:5106                      
      80.  00:5106                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      81.  00:5106                      ;
      82.  00:5106                      ; NPC initialization 
      83.  00:5106                      ; it removes also bullets
      84.  00:5106                      ;
      85.  00:5106                      npc_init:
      86.  00:5106  DD 21 F6 D3         	ld  ix,enemies
      87.  00:510A  06 0C               	ld  b,max_enem
      88.  00:510C  11 0F 00            	ld	de,enemy_data
      89.  00:510F  AF                  	xor	a
      90.  00:5110                      	
      91.  00:5110  DD 77 07            1:  ld  (ix+enemy_data.status),a
      92.  00:5113  DD 36 09 FF         	ld  (ix+enemy_data.kind),-1
      93.  00:5117  DD 77 08            	ld	(ix+enemy_data.cntr),a
      94.  00:511A  DD 36 0B FF         	ld	(ix+enemy_data.color),-1
      95.  00:511E  DD 36 00 D9         	ld	(ix+enemy_data.y),0xD9
      96.  00:5122                      
      97.  00:5122  DD 19               	add ix,de
      98.  00:5124  10 EA               	djnz    1b
      99.  00:5126                      
     100.  00:5126  21 B4 00            	ld	hl,assault_wave_timer_preset
     101.  00:5129  22 89 D3            	ld	(assault_wave_timer),hl
     102.  00:512C  AF                  	xor	a
     103.  00:512D  32 87 D3            	ld	(wave_count),a
     104.  00:5130  32 88 D3            	ld	(landing_permission),a
     105.  00:5133                      	
     106.  00:5133                      ; turn off MS and enemy bullets
     107.  00:5133                      
     108.  00:5133                      bull_init:
     109.  00:5133  AF                  	xor a
     110.  00:5134  32 8B D3            	ld  (bullet_rate),a
     111.  00:5137                      
     112.  00:5137  DD 21 AB D3         	ld  ix,ms_bullets
     113.  00:513B  06 05               	ld	b,max_bullets+max_enem_bullets
     114.  00:513D  11 0F 00            	ld  de,enemy_data
     115.  00:5140                      	
     116.  00:5140  DD 77 07            1:	ld  (ix+enemy_data.status),a
     117.  00:5143  DD 36 0B 0F         	ld	(ix+enemy_data.color),15
     118.  00:5147  DD 19               	add ix,de
     119.  00:5149  10 F5               	djnz	1b
     120.  00:514B                      
     121.  00:514B  C9                  	ret
     122.  00:514C                      
     123.  00:514C                      
     124.  00:514C                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     125.  00:514C                      ;
     126.  00:514C                      ;	timer for wave assaults
     127.  00:514C                      ;
     128.  00:514C                      wave_timer:
     129.  00:514C  2A 89 D3            	ld	hl,(assault_wave_timer)
     130.  00:514F  2B                  	dec	hl
     131.  00:5150  7C                  	ld	a,h
     132.  00:5151  B5                  	or	l
     133.  00:5152  22 89 D3            	ld	(assault_wave_timer),hl
     134.  00:5155  C0                  	ret	nz
     135.  00:5156                      
     136.  00:5156  3E 01               	ld	a,1			; wave incoming
     137.  00:5158  CD 84 4A            	call AFXPLAY
     138.  00:515B                      	
     139.  00:515B  21 B4 00            	ld	hl,assault_wave_timer_preset
     140.  00:515E  3A 86 D3            	ld	a,(cur_level)
     141.  00:5161  87                  	add	a,a
     142.  00:5162  5F                  	ld	e,a
     143.  00:5163  16 00               	ld	d,0
     144.  00:5165  A7                  	and	a
     145.  00:5166  ED 52               	sbc	hl,de					; at level 15 frequency is a wave each 2,5 seconds
     146.  00:5168  22 89 D3            	ld	(assault_wave_timer),hl	; 180 - 2*cur_level
     147.  00:516B                      	
     148.  00:516B                      
     149.  00:516B  CD E8 50            	call	land_now_test
     150.  00:516E                      	
     151.  00:516E  CD DB 50            	call	rand8
     152.  00:5171  E6 07               	and	7			
     153.  00:5173                      	
     154.  00:5173  CA 91 51            	jp	z,wave0
     155.  00:5176  3D                  	dec	a
     156.  00:5177  CA 91 51            	jp	z,wave1
     157.  00:517A  3D                  	dec	a
     158.  00:517B  CA 1D 52            	jp	z,wave2
     159.  00:517E  3D                  	dec	a
     160.  00:517F  CA A9 52            	jp	z,wave3
     161.  00:5182  3D                  	dec	a
     162.  00:5183  CA 21 53            	jp	z,wave4
     163.  00:5186  3D                  	dec	a
     164.  00:5187  CA B1 53            	jp	z,wave5
     165.  00:518A  3D                  	dec	a
     166.  00:518B  CA 25 54            	jp	z,wave6
     167.  00:518E  C3 30 54            	jp	wave7
     168.  00:5191                      	
     169.  00:5191                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     170.  00:5191                      
     171.  00:5191                      	; align 0x100
     172.  00:5191                      ; spritecolors:
     173.  00:5191                      	; db       15,14, 9, 7
     174.  00:5191                      	; db        9, 3,14,15
     175.  00:5191                      
     176.  00:5191                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     177.  00:5191                      ;
     178.  00:5191                      ;	enemies n#0 coming frontally
     179.  00:5191                      ;
     180.  00:5191                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     181.  00:5191                      	
     182.  00:5191                      wave0:
     183.  00:5191                      wave1:
     184.  00:5191  DD 21 F6 D3         	ld  ix,enemies
     185.  00:5195  FD 26 0C            	ld	iyh,max_enem
     186.  00:5198                      1:
     187.  00:5198  CD DB 50            	call	rand8
     188.  00:519B  E6 07               	and	7
     189.  00:519D  C6 04               	add	a,4
     190.  00:519F  47                  	ld	b,a			; frame
     191.  00:51A0                      	
     192.  00:51A0  3A 8E D3            	ld	a,(dxmap)
     193.  00:51A3  A7                  	and	a
     194.  00:51A4  F2 B8 51            	jp	p,.pos
     195.  00:51A7                      .neg
     196.  00:51A7  11 C0 FF            	ld	de,-64
     197.  00:51AA  0E 01               	ld	c,+1		; enemies going right
     198.  00:51AC  78                  	ld	a,b
     199.  00:51AD  87 87 87 87         [4]	add	a,a
     200.  00:51B1  47                  	ld	b,a
     201.  00:51B2  D9                  	exx	
     202.  00:51B3  11 01 00            	ld 	de,1		; enemy speed = 1
     203.  00:51B6  18 10               	jr	1f
     204.  00:51B8                      .pos
     205.  00:51B8  11 20 01            	ld	de,256+32
     206.  00:51BB  0E 41               	ld	c,1+64		; enemies going left
     207.  00:51BD  78                  	ld	a,b
     208.  00:51BE  87                  	add	a,a
     209.  00:51BF  3C                  	inc	a
     210.  00:51C0  87 87 87            [3]	add	a,a
     211.  00:51C3  47                  	ld	b,a
     212.  00:51C4  D9                  	exx	
     213.  00:51C5  11 FF FF            	ld 	de,-1		; enemy speed = -1
     214.  00:51C8                      1:
     215.  00:51C8  01 0F 00            	ld  bc,enemy_data
     216.  00:51CB  D9                  	exx		
     217.  00:51CC                      
     218.  00:51CC  CD DB 50            	call	rand8
     219.  00:51CF  E6 0F               	and	15			; Y off set
     220.  00:51D1                      	
     221.  00:51D1  2A 8F D3            	ld	hl,(xmap)
     222.  00:51D4  19                  	add	hl,de
     223.  00:51D5                      
     224.  00:51D5                      1:
     225.  00:51D5  DD CB 07 46         	bit	0,(ix+enemy_data.status)
     226.  00:51D9  20 38               	jr  nz,.next
     227.  00:51DB                      
     228.  00:51DB  DD 71 07            	ld  (ix+enemy_data.status),c
     229.  00:51DE  DD 70 0A            	ld	(ix+enemy_data.frame),b
     230.  00:51E1                      
     231.  00:51E1  DD 36 09 00         	ld  (ix+enemy_data.kind),0
     232.  00:51E5  D9                  	exx
     233.  00:51E6  DD 73 0D            	ld	(ix+enemy_data.speed),e
     234.  00:51E9  DD 72 0E            	ld	(ix+enemy_data.speed+1),d
     235.  00:51EC  D9                  	exx
     236.  00:51ED                      
     237.  00:51ED  11 10 00            	ld 		de,16
     238.  00:51F0  CB 6F               	bit	5,a
     239.  00:51F2  28 03               	jr	z,2f
     240.  00:51F4  11 F0 FF            	ld 		de,-16
     241.  00:51F7                      	
     242.  00:51F7  19                  2:	add 	hl,de 
     243.  00:51F8  DD 75 01            	ld  	(ix+enemy_data.x),l
     244.  00:51FB  DD 74 02            	ld  	(ix+enemy_data.x+1),h
     245.  00:51FE  DD 77 00            	ld  	(ix+enemy_data.y),a
     246.  00:5201  C6 20               	add		a,32
     247.  00:5203  CD 00 48            	call	set_size
     248.  00:5206  D9                  	exx	
     249.  00:5207  DD 09               	add ix,bc
     250.  00:5209  D9                  	exx
     251.  00:520A  FD 25               	dec	iyh
     252.  00:520C  C8                  	ret	z
     253.  00:520D  FE A0               	cp	mapHeight*16-16
     254.  00:520F  DA D5 51            	jp	c,1b
     255.  00:5212  C9                  	ret
     256.  00:5213                      
     257.  00:5213                      .next
     258.  00:5213  D9                  	exx	
     259.  00:5214  DD 09               	add ix,bc
     260.  00:5216  D9                  	exx
     261.  00:5217  FD 25               	dec	iyh
     262.  00:5219  C8                  	ret	z
     263.  00:521A  C3 D5 51            	jp	1b
     264.  00:521D                      	
     265.  00:521D                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     266.  00:521D                      ;
     267.  00:521D                      ;	enemies n#2 coming from back
     268.  00:521D                      ;
     269.  00:521D                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     270.  00:521D                      wave2:
     271.  00:521D  3A 8E D3            	ld	a,(dxmap)
     272.  00:5220  CB 2F               	sra a			; de' = player speed x2
     273.  00:5222  F6 01               	or  1
     274.  00:5224  5F                  	ld	e,a
     275.  00:5225  17                  	rla
     276.  00:5226  9F                  	sbc a,a
     277.  00:5227  57                  	ld	d,a
     278.  00:5228  D9                  	exx
     279.  00:5229                      
     280.  00:5229  28 15               	jr	z,.pos				
     281.  00:522B                      .neg
     282.  00:522B  11 20 01            	ld	de,256+32
     283.  00:522E  0E 41               	ld	c,1+64		; enemies going left
     284.  00:5230                      	
     285.  00:5230  CD DB 50            	call	rand8
     286.  00:5233  E6 07               	and	7
     287.  00:5235  C6 04               	add	a,4
     288.  00:5237  87                  	add	a,a
     289.  00:5238  3C                  	inc	a
     290.  00:5239  87 87 87            [3]	add	a,a
     291.  00:523C  47                  	ld	b,a			; frame
     292.  00:523D                      	
     293.  00:523D  C3 51 52            	jp	1f
     294.  00:5240                      .pos
     295.  00:5240  11 C0 FF            	ld	de,-64
     296.  00:5243  0E 01               	ld	c,+1		; enemies going right
     297.  00:5245                      
     298.  00:5245  CD DB 50            	call	rand8
     299.  00:5248  E6 07               	and	7
     300.  00:524A  C6 04               	add	a,4
     301.  00:524C  87 87 87 87         [4]	add	a,a
     302.  00:5250  47                  	ld	b,a			; frame
     303.  00:5251                      	
     304.  00:5251                      1:
     305.  00:5251  CD DB 50            	call	rand8
     306.  00:5254  E6 0F               	and	15			; Y off set
     307.  00:5256  C6 90               	add	a,mapHeight*16-32
     308.  00:5258                      
     309.  00:5258  2A 8F D3            	ld	hl,(xmap)
     310.  00:525B  19                  	add	hl,de
     311.  00:525C                      
     312.  00:525C                      	; bit	7,b			; pick up a random bit from frame number
     313.  00:525C                      	; ld  ix,enemies1
     314.  00:525C                      	; ld	iyh,max_enem1
     315.  00:525C                      	; jr	z,1f
     316.  00:525C                      	; ld  ix,enemies2
     317.  00:525C                      	; ld	iyh,max_enem2
     318.  00:525C                      ; 1:
     319.  00:525C  DD 21 F6 D3         	ld  ix,enemies
     320.  00:5260  FD 26 0C            	ld	iyh,max_enem
     321.  00:5263                      
     322.  00:5263  11 0F 00            	ld  de,enemy_data
     323.  00:5266                      1:
     324.  00:5266  DD CB 07 46         	bit	0,(ix+enemy_data.status)
     325.  00:526A  20 36               	jr  nz,.next
     326.  00:526C                      
     327.  00:526C  DD 71 07            	ld  (ix+enemy_data.status),c
     328.  00:526F  DD 70 0A            	ld	(ix+enemy_data.frame),b
     329.  00:5272                      
     330.  00:5272  DD 36 09 02         	ld  (ix+enemy_data.kind),2
     331.  00:5276                      
     332.  00:5276  D9                  	exx	
     333.  00:5277  DD 73 0D            	ld	(ix+enemy_data.speed),e
     334.  00:527A  DD 72 0E            	ld	(ix+enemy_data.speed+1),d
     335.  00:527D  D9                  	exx
     336.  00:527E                      	
     337.  00:527E  C5                  	push	bc
     338.  00:527F  CB 47               	bit	0,a			; pick up a random bit from Y
     339.  00:5281  01 08 00            	ld 	bc,8
     340.  00:5284  28 03               	jr z,11f
     341.  00:5286  01 F8 FF            	ld 	bc,-8
     342.  00:5289  09                  11:	add hl,bc 
     343.  00:528A  DD 75 01            	ld  (ix+enemy_data.x),l
     344.  00:528D  DD 74 02            	ld  (ix+enemy_data.x+1),h
     345.  00:5290  C1                  	pop		bc
     346.  00:5291                      	
     347.  00:5291  DD 77 00            	ld  (ix+enemy_data.y),a
     348.  00:5294                      
     349.  00:5294  CD 00 48            	call	set_size
     350.  00:5297                      
     351.  00:5297  DD 19               	add ix,de
     352.  00:5299  FD 25               	dec	iyh
     353.  00:529B  C8                  	ret	z
     354.  00:529C  D6 20               	sub	a,32
     355.  00:529E  D2 66 52            	jp	nc,1b
     356.  00:52A1  C9                  	ret
     357.  00:52A2                      
     358.  00:52A2                      .next
     359.  00:52A2  DD 19               	add ix,de
     360.  00:52A4  FD 25               	dec	iyh
     361.  00:52A6  C8                  	ret	z
     362.  00:52A7  18 BD               	jr	1b
     363.  00:52A9                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     364.  00:52A9                      ;
     365.  00:52A9                      ; waving enemies n#5 from back
     366.  00:52A9                      ;
     367.  00:52A9                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     368.  00:52A9                      wave3:
     369.  00:52A9  3A 8E D3            	ld	a,(dxmap)
     370.  00:52AC  CB 2F               	sra a			; de' = player speed x 2
     371.  00:52AE  F6 01               	or  1
     372.  00:52B0  5F                  	ld	e,a
     373.  00:52B1  17                  	rla
     374.  00:52B2  9F                  	sbc a,a
     375.  00:52B3  57                  	ld	d,a
     376.  00:52B4  D9                  	exx
     377.  00:52B5                      
     378.  00:52B5  28 08               	jr	z,.pos				
     379.  00:52B7                      .neg
     380.  00:52B7  11 20 01            	ld	de,256+32
     381.  00:52BA  01 41 68            	ld	bc,256*(96+8)+1+64		; enemies going left
     382.  00:52BD  18 06               	jr	1f
     383.  00:52BF                      .pos
     384.  00:52BF  11 C0 FF            	ld	de,-64
     385.  00:52C2  01 01 60            	ld	bc,256*96+1			; enemies going right
     386.  00:52C5                      	
     387.  00:52C5                      1:
     388.  00:52C5  CD DB 50            	call	rand8
     389.  00:52C8  E6 0F               	and	15					; random Y offset
     390.  00:52CA  C6 80               	add	a,mapHeight*16-48
     391.  00:52CC                      	
     392.  00:52CC  2A 8F D3            	ld	hl,(xmap)
     393.  00:52CF  19                  	add	hl,de
     394.  00:52D0                      
     395.  00:52D0                      	; bit	0,a			; pick up a random bit from Y offset
     396.  00:52D0                      	; ld  ix,enemies1
     397.  00:52D0                      	; ld	iyh,max_enem1
     398.  00:52D0                      	; jr	z,1f
     399.  00:52D0                      	; ld  ix,enemies2
     400.  00:52D0                      	; ld	iyh,max_enem2
     401.  00:52D0                      ; 1:
     402.  00:52D0  DD 21 F6 D3         	ld  ix,enemies
     403.  00:52D4  FD 26 0C            	ld	iyh,max_enem
     404.  00:52D7  11 0F 00            	ld  de,enemy_data
     405.  00:52DA                      1:
     406.  00:52DA  DD CB 07 46         	bit	0,(ix+enemy_data.status)
     407.  00:52DE  20 3A               	jr  nz,.next
     408.  00:52E0                      
     409.  00:52E0  DD 71 07            	ld  (ix+enemy_data.status),c
     410.  00:52E3  DD 70 0A            	ld	(ix+enemy_data.frame),b
     411.  00:52E6                      
     412.  00:52E6  DD 36 09 05         	ld  (ix+enemy_data.kind),5
     413.  00:52EA  DD 36 08 00         	ld	(ix+enemy_data.cntr),0
     414.  00:52EE                      
     415.  00:52EE  D9                  	exx	
     416.  00:52EF  DD 73 0D            	ld	(ix+enemy_data.speed),e
     417.  00:52F2  DD 72 0E            	ld	(ix+enemy_data.speed+1),d
     418.  00:52F5  D9                  	exx
     419.  00:52F6                      	
     420.  00:52F6  C5                  	push	bc
     421.  00:52F7  CB 67               	bit	4,a
     422.  00:52F9  01 10 00            	ld bc,16
     423.  00:52FC  28 03               	jr	z,2f
     424.  00:52FE  01 F0 FF            	ld	bc,-16
     425.  00:5301                      2:	
     426.  00:5301  09                  	add hl,bc 
     427.  00:5302  DD 75 01            	ld  (ix+enemy_data.x),l
     428.  00:5305  DD 74 02            	ld  (ix+enemy_data.x+1),h
     429.  00:5308  C1                  	pop		bc
     430.  00:5309                      	
     431.  00:5309  DD 77 00            	ld  (ix+enemy_data.y),a
     432.  00:530C                      
     433.  00:530C  CD 00 48            	call	set_size
     434.  00:530F                      
     435.  00:530F  DD 19               	add ix,de
     436.  00:5311  FD 25               	dec	iyh
     437.  00:5313  C8                  	ret	z
     438.  00:5314  D6 18               	sub	a,24
     439.  00:5316  D2 DA 52            	jp	nc,1b
     440.  00:5319  C9                  	ret
     441.  00:531A                      
     442.  00:531A                      .next
     443.  00:531A  DD 19               	add ix,de
     444.  00:531C  FD 25               	dec	iyh
     445.  00:531E  C8                  	ret	z
     446.  00:531F  18 B9               	jr	1b
     447.  00:5321                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     448.  00:5321                      ;
     449.  00:5321                      ;	enemies n#4 coming from back
     450.  00:5321                      ; 
     451.  00:5321                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     452.  00:5321                      wave4:
     453.  00:5321  3A 8E D3            	ld	a,(dxmap)
     454.  00:5324  CB 2F               	sra a			; de' = player speed x 2
     455.  00:5326  F6 01               	or  1
     456.  00:5328  5F                  	ld	e,a
     457.  00:5329  17                  	rla
     458.  00:532A  9F                  	sbc a,a
     459.  00:532B  57                  	ld	d,a
     460.  00:532C  D9                  	exx
     461.  00:532D                      	
     462.  00:532D                      _wave4_cont:
     463.  00:532D                      
     464.  00:532D  28 14               	jr	z,.pos				
     465.  00:532F                      .neg
     466.  00:532F  11 20 01            	ld	de,256+32
     467.  00:5332  0E 41               	ld	c,+1+64		; enemies going left
     468.  00:5334                      	
     469.  00:5334  CD DB 50            	call	rand8
     470.  00:5337  E6 07               	and	7
     471.  00:5339  C6 04               	add	a,4
     472.  00:533B  87                  	add	a,a
     473.  00:533C  3C                  	inc	a
     474.  00:533D  87 87 87            [3]	add	a,a
     475.  00:5340  47                  	ld	b,a			; frame
     476.  00:5341                      
     477.  00:5341  18 11               	jr	1f
     478.  00:5343                      .pos
     479.  00:5343  11 C0 FF            	ld	de,-64
     480.  00:5346  0E 01               	ld	c,+1		; enemies going right
     481.  00:5348                      
     482.  00:5348  CD DB 50            	call	rand8
     483.  00:534B  E6 07               	and	7
     484.  00:534D  3E 04               	ld	a,4
     485.  00:534F  87 87 87 87         [4]	add	a,a
     486.  00:5353  47                  	ld	b,a			; frame
     487.  00:5354                      	
     488.  00:5354                      1:
     489.  00:5354  CD DB 50            	call	rand8
     490.  00:5357  E6 0F               	and	15			; Y off set
     491.  00:5359                      
     492.  00:5359  CB 4F               	bit	1,a			; pick up a random bit from Y offset
     493.  00:535B  28 02               	jr	z,1f
     494.  00:535D  CB F9               	set	7,c			; go up instead of down
     495.  00:535F                      1:
     496.  00:535F                      		
     497.  00:535F  2A 8F D3            	ld	hl,(xmap)
     498.  00:5362  19                  	add	hl,de
     499.  00:5363                      
     500.  00:5363                      	; bit	0,a			; pick up a random bit from Y offset
     501.  00:5363                      	; ld  ix,enemies1
     502.  00:5363                      	; ld	iyh,max_enem1
     503.  00:5363                      	; jr	z,1f
     504.  00:5363                      	; ld  ix,enemies2
     505.  00:5363                      	; ld	iyh,max_enem2
     506.  00:5363                      ; 1:
     507.  00:5363  DD 21 F6 D3         	ld  ix,enemies
     508.  00:5367  FD 26 0C            	ld	iyh,max_enem
     509.  00:536A  11 0F 00            	ld  de,enemy_data
     510.  00:536D                      1:
     511.  00:536D  DD CB 07 46         	bit	0,(ix+enemy_data.status)
     512.  00:5371  20 37               	jr  nz,.next
     513.  00:5373                      
     514.  00:5373  DD 71 07            	ld  (ix+enemy_data.status),c
     515.  00:5376  DD 70 0A            	ld	(ix+enemy_data.frame),b
     516.  00:5379                      
     517.  00:5379  DD 36 09 04         	ld  (ix+enemy_data.kind),4
     518.  00:537D                      
     519.  00:537D  D9                  	exx	
     520.  00:537E  DD 73 0D            	ld	(ix+enemy_data.speed),e
     521.  00:5381  DD 72 0E            	ld	(ix+enemy_data.speed+1),d
     522.  00:5384  CB 7A               	bit	7,d
     523.  00:5386  D9                  	exx
     524.  00:5387                      	
     525.  00:5387  C5                  	push	bc
     526.  00:5388  01 10 00            	ld bc,16
     527.  00:538B  28 03               	jr	z,11f
     528.  00:538D  01 F0 FF            	ld bc,-16
     529.  00:5390  09                  11:	add hl,bc 
     530.  00:5391  DD 75 01            	ld  (ix+enemy_data.x),l
     531.  00:5394  DD 74 02            	ld  (ix+enemy_data.x+1),h
     532.  00:5397  C1                  	pop		bc
     533.  00:5398                      	
     534.  00:5398  DD 77 00            	ld  (ix+enemy_data.y),a
     535.  00:539B  C6 18               	add	a,24
     536.  00:539D                      
     537.  00:539D  CD 00 48            	call	set_size
     538.  00:53A0                      
     539.  00:53A0  DD 19               	add ix,de
     540.  00:53A2  FD 25               	dec	iyh
     541.  00:53A4  C8                  	ret	z
     542.  00:53A5  FE A0               	cp	mapHeight*16-16
     543.  00:53A7  38 C4               	jr	c,1b
     544.  00:53A9  C9                  	ret
     545.  00:53AA                      
     546.  00:53AA                      .next
     547.  00:53AA  DD 19               	add ix,de
     548.  00:53AC  FD 25               	dec	iyh
     549.  00:53AE  C8                  	ret	z
     550.  00:53AF  18 BC               	jr	1b
     551.  00:53B1                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     552.  00:53B1                      ;
     553.  00:53B1                      ; spinning enemy #6 
     554.  00:53B1                      ;
     555.  00:53B1                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     556.  00:53B1                      wave5:
     557.  00:53B1  3A 8E D3            	ld	a,(dxmap)
     558.  00:53B4  CB 2F               	sra a			; de' = player speed x 2
     559.  00:53B6  F6 01               	or  1
     560.  00:53B8  5F                  	ld	e,a
     561.  00:53B9  17                  	rla
     562.  00:53BA  9F                  	sbc a,a
     563.  00:53BB  57                  	ld	d,a
     564.  00:53BC  D9                  	exx
     565.  00:53BD                      
     566.  00:53BD  28 07               	jr	z,.pos				
     567.  00:53BF                      .neg
     568.  00:53BF  11 20 01            	ld	de,256+32
     569.  00:53C2  0E 41               	ld	c,+1+64		; enemies going left
     570.  00:53C4  18 05               	jr	1f
     571.  00:53C6                      .pos
     572.  00:53C6  11 C0 FF            	ld	de,-64
     573.  00:53C9  0E 01               	ld	c,+1		; enemies going right
     574.  00:53CB                      	
     575.  00:53CB                      1:
     576.  00:53CB  CD DB 50            	call	rand8
     577.  00:53CE  E6 0F               	and	15
     578.  00:53D0                      	
     579.  00:53D0  CB 4F               	bit	1,a			; pick up a random bit from Y offset
     580.  00:53D2  28 02               	jr	z,1f
     581.  00:53D4  CB F9               	set	7,c			; go up instead of down
     582.  00:53D6                      1:
     583.  00:53D6                      	
     584.  00:53D6  2A 8F D3            	ld	hl,(xmap)
     585.  00:53D9  19                  	add	hl,de
     586.  00:53DA                      
     587.  00:53DA                      	; bit	0,a			; pick up a random bit from Y offset
     588.  00:53DA                      	; ld  ix,enemies1
     589.  00:53DA                      	; ld	iyh,max_enem1
     590.  00:53DA                      	; jr	z,1f
     591.  00:53DA                      	; ld  ix,enemies2
     592.  00:53DA                      	; ld	iyh,max_enem2
     593.  00:53DA                      ; 1:
     594.  00:53DA  DD 21 F6 D3         	ld  ix,enemies
     595.  00:53DE  FD 26 0C            	ld	iyh,max_enem
     596.  00:53E1  11 0F 00            	ld  de,enemy_data
     597.  00:53E4                      1:
     598.  00:53E4  DD CB 07 46         	bit	0,(ix+enemy_data.status)
     599.  00:53E8  20 34               	jr  nz,.next
     600.  00:53EA                      
     601.  00:53EA  DD 71 07            	ld  (ix+enemy_data.status),c
     602.  00:53ED  DD 36 09 06         	ld  (ix+enemy_data.kind),6
     603.  00:53F1                      
     604.  00:53F1  D9                  	exx	
     605.  00:53F2  DD 73 0D            	ld	(ix+enemy_data.speed),e
     606.  00:53F5  DD 72 0E            	ld	(ix+enemy_data.speed+1),d
     607.  00:53F8  CB 7A               	bit	7,d
     608.  00:53FA  D9                  	exx
     609.  00:53FB                      	
     610.  00:53FB  C5                  	push	bc
     611.  00:53FC  01 10 00            	ld bc,16
     612.  00:53FF  28 03               	jr	z,11f
     613.  00:5401  01 F0 FF            	ld bc,-16
     614.  00:5404  09                  11:	add hl,bc 
     615.  00:5405  DD 75 01            	ld  (ix+enemy_data.x),l
     616.  00:5408  DD 74 02            	ld  (ix+enemy_data.x+1),h
     617.  00:540B  C1                  	pop		bc
     618.  00:540C                      	
     619.  00:540C  DD 77 00            	ld  (ix+enemy_data.y),a
     620.  00:540F  C6 18               	add	a,24
     621.  00:5411                      
     622.  00:5411  CD 00 48            	call	set_size
     623.  00:5414                      
     624.  00:5414  DD 19               	add ix,de
     625.  00:5416  FD 25               	dec	iyh
     626.  00:5418  C8                  	ret	z
     627.  00:5419  FE A0               	cp	mapHeight*16-16
     628.  00:541B  38 C7               	jr	c,1b
     629.  00:541D  C9                  	ret
     630.  00:541E                      
     631.  00:541E                      .next
     632.  00:541E  DD 19               	add ix,de
     633.  00:5420  FD 25               	dec	iyh
     634.  00:5422  C8                  	ret	z
     635.  00:5423  18 BF               	jr	1b
     636.  00:5425                      
     637.  00:5425                      
     638.  00:5425                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     639.  00:5425                      ;
     640.  00:5425                      ;	enemies n#4 coming from back double speed
     641.  00:5425                      ;
     642.  00:5425                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     643.  00:5425                      wave6:
     644.  00:5425  3A 8E D3            	ld	a,(dxmap)
     645.  00:5428  5F                  	ld	e,a			; de' = player speed x 4
     646.  00:5429  17                  	rla
     647.  00:542A  9F                  	sbc a,a
     648.  00:542B  57                  	ld	d,a
     649.  00:542C  D9                  	exx
     650.  00:542D  C3 2D 53            	jp _wave4_cont
     651.  00:5430                      	
     652.  00:5430                      
     653.  00:5430                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     654.  00:5430                      ;
     655.  00:5430                      ;  enemies n#7 (spinning)
     656.  00:5430                      ;
     657.  00:5430                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     658.  00:5430                      wave7:
     659.  00:5430  3A 8E D3            	ld	a,(dxmap)
     660.  00:5433  CB 2F               	sra a			; de' = player speed x 2
     661.  00:5435  F6 01               	or  1
     662.  00:5437  5F                  	ld	e,a
     663.  00:5438  17                  	rla
     664.  00:5439  9F                  	sbc a,a
     665.  00:543A  57                  	ld	d,a
     666.  00:543B  D9                  	exx
     667.  00:543C                      
     668.  00:543C  28 07               	jr	z,.pos				
     669.  00:543E                      .neg
     670.  00:543E  11 20 01            	ld	de,256+32
     671.  00:5441  0E 41               	ld	c,1+64				; enemies going left
     672.  00:5443  18 05               	jr	1f
     673.  00:5445                      .pos
     674.  00:5445  11 C0 FF            	ld	de,-64
     675.  00:5448  0E 01               	ld	c,+1				; enemies going right
     676.  00:544A                      	
     677.  00:544A                      1:
     678.  00:544A  CD DB 50            	call	rand8
     679.  00:544D  E6 0F               	and	15			; Y off set
     680.  00:544F                      
     681.  00:544F  2A 8F D3            	ld	hl,(xmap)
     682.  00:5452  19                  	add	hl,de
     683.  00:5453                      
     684.  00:5453                      	; bit	0,a			; pick up a random bit from Y offset
     685.  00:5453                      	; ld  ix,enemies1
     686.  00:5453                      	; ld	iyh,max_enem1
     687.  00:5453                      	; jr	z,1f
     688.  00:5453                      	; ld  ix,enemies2
     689.  00:5453                      	; ld	iyh,max_enem2
     690.  00:5453                      ; 1:
     691.  00:5453  DD 21 F6 D3         	ld  ix,enemies
     692.  00:5457  FD 26 0C            	ld	iyh,max_enem
     693.  00:545A  11 0F 00            	ld  de,enemy_data
     694.  00:545D                      1:
     695.  00:545D  DD CB 07 46         	bit	0,(ix+enemy_data.status)
     696.  00:5461  20 30               	jr  nz,.next
     697.  00:5463                      
     698.  00:5463  DD 71 07            	ld  (ix+enemy_data.status),c
     699.  00:5466                      
     700.  00:5466  DD 36 09 07         	ld  (ix+enemy_data.kind),7
     701.  00:546A                      	
     702.  00:546A  D9                  	exx	
     703.  00:546B  DD 73 0D            	ld	(ix+enemy_data.speed),e
     704.  00:546E  DD 72 0E            	ld	(ix+enemy_data.speed+1),d
     705.  00:5471  D9                  	exx
     706.  00:5472                      	
     707.  00:5472  C5                  	push	bc
     708.  00:5473  01 10 00            	ld bc,16
     709.  00:5476  09                  	add hl,bc 
     710.  00:5477  DD 75 01            	ld  (ix+enemy_data.x),l
     711.  00:547A  DD 74 02            	ld  (ix+enemy_data.x+1),h
     712.  00:547D  DD 75 08            	ld	(ix+enemy_data.cntr),l
     713.  00:5480  C1                  	pop		bc
     714.  00:5481                      	
     715.  00:5481  DD 77 00            	ld  (ix+enemy_data.y),a
     716.  00:5484  C6 18               	add	a,24
     717.  00:5486                      
     718.  00:5486  CD 00 48            	call	set_size
     719.  00:5489                      
     720.  00:5489  DD 19               	add ix,de
     721.  00:548B  FD 25               	dec	iyh
     722.  00:548D  C8                  	ret	z
     723.  00:548E  FE A0               	cp	mapHeight*16-16
     724.  00:5490  38 CB               	jr	c,1b
     725.  00:5492  C9                  	ret
     726.  00:5493                      
     727.  00:5493                      .next
     728.  00:5493  DD 19               	add ix,de
     729.  00:5495  FD 25               	dec	iyh
     730.  00:5497  C8                  	ret	z
     731.  00:5498  18 C3               	jr	1b
     732.  00:549A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     733.  00:549A                      ;
     734.  00:549A                      ;   logic for enemies 
     735.  00:549A                      ;
     736.  00:549A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     737.  00:549A                      
     738.  00:549A                      npc_loop:
     739.  00:549A  DD 21 F6 D3         	ld  ix,enemies
     740.  00:549E  06 0C               	ld  b,max_enem
     741.  00:54A0                      
     742.  00:54A0  C5                  1:	push	bc
     743.  00:54A1  DD 7E 07            	ld  a,(ix+enemy_data.status)
     744.  00:54A4  E6 01               	and 1
     745.  00:54A6  28 22               	jr  z,next
     746.  00:54A8                      
     747.  00:54A8  DD 7E 09            	ld	a,(ix+enemy_data.kind)
     748.  00:54AB  A7                  	and	a
     749.  00:54AC  CA 16 55            	jp	z,enemy0
     750.  00:54AF  3D 3D               [2]	dec a	
     751.  00:54B1  CA 71 55            	jp 	z,enemy2
     752.  00:54B4  3D 3D               [2]	dec a	
     753.  00:54B6  CA C5 55            	jp 	z,enemy4
     754.  00:54B9  3D                  	dec a			;cp	5
     755.  00:54BA  CA 40 58            	jp 	z,enemy5
     756.  00:54BD  3D                  	dec a			;cp	6
     757.  00:54BE  CA A7 58            	jp 	z,enemy6
     758.  00:54C1  3D                  	dec a			;cp	7
     759.  00:54C2  CA 2D 59            	jp 	z,enemy7
     760.  00:54C5                      
     761.  00:54C5  FE F8               	cp	255-7
     762.  00:54C7  CA FA 54            	jp z,enemy255
     763.  00:54CA                      
     764.  00:54CA                      next:
     765.  00:54CA  C1                  	pop	bc
     766.  00:54CB  11 0F 00            	ld  de,enemy_data
     767.  00:54CE  DD 19               	add ix,de
     768.  00:54D0  10 CE               	djnz    1b
     769.  00:54D2  C9                  	ret
     770.  00:54D3                      ;;;;;;;;;;;;;;;;;;;;
     771.  00:54D3                      npcdies:
     772.  00:54D3  FD 36 07 00         	ld  (iy+enemy_data.status),0	; turn off this bullet
     773.  00:54D7                      
     774.  00:54D7  DD 36 0B 0A         	ld	(ix+enemy_data.color),10	; start explosion
     775.  00:54DB  DD 36 09 FF         	ld	(ix+enemy_data.kind),255
     776.  00:54DF  DD 36 08 02         	ld	(ix+enemy_data.cntr),2
     777.  00:54E3  DD 36 0A 0C         	ld	(ix+enemy_data.frame),12
     778.  00:54E7                      
     779.  00:54E7  CD DB 50            	call	rand8
     780.  00:54EA  E6 03               	and	3
     781.  00:54EC  C6 02               	add	a,2			; random enemy explosion
     782.  00:54EE  CD 84 4A            	call AFXPLAY
     783.  00:54F1                      
     784.  00:54F1  01 64 00            	ld	bc,100		; score for destruction of a flying enemy
     785.  00:54F4  CD D1 50            	call	add_bc_score_bin
     786.  00:54F7  C3 CA 54            	jp	next
     787.  00:54FA                      	
     788.  00:54FA                      ;;;;;;;;;;;;;;;;;;;;
     789.  00:54FA                      ; explosion
     790.  00:54FA                      ;;;;;;;;;;;;;;;;;;;;
     791.  00:54FA                      enemy255:
     792.  00:54FA  DD 35 08            	dec	(ix+enemy_data.cntr)
     793.  00:54FD  C2 CA 54            	jp	nz,next
     794.  00:5500  DD 36 08 02         	ld	(ix+enemy_data.cntr),2
     795.  00:5504  DD 34 0A            	inc	(ix+enemy_data.frame)
     796.  00:5507  DD 7E 0A            	ld	a,(ix+enemy_data.frame)
     797.  00:550A  FE 1B               	cp	31-4
     798.  00:550C  DA CA 54            	jp	c,next
     799.  00:550F  DD 36 07 00         	ld	(ix+enemy_data.status),0
     800.  00:5513  C3 CA 54            	jp	next
     801.  00:5516                      
     802.  00:5516                      ;;;;;;;;;;;;;;;;;;;;
     803.  00:5516                      
     804.  00:5516                      enemy0:
     805.  00:5516                      enemy1:
     806.  00:5516  DD CB 07 76         	bit 6,(ix+enemy_data.status)
     807.  00:551A  28 23               	jr  z,.go_right
     808.  00:551C                      .go_left:
     809.  00:551C                      
     810.  00:551C  DD 6E 01            	ld	l,(ix+enemy_data.x)
     811.  00:551F  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     812.  00:5522  2B                  	dec	hl
     813.  00:5523  DD 75 01            	ld  (ix+enemy_data.x),l
     814.  00:5526  DD 74 02            	ld  (ix+enemy_data.x+1),h
     815.  00:5529  ED 5B 8F D3         	ld	de,(xmap)
     816.  00:552D  A7                  	and	a
     817.  00:552E  ED 52               	sbc	hl,de
     818.  00:5530  11 E0 FF            	ld	de,-32
     819.  00:5533  A7                  	and	a
     820.  00:5534  ED 52               	sbc	hl,de
     821.  00:5536  F2 60 55            	jp  p,1f
     822.  00:5539  DD 36 07 00         	ld	(ix+enemy_data.status),0
     823.  00:553D  18 21               	jr  1f
     824.  00:553F                      
     825.  00:553F                      .go_right:
     826.  00:553F                      
     827.  00:553F  DD 6E 01            	ld	l,(ix+enemy_data.x)
     828.  00:5542  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     829.  00:5545  23                  	inc	hl
     830.  00:5546  DD 75 01            	ld  (ix+enemy_data.x),l
     831.  00:5549  DD 74 02            	ld  (ix+enemy_data.x+1),h
     832.  00:554C  ED 5B 8F D3         	ld	de,(xmap)
     833.  00:5550  A7                  	and	a
     834.  00:5551  ED 52               	sbc	hl,de
     835.  00:5553  11 20 01            	ld	de,256+32
     836.  00:5556  A7                  	and	a
     837.  00:5557  ED 52               	sbc	hl,de
     838.  00:5559  FA 60 55            	jp  m,1f
     839.  00:555C  DD 36 07 00         	ld	(ix+enemy_data.status),0
     840.  00:5560                      1:
     841.  00:5560  CD DB 50            	call	rand8
     842.  00:5563  E6 7F               	and 	127
     843.  00:5565  CC A7 59            	call	z,book_enemy_shoot
     844.  00:5568                      
     845.  00:5568  CD 80 48            	call	test_collision_msbullets
     846.  00:556B  D2 CA 54            	jp	nc,next
     847.  00:556E  C3 D3 54            	jp	npcdies
     848.  00:5571                      
     849.  00:5571                      ;;;;;;;;;;;;;;;;;;;;
     850.  00:5571                      enemy2:
     851.  00:5571                      enemy3:
     852.  00:5571  DD 6E 01            	ld	l,(ix+enemy_data.x)
     853.  00:5574  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     854.  00:5577  DD 5E 0D            	ld	e,(ix+enemy_data.speed)
     855.  00:557A  DD 56 0E            	ld	d,(ix+enemy_data.speed+1)
     856.  00:557D  19                  	add	hl,de
     857.  00:557E  DD 75 01            	ld  (ix+enemy_data.x),l
     858.  00:5581  DD 74 02            	ld  (ix+enemy_data.x+1),h
     859.  00:5584                      	
     860.  00:5584  DD CB 07 76         	bit 6,(ix+enemy_data.status)
     861.  00:5588  28 16               	jr  z,.go_right
     862.  00:558A                      .go_left:
     863.  00:558A                      
     864.  00:558A  ED 5B 8F D3         	ld	de,(xmap)
     865.  00:558E  A7                  	and	a
     866.  00:558F  ED 52               	sbc	hl,de
     867.  00:5591  11 E0 FF            	ld	de,-32
     868.  00:5594  A7                  	and	a
     869.  00:5595  ED 52               	sbc	hl,de
     870.  00:5597  F2 B4 55            	jp  p,1f
     871.  00:559A  DD 36 07 00         	ld	(ix+enemy_data.status),0
     872.  00:559E  18 14               	jr  1f
     873.  00:55A0                      
     874.  00:55A0                      .go_right:
     875.  00:55A0                      
     876.  00:55A0  ED 5B 8F D3         	ld	de,(xmap)
     877.  00:55A4  A7                  	and	a
     878.  00:55A5  ED 52               	sbc	hl,de
     879.  00:55A7  11 20 01            	ld	de,256+32
     880.  00:55AA  A7                  	and	a
     881.  00:55AB  ED 52               	sbc	hl,de
     882.  00:55AD  FA B4 55            	jp  m,1f
     883.  00:55B0  DD 36 07 00         	ld	(ix+enemy_data.status),0
     884.  00:55B4                      1:
     885.  00:55B4  CD DB 50            	call	rand8
     886.  00:55B7  E6 7F               	and 	127
     887.  00:55B9  CC A7 59            	call	z,book_enemy_shoot
     888.  00:55BC                      
     889.  00:55BC  CD 80 48            	call	test_collision_msbullets
     890.  00:55BF  D2 CA 54            	jp	nc,next
     891.  00:55C2  C3 D3 54            	jp 	npcdies
     892.  00:55C5                      	
     893.  00:55C5                      	
     894.  00:55C5                      ;;;;;;;;;;;;;;;;;;;;
     895.  00:55C5                      enemy4:
     896.  00:55C5  DD 6E 01            	ld	l,(ix+enemy_data.x)
     897.  00:55C8  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     898.  00:55CB  DD 5E 0D            	ld	e,(ix+enemy_data.speed)
     899.  00:55CE  DD 56 0E            	ld	d,(ix+enemy_data.speed+1)
     900.  00:55D1  19                  	add	hl,de
     901.  00:55D2  DD 75 01            	ld  (ix+enemy_data.x),l
     902.  00:55D5  DD 74 02            	ld  (ix+enemy_data.x+1),h
     903.  00:55D8                      	
     904.  00:55D8  DD CB 07 76         	bit 6,(ix+enemy_data.status)
     905.  00:55DC  28 16               	jr  z,.go_right
     906.  00:55DE                      .go_left:
     907.  00:55DE                      
     908.  00:55DE  ED 5B 8F D3         	ld	de,(xmap)
     909.  00:55E2  A7                  	and	a
     910.  00:55E3  ED 52               	sbc	hl,de
     911.  00:55E5  11 E0 FF            	ld	de,-32
     912.  00:55E8  A7                  	and	a
     913.  00:55E9  ED 52               	sbc	hl,de
     914.  00:55EB  F2 08 56            	jp  p,1f
     915.  00:55EE  DD 36 07 00         	ld	(ix+enemy_data.status),0
     916.  00:55F2  18 14               	jr  1f
     917.  00:55F4                      
     918.  00:55F4                      .go_right:
     919.  00:55F4                      
     920.  00:55F4  ED 5B 8F D3         	ld	de,(xmap)
     921.  00:55F8  A7                  	and	a
     922.  00:55F9  ED 52               	sbc	hl,de
     923.  00:55FB  11 20 01            	ld	de,256+32
     924.  00:55FE  A7                  	and	a
     925.  00:55FF  ED 52               	sbc	hl,de
     926.  00:5601  FA 08 56            	jp  m,1f
     927.  00:5604  DD 36 07 00         	ld	(ix+enemy_data.status),0
     928.  00:5608                      1:
     929.  00:5608  DD 7E 00            	ld	a,(ix+enemy_data.y)
     930.  00:560B                      
     931.  00:560B  DD CB 07 7E         	bit 7,(ix+enemy_data.status)
     932.  00:560F  28 0A               	jr  z,.go_dwn
     933.  00:5611                      .go_up:
     934.  00:5611  3D                  	dec	a
     935.  00:5612  C2 24 56            	jp	nz,1f
     936.  00:5615  DD CB 07 BE         	res	7,(ix+enemy_data.status)
     937.  00:5619  18 09               	jr	1f
     938.  00:561B                      .go_dwn:
     939.  00:561B  3C                  	inc	a
     940.  00:561C  FE A0               	cp	mapHeight*16-16
     941.  00:561E  20 04               	jr	nz,1f
     942.  00:5620  DD CB 07 FE         	set	7,(ix+enemy_data.status)
     943.  00:5624                      	; jr	1f
     944.  00:5624                      1:
     945.  00:5624  DD 77 00            	ld	(ix+enemy_data.y),a
     946.  00:5627                      
     947.  00:5627  CD DB 50            	call	rand8
     948.  00:562A  E6 7F               	and 	127
     949.  00:562C  CC A7 59            	call	z,book_enemy_shoot
     950.  00:562F                      
     951.  00:562F  CD 80 48            	call	test_collision_msbullets
     952.  00:5632  D2 CA 54            	jp	nc,next
     953.  00:5635  C3 D3 54            	jp 	npcdies
     954.  00:5638                      	
     955.  00:5638                      	
     956.  00:5638                      ;;;;;;;;;;;;;;;;;;;;
     957.  00:5638  (00C8)              	align 0x100
     958.  00:5700                      rotation:
     959.  00:5700                      	db 0,16,32,48,48,32,16,0
     959.  00:5700  00 10 20 30 30 20 10 00 
     960.  00:5708                      ;;;;;;;;;;
     961.  00:5708                      rotate:
     962.  00:5708  DD 7E 08            	ld	a,(ix+enemy_data.cntr)
     963.  00:570B  3C                  	inc a
     964.  00:570C  DD 77 08            	ld	(ix+enemy_data.cntr),a
     965.  00:570F  D9                  	exx
     966.  00:5710  26 57               	ld h, high rotation
     967.  00:5712  0F 0F               [2]	rrca
     968.  00:5714  E6 07               	and 7
     969.  00:5716  6F                  	ld	l,a
     970.  00:5717  7E                  	ld a,(hl)
     971.  00:5718  D9                  	exx
     972.  00:5719  C9                  	ret
     973.  00:571A                      	
     974.  00:571A                      
     975.  00:571A  (00E6)              	align 0x100
     976.  00:5800                      sinewave:
     977.  00:5800                      	db 2,1,2,1,2,1,1,1,1,1,1,1,0,1,0,0,0,0,-1,0,-1,-1,-1,-1,-1,-1,-1,-2,-1,-2,-1,-2,-2,-1,-2,-1,-2,-1,-1,-1,-1,-1,-1,-1,0,-1,0,0,0,0,1,0,1,1,1,1,1,1,1,2,1,2,1,2
     977.  00:5800  02 01 02 01 02 01 01 01 01 01 01 01 00 01 00 00 
     977.  00:5810  00 00 FF 00 FF FF FF FF FF FF FF FE FF FE FF FE 
     977.  00:5820  FE FF FE FF FE FF FF FF FF FF FF FF 00 FF 00 00 
     977.  00:5830  00 00 01 00 01 01 01 01 01 01 01 02 01 02 01 02 
     978.  00:5840                      
     979.  00:5840                      	
     980.  00:5840                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;
     981.  00:5840                      enemy5:
     982.  00:5840  DD 6E 01            	ld	l,(ix+enemy_data.x)
     983.  00:5843  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     984.  00:5846  DD 5E 0D            	ld	e,(ix+enemy_data.speed)
     985.  00:5849  DD 56 0E            	ld	d,(ix+enemy_data.speed+1)
     986.  00:584C  19                  	add	hl,de
     987.  00:584D  DD 75 01            	ld  (ix+enemy_data.x),l
     988.  00:5850  DD 74 02            	ld  (ix+enemy_data.x+1),h
     989.  00:5853                      	
     990.  00:5853  DD CB 07 76         	bit 6,(ix+enemy_data.status)
     991.  00:5857  28 16               	jr  z,.go_right
     992.  00:5859                      .go_left:
     993.  00:5859                      
     994.  00:5859  ED 5B 8F D3         	ld	de,(xmap)
     995.  00:585D  A7                  	and	a
     996.  00:585E  ED 52               	sbc	hl,de
     997.  00:5860  11 E0 FF            	ld	de,-32
     998.  00:5863  A7                  	and	a
     999.  00:5864  ED 52               	sbc	hl,de
    1000.  00:5866  F2 83 58            	jp  p,1f
    1001.  00:5869  DD 36 07 00         	ld	(ix+enemy_data.status),0
    1002.  00:586D  18 14               	jr  1f
    1003.  00:586F                      
    1004.  00:586F                      .go_right:
    1005.  00:586F                      
    1006.  00:586F  ED 5B 8F D3         	ld	de,(xmap)
    1007.  00:5873  A7                  	and	a
    1008.  00:5874  ED 52               	sbc	hl,de
    1009.  00:5876  11 20 01            	ld	de,256+32
    1010.  00:5879  A7                  	and	a
    1011.  00:587A  ED 52               	sbc	hl,de
    1012.  00:587C  FA 83 58            	jp  m,1f
    1013.  00:587F  DD 36 07 00         	ld	(ix+enemy_data.status),0
    1014.  00:5883                      1:
    1015.  00:5883                      
    1016.  00:5883  DD 7E 08            	ld	a,(ix+enemy_data.cntr)
    1017.  00:5886  3C                  	inc	a
    1018.  00:5887  DD 77 08            	ld	(ix+enemy_data.cntr),a
    1019.  00:588A  E6 3F               	and	63
    1020.  00:588C  6F                  	ld	l,a
    1021.  00:588D  26 58               	ld	h,high sinewave
    1022.  00:588F  7E                  	ld	a,(hl)
    1023.  00:5890  DD 86 00            	add	a,(ix+enemy_data.y)
    1024.  00:5893  DD 77 00            	ld	(ix+enemy_data.y),a
    1025.  00:5896                      	
    1026.  00:5896  CD DB 50            	call	rand8
    1027.  00:5899  E6 7F               	and	127
    1028.  00:589B  CC A7 59            	call	z,book_enemy_shoot
    1029.  00:589E                      
    1030.  00:589E  CD 80 48            	call	test_collision_msbullets
    1031.  00:58A1  D2 CA 54            	jp	nc,next
    1032.  00:58A4  C3 D3 54            	jp 	npcdies
    1033.  00:58A7                      
    1034.  00:58A7                      
    1035.  00:58A7                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;
    1036.  00:58A7                      enemy6:
    1037.  00:58A7  DD 6E 01            	ld	l,(ix+enemy_data.x)
    1038.  00:58AA  DD 66 02            	ld	h,(ix+enemy_data.x+1)
    1039.  00:58AD  DD 5E 0D            	ld	e,(ix+enemy_data.speed)
    1040.  00:58B0  DD 56 0E            	ld	d,(ix+enemy_data.speed+1)
    1041.  00:58B3  19                  	add	hl,de
    1042.  00:58B4  DD 75 01            	ld  (ix+enemy_data.x),l
    1043.  00:58B7  DD 74 02            	ld  (ix+enemy_data.x+1),h
    1044.  00:58BA                      	
    1045.  00:58BA  DD CB 07 76         	bit 6,(ix+enemy_data.status)
    1046.  00:58BE  28 1E               	jr  z,.go_right
    1047.  00:58C0                      .go_left:
    1048.  00:58C0  CD 08 57            	call	rotate
    1049.  00:58C3  C6 C8               	add	a,192+8
    1050.  00:58C5  DD 77 0A            	ld	(ix+enemy_data.frame),a
    1051.  00:58C8                      	
    1052.  00:58C8  ED 5B 8F D3         	ld	de,(xmap)
    1053.  00:58CC  A7                  	and	a
    1054.  00:58CD  ED 52               	sbc	hl,de
    1055.  00:58CF  11 E0 FF            	ld	de,-32
    1056.  00:58D2  A7                  	and	a
    1057.  00:58D3  ED 52               	sbc	hl,de
    1058.  00:58D5  F2 FA 58            	jp  p,1f
    1059.  00:58D8  DD 36 07 00         	ld	(ix+enemy_data.status),0
    1060.  00:58DC  18 1C               	jr  1f
    1061.  00:58DE                      
    1062.  00:58DE                      .go_right:
    1063.  00:58DE  CD 08 57            	call	rotate
    1064.  00:58E1  C6 C0               	add	a,192
    1065.  00:58E3  DD 77 0A            	ld	(ix+enemy_data.frame),a
    1066.  00:58E6                      
    1067.  00:58E6  ED 5B 8F D3         	ld	de,(xmap)
    1068.  00:58EA  A7                  	and	a
    1069.  00:58EB  ED 52               	sbc	hl,de
    1070.  00:58ED  11 20 01            	ld	de,256+32
    1071.  00:58F0  A7                  	and	a
    1072.  00:58F1  ED 52               	sbc	hl,de
    1073.  00:58F3  FA FA 58            	jp  m,1f
    1074.  00:58F6  DD 36 07 00         	ld	(ix+enemy_data.status),0
    1075.  00:58FA                      1:
    1076.  00:58FA  CD 00 48            	call	set_size	; size varies with frame
    1077.  00:58FD                      		
    1078.  00:58FD  DD 7E 00            	ld	a,(ix+enemy_data.y)
    1079.  00:5900                      
    1080.  00:5900  DD CB 07 7E         	bit 7,(ix+enemy_data.status)
    1081.  00:5904  28 0A               	jr  z,.go_dwn
    1082.  00:5906                      .go_up:
    1083.  00:5906  3D                  	dec	a
    1084.  00:5907  C2 19 59            	jp	nz,1f
    1085.  00:590A  DD CB 07 BE         	res	7,(ix+enemy_data.status)
    1086.  00:590E  18 09               	jr	1f
    1087.  00:5910                      .go_dwn:
    1088.  00:5910  3C                  	inc	a
    1089.  00:5911  FE A0               	cp	mapHeight*16-16
    1090.  00:5913  20 04               	jr	nz,1f
    1091.  00:5915  DD CB 07 FE         	set	7,(ix+enemy_data.status)
    1092.  00:5919                      1:
    1093.  00:5919  DD 77 00            	ld	(ix+enemy_data.y),a
    1094.  00:591C                      
    1095.  00:591C  CD DB 50            	call	rand8
    1096.  00:591F  E6 7F               	and 	127
    1097.  00:5921  CC A7 59            	call	z,book_enemy_shoot
    1098.  00:5924                      
    1099.  00:5924  CD 80 48            	call	test_collision_msbullets
    1100.  00:5927  D2 CA 54            	jp	nc,next
    1101.  00:592A  C3 D3 54            	jp	npcdies
    1102.  00:592D                      	
    1103.  00:592D                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;
    1104.  00:592D                      enemy7:	
    1105.  00:592D  DD 6E 01            	ld	l,(ix+enemy_data.x)
    1106.  00:5930  DD 66 02            	ld	h,(ix+enemy_data.x+1)
    1107.  00:5933  DD 5E 0D            	ld	e,(ix+enemy_data.speed)
    1108.  00:5936  DD 56 0E            	ld	d,(ix+enemy_data.speed+1)
    1109.  00:5939  19                  	add	hl,de
    1110.  00:593A  DD 75 01            	ld  (ix+enemy_data.x),l
    1111.  00:593D  DD 74 02            	ld  (ix+enemy_data.x+1),h
    1112.  00:5940                      	
    1113.  00:5940  DD CB 07 76         	bit 6,(ix+enemy_data.status)
    1114.  00:5944  28 1E               	jr  z,.go_right
    1115.  00:5946                      .go_left:
    1116.  00:5946  CD 08 57            	call	rotate
    1117.  00:5949  C6 C8               	add	a,192+8
    1118.  00:594B  DD 77 0A            	ld	(ix+enemy_data.frame),a
    1119.  00:594E                      
    1120.  00:594E  ED 5B 8F D3         	ld	de,(xmap)
    1121.  00:5952  A7                  	and	a
    1122.  00:5953  ED 52               	sbc	hl,de
    1123.  00:5955  11 E0 FF            	ld	de,-32
    1124.  00:5958  A7                  	and	a
    1125.  00:5959  ED 52               	sbc	hl,de
    1126.  00:595B  F2 80 59            	jp  p,1f
    1127.  00:595E  DD 36 07 00         	ld	(ix+enemy_data.status),0
    1128.  00:5962  18 1C               	jr  1f
    1129.  00:5964                      
    1130.  00:5964                      .go_right:
    1131.  00:5964  CD 08 57            	call	rotate
    1132.  00:5967  C6 C0               	add	a,192
    1133.  00:5969  DD 77 0A            	ld	(ix+enemy_data.frame),a
    1134.  00:596C                      	
    1135.  00:596C  ED 5B 8F D3         	ld	de,(xmap)
    1136.  00:5970  A7                  	and	a
    1137.  00:5971  ED 52               	sbc	hl,de
    1138.  00:5973  11 20 01            	ld	de,256+32
    1139.  00:5976  A7                  	and	a
    1140.  00:5977  ED 52               	sbc	hl,de
    1141.  00:5979  FA 80 59            	jp  m,1f
    1142.  00:597C  DD 36 07 00         	ld	(ix+enemy_data.status),0
    1143.  00:5980                      1:
    1144.  00:5980  CD 00 48            	call	set_size	; size varies with frame
    1145.  00:5983                      
    1146.  00:5983  DD 7E 08            	ld	a,(ix+enemy_data.cntr)
    1147.  00:5986  3C                  	inc	a
    1148.  00:5987  DD 77 08            	ld	(ix+enemy_data.cntr),a
    1149.  00:598A  E6 3F               	and	63
    1150.  00:598C  6F                  	ld	l,a
    1151.  00:598D  26 58               	ld	h,high sinewave
    1152.  00:598F  7E                  	ld	a,(hl)
    1153.  00:5990  DD 86 00            	add	a,(ix+enemy_data.y)
    1154.  00:5993  DD 77 00            	ld	(ix+enemy_data.y),a
    1155.  00:5996                      
    1156.  00:5996  CD DB 50            	call	rand8
    1157.  00:5999  E6 7F               	and 	127
    1158.  00:599B  CC A7 59            	call	z,book_enemy_shoot
    1159.  00:599E                      
    1160.  00:599E  CD 80 48            	call	test_collision_msbullets
    1161.  00:59A1  D2 CA 54            	jp	nc,next
    1162.  00:59A4  C3 D3 54            	jp 	npcdies
    1163.  00:59A7                      	
    1164.  00:59A7                      
    1165.  00:59A7                      
    1166.  00:59A7                      ; enemy3:
    1167.  00:59A7                      	; bit 6,(ix+enemy_data.status)
    1168.  00:59A7                      	; jr  z,.go_right
    1169.  00:59A7                      ; .go_left:
    1170.  00:59A7                      	; call	rotate
    1171.  00:59A7                      	; add	a,224
    1172.  00:59A7                      	; ld	(ix+enemy_data.frame),a
    1173.  00:59A7                      	; dec (ix+enemy_data.x)
    1174.  00:59A7                      	; ld  a,64-1
    1175.  00:59A7                      	; cp  (ix+enemy_data.x)
    1176.  00:59A7                      	; jr  nz,1f
    1177.  00:59A7                      	; res 6,(ix+enemy_data.status)
    1178.  00:59A7                      	; jr  1f
    1179.  00:59A7                      ; .go_right:
    1180.  00:59A7                      	; call	rotate
    1181.  00:59A7                      	; add	a,240
    1182.  00:59A7                      	; ld	(ix+enemy_data.frame),a
    1183.  00:59A7                      	; inc (ix+enemy_data.x)
    1184.  00:59A7                      	; ld  a,192-16
    1185.  00:59A7                      	; cp  (ix+enemy_data.x)
    1186.  00:59A7                      	; jr  nz,1f
    1187.  00:59A7                      	; set 6,(ix+enemy_data.status)
    1188.  00:59A7                      ; 1:
    1189.  00:59A7                      	; ld	(ix+enemy_data.color),14
    1190.  00:59A7                      	; jp	next
    1191.  00:59A7                      
    1192.  00:59A7                      
    1193.  00:59A7                      
    1194.  00:59A7                      
    1195.  00:59A7                      ; in
    1196.  00:59A7                      ;	IX -> enemy ship
    1197.  00:59A7                      ; out
    1198.  00:59A7                      ;	active bullet in list enem_bullets
    1199.  00:59A7                      
    1200.  00:59A7                      book_enemy_shoot:
    1201.  00:59A7                      	; aim to the manta
    1202.  00:59A7  0E 20               	ld	c,32
    1203.  00:59A9  59                  	ld	e,c
    1204.  00:59AA  3A 93 D3            	ld	a,(yship)
    1205.  00:59AD  47                  	ld	b,a
    1206.  00:59AE  DD 56 00            	ld	d,(ix+enemy_data.y)
    1207.  00:59B1  CD DF 48            	call	CollisionCheck_8b
    1208.  00:59B4  D0                  	ret		nc
    1209.  00:59B5                      
    1210.  00:59B5                      	; avoid shooting from outside the screen	
    1211.  00:59B5  06 00               	ld	b,0
    1212.  00:59B7  DD 6E 01            	ld	l,(ix+enemy_data.x)
    1213.  00:59BA  DD 66 02            	ld	h,(ix+enemy_data.x+1)
    1214.  00:59BD  DD 4E 03            	ld 	c,(ix+enemy_data.xoff)
    1215.  00:59C0  09                  	add hl,bc
    1216.  00:59C1  DD 46 05            	ld 	b,(ix+enemy_data.xsize)
    1217.  00:59C4                      	
    1218.  00:59C4  ED 5B 8F D3         	ld	de,(xmap)
    1219.  00:59C8  0E FF               	ld 	c,255
    1220.  00:59CA  CD CF 48            	call	CalcCollision
    1221.  00:59CD  D0                  	ret		nc
    1222.  00:59CE                      	
    1223.  00:59CE                      
    1224.  00:59CE  FD 21 C9 D3         	ld  iy,enem_bullets
    1225.  00:59D2  11 0F 00            	ld  de,enemy_data
    1226.  00:59D5                      	
    1227.  00:59D5                      	repeat	max_enem_bullets
    1228.  00:59D5                    < 
    1229.  00:59D5                    < 	bit	0,(iy+enemy_data.status)
    1230.  00:59D5                    < 	jr  z,.activate_this
    1231.  00:59D5                    < 	add iy,de
    1232.  00:59D5                    < 
    1233.  00:59D5                    < 	endrepeat
    1233.  00:59D5  FD CB 07 46 28 13 FD 19 FD CB 07 46 28 0B FD 19 
    1233.  00:59E5  FD CB 07 46 28 03 FD 19 
    1234.  00:59ED  C9                  	ret
    1235.  00:59EE                      
    1236.  00:59EE                      .activate_this:
    1237.  00:59EE  DD CB 07 76         	bit 6,(ix+enemy_data.status)
    1238.  00:59F2  20 0F               	jr  nz,.shootsx
    1239.  00:59F4                      .shootdx
    1240.  00:59F4  FD 36 07 01         	ld  (iy+enemy_data.status),1
    1241.  00:59F8                      	; ld  hl,enemy_bullet_speed
    1242.  00:59F8                      	; ld	e,(ix+enemy_data.speed)
    1243.  00:59F8                      	; ld	d,(ix+enemy_data.speed+1)
    1244.  00:59F8                      	; add	hl,de
    1245.  00:59F8  DD 6E 0D            	ld	l,(ix+enemy_data.speed)
    1246.  00:59FB  DD 66 0E            	ld	h,(ix+enemy_data.speed+1)
    1247.  00:59FE  23 23               [enemy_bullet_speed]	inc hl
    1248.  00:5A00  C3 0F 5A            	jp  1f
    1249.  00:5A03                      
    1250.  00:5A03                      .shootsx
    1251.  00:5A03  FD 36 07 41         	ld  (iy+enemy_data.status),1 + 64
    1252.  00:5A07                      	; ld  hl,-enemy_bullet_speed
    1253.  00:5A07                      	; ld	e,(ix+enemy_data.speed)
    1254.  00:5A07                      	; ld	d,(ix+enemy_data.speed+1)
    1255.  00:5A07                      	; add	hl,de
    1256.  00:5A07  DD 6E 0D            	ld	l,(ix+enemy_data.speed)
    1257.  00:5A0A  DD 66 0E            	ld	h,(ix+enemy_data.speed+1)
    1258.  00:5A0D  2B 2B               [enemy_bullet_speed]	dec hl
    1259.  00:5A0F                      	
    1260.  00:5A0F                      1:
    1261.  00:5A0F  FD 75 0D            	ld  (iy+enemy_data.speed),l
    1262.  00:5A12  FD 74 0E            	ld  (iy+enemy_data.speed+1),h
    1263.  00:5A15                      
    1264.  00:5A15  3E 30               	ld  a,12*4			; it could depend on enemy ship
    1265.  00:5A17  FD 77 0A            	ld  (iy+enemy_data.frame),a
    1266.  00:5A1A                      
    1267.  00:5A1A  CD 20 48            	call	set_size2	; set  xoff,yoff,xsize,ysize for sprite collision
    1268.  00:5A1D                      
    1269.  00:5A1D  DD 6E 01            	ld	l,(ix+enemy_data.x)
    1270.  00:5A20  DD 66 02            	ld	h,(ix+enemy_data.x+1)
    1271.  00:5A23  FD 75 01            	ld  (iy+enemy_data.x),l
    1272.  00:5A26  FD 74 02            	ld  (iy+enemy_data.x+1),h
    1273.  00:5A29                      
    1274.  00:5A29  DD 7E 00            	ld  a,(ix+enemy_data.y)
    1275.  00:5A2C  FD 77 00            	ld  (iy+enemy_data.y),a
    1276.  00:5A2F  FD 36 08 9C         	ld  (iy+enemy_data.cntr),(256+32+24)/enemy_bullet_speed
    1277.  00:5A33                      
    1278.  00:5A33                      	; ld  (iy+enemy_data.color),11
    1279.  00:5A33                      	
    1280.  00:5A33  3E 08               	ld a,8			; enemy shoot
    1281.  00:5A35  CD 84 4A            	call AFXPLAY
    1282.  00:5A38  C9                  	ret
    1283.  00:5A39                      
    1284.  00:5A39                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    1285.  00:5A39                      ;
    1286.  00:5A39                      ; manage active enemy bullets
    1287.  00:5A39                      ;
    1288.  00:5A39                      
    1289.  00:5A39                      enemy_bullet_loop:
    1290.  00:5A39                      
    1291.  00:5A39  21 E1 4F            	ld	hl,ms_ani
    1292.  00:5A3C  3A 96 D3            	ld  a,(aniframe)
    1293.  00:5A3F  4F                  	ld	c,a
    1294.  00:5A40  06 00               	ld	b,0
    1295.  00:5A42  09                  	add	hl,bc
    1296.  00:5A43  7E                  	ld	a,(hl)
    1297.  00:5A44  87                  	add	a,a
    1298.  00:5A45  87                  	add	a,a
    1299.  00:5A46  FD 21 31 50         	ld	iy,ms_col_win
    1300.  00:5A4A  4F                  	ld	c,a
    1301.  00:5A4B  06 00               	ld	b,0
    1302.  00:5A4D  FD 09               	add	iy,bc	; iy aims to MS size for current frame
    1303.  00:5A4F                      
    1304.  00:5A4F                      	;iy -> [minx(h) maxx(h) miny(h) maxy(h)]
    1305.  00:5A4F                      
    1306.  00:5A4F  DD 21 C9 D3         	ld  ix,enem_bullets
    1307.  00:5A53  11 0F 00            	ld  de,enemy_data
    1308.  00:5A56                      	repeat	max_enem_bullets
    1309.  00:5A56                    < 2:
    1310.  00:5A56                    < 	exx
    1311.  00:5A56                    < 	bit  0,(ix+enemy_data.status)
    1312.  00:5A56                    < 	jp  z,1f
    1313.  00:5A56                    < 
    1314.  00:5A56                    < 	ld  l,(ix+enemy_data.x)
    1315.  00:5A56                    < 	ld  h,(ix+enemy_data.x+1)
    1316.  00:5A56                    < 	ld  e,(ix+enemy_data.speed)
    1317.  00:5A56                    < 	ld  d,(ix+enemy_data.speed+1)
    1318.  00:5A56                    < 	add hl,de						; move right or  left
    1319.  00:5A56                    < 	ld  (ix+enemy_data.x),l
    1320.  00:5A56                    < 	ld  (ix+enemy_data.x+1),h
    1321.  00:5A56                    < 
    1322.  00:5A56                    < 	ld	a,(ms_state)				; MS is immune to bullets while looping
    1323.  00:5A56                    < 	cp	ms_loop_right2left
    1324.  00:5A56                    < 	jr	z,3f
    1325.  00:5A56                    < 	cp	ms_loop_left2right
    1326.  00:5A56                    < 	jr	z,3f
    1327.  00:5A56                    < 
    1328.  00:5A56                    < 	ld	a,(god_mode)
    1329.  00:5A56                    < 	and 	a						
    1330.  00:5A56                    < 	call	z,test_collision_enemy_bullets
    1331.  00:5A56                    < 	jp	nc,3f
    1332.  00:5A56                    < 	res 0,(ix+enemy_data.status)	; turn off this bullet
    1333.  00:5A56                    < 	jp	test_obstacles.found		; start ms explosion
    1334.  00:5A56                    < 3:
    1335.  00:5A56                    < 	dec	(ix+enemy_data.cntr)
    1336.  00:5A56                    < 	jp  nz,1f
    1337.  00:5A56                    < 	res 0,(ix+enemy_data.status)
    1338.  00:5A56                    < 1:
    1339.  00:5A56                    < 	exx
    1340.  00:5A56                    < 	add ix,de
    1341.  00:5A56                    < 	endrepeat
    1341.  00:5A56  D9 DD CB 07 46 CA 97 5A DD 6E 01 DD 66 02 DD 5E 
    1341.  00:5A66  0D DD 56 0E 19 DD 75 01 DD 74 02 3A 97 D3 FE 08 
    1341.  00:5A76  28 15 FE 09 28 11 3A 9C D3 A7 CC 40 48 D2 8D 5A 
    1341.  00:5A86  DD CB 07 86 C3 23 5B DD 35 08 C2 97 5A DD CB 07 
    1341.  00:5A96  86 D9 DD 19 D9 DD CB 07 46 CA DB 5A DD 6E 01 DD 
    1341.  00:5AA6  66 02 DD 5E 0D DD 56 0E 19 DD 75 01 DD 74 02 3A 
    1341.  00:5AB6  97 D3 FE 08 28 15 FE 09 28 11 3A 9C D3 A7 CC 40 
    1341.  00:5AC6  48 D2 D1 5A DD CB 07 86 C3 23 5B DD 35 08 C2 DB 
    1341.  00:5AD6  5A DD CB 07 86 D9 DD 19 D9 DD CB 07 46 CA 1F 5B 
    1341.  00:5AE6  DD 6E 01 DD 66 02 DD 5E 0D DD 56 0E 19 DD 75 01 
    1341.  00:5AF6  DD 74 02 3A 97 D3 FE 08 28 15 FE 09 28 11 3A 9C 
    1341.  00:5B06  D3 A7 CC 40 48 D2 15 5B DD CB 07 86 C3 23 5B DD 
    1341.  00:5B16  35 08 C2 1F 5B DD CB 07 86 D9 DD 19 
    1342.  00:5B22  C9                  	ret
    1343.  00:5B23                      
    1344.  00:5B23                      
    1345.  00:5B23                      test_obstacles.found
    1346.  00:5B23  C9                  	ret
      45   00:5B24  (02)                		page 2
      46   02:8000                      ms_spt:
      47   02:8000  (1500)              		incbin ms_demo_frm.bin
      48   02:9500                      
      49   02:9500  (01)                		page 1
      50   01:6000                      		include	"..\TTplayer\code\ttreplay.asm"
       1.  01:6000                      ;=================================
       2.  01:6000                      ; TriloTracker re-player v0.3
       3.  01:6000                      ;
       4.  01:6000                      ; 
       5.  01:6000                      ; Also expects the code to run as a cartridge with SCC mapper
       6.  01:6000                      ;================================
       7.  01:6000                      	
       8.  01:6000                      ;===============================
       9.  01:6000                      ; todo:
      10.  01:6000                      ; - add external SCC support through conditional code.
      11.  01:6000                      ; - add replayer speed up through conditional code.
      12.  01:6000                      ; - optimize replayer code
      13.  01:6000                      ; - instructions for external usage of the RAM variables (setting PSG/SCC base volumes etc)
      14.  01:6000                      
      15.  01:6000                      	
      16.  01:6000                      ;define EXTERNAL_SCC 
      17.  01:6000                      define INTERNAL_SCC	
      18.  01:6000                      	
      19.  01:6000                      	
      20.  01:6000                      ;===========================================================
      21.  01:6000                      ; ---	replay_init
      22.  01:6000                      ; Initialize replayer data
      23.  01:6000                      ; 
      24.  01:6000                      ; Input: none
      25.  01:6000                      ;===========================================================
      26.  01:6000                      replay_init:
      27.  01:6000  3E 08               	ld	a,8
      28.  01:6002  CD 3E 60            	call	replay_set_SCC_balance
      29.  01:6005  3E 08               	ld	a,8
      30.  01:6007  CD 45 60            	call	replay_set_PSG_balance
      31.  01:600A                      
      32.  01:600A  AF                  	xor	a
      33.  01:600B  32 0F C0            	ld	(replay_mode),a	
      34.  01:600E                      	
      35.  01:600E  C9                  	ret
      36.  01:600F                      
      37.  01:600F                      ;===========================================================
      38.  01:600F                      ; ---	replay_pause
      39.  01:600F                      ; Stop/Restart music playback
      40.  01:600F                      ; 
      41.  01:600F                      ; Input: none
      42.  01:600F                      ;===========================================================
      43.  01:600F                      replay_pause:
      44.  01:600F  3A 0F C0            	ld	a,(replay_mode)
      45.  01:6012  A7                  	and	a
      46.  01:6013  CA 24 60            	jp	z,_replay_pause_r
      47.  01:6016                      	;-- stop decding and processing music data
      48.  01:6016  AF                  	xor	a
      49.  01:6017  32 0F C0            	ld	(replay_mode),a
      50.  01:601A                      	;-- set mixers to silence.
      51.  01:601A  3E 3F               	ld 	a,0x3F
      52.  01:601C  32 A6 C1            	ld	(AY_regMIXER),a 
      53.  01:601F  AF                  	xor	a
      54.  01:6020  32 3C C2            	ld	(SCC_regMIXER),a
      55.  01:6023  C9                  	ret
      56.  01:6024                      _replay_pause_r:	
      57.  01:6024                      	;-- enable music decoding and processing
      58.  01:6024  3E 01               	ld	a,1
      59.  01:6026  32 0F C0            	ld	(replay_mode),a
      60.  01:6029  C9                  	ret
      61.  01:602A                      
      62.  01:602A                      	
      63.  01:602A                      ;===========================================================
      64.  01:602A                      ; ---	replay_fade_out
      65.  01:602A                      ; Fade out the music. 
      66.  01:602A                      ; Once the sound is silence the replayer is paused.
      67.  01:602A                      ;
      68.  01:602A                      ; in: [A] fade speed (1 - 255)
      69.  01:602A                      ;===========================================================	
      70.  01:602A                      replay_fade_out:
      71.  01:602A  32 10 C0            	ld	(replay_fade),a
      72.  01:602D  32 11 C0            	ld	(replay_fade_timer),a
      73.  01:6030  AF                  	xor	a
      74.  01:6031  32 12 C0            	ld	(replay_fade_vol),a
      75.  01:6034  C9                  	ret
      76.  01:6035                      
      77.  01:6035                      
      78.  01:6035                      ;===========================================================
      79.  01:6035                      ; ---	replay_transpose
      80.  01:6035                      ; Transposes the whole song. 
      81.  01:6035                      ; TT effect command 'E8y - Global transpose' will undo 
      82.  01:6035                      ; this effect.
      83.  01:6035                      ;
      84.  01:6035                      ; in: [DE] number of halve tones (pos or neg) to transpose. 
      85.  01:6035                      ;===========================================================
      86.  01:6035                      replay_transpose:
      87.  01:6035  21 52 13            	ld	hl,TRACK_ToneTable;(replay_Tonetable)
      88.  01:6038  19                  	add	hl,de	
      89.  01:6039  19                  	add	hl,de
      90.  01:603A  22 18 C0            	ld	(replay_Tonetable),hl	
      91.  01:603D  C9                  	ret
      92.  01:603E                      	
      93.  01:603E                      ;===========================================================
      94.  01:603E                      ; ---	replay_set_SCC_balance
      95.  01:603E                      ; Set the main volume for the SCC chip. This enables for
      96.  01:603E                      ; setting the balance between SCC en PSG as some MSX models 
      97.  01:603E                      ; default balance differs. 
      98.  01:603E                      ;
      99.  01:603E                      ; in: [A] master volume (0-7) 0=halve volume, 7=full volume. 
     100.  01:603E                      ;===========================================================	
     101.  01:603E                      replay_set_SCC_balance:
     102.  01:603E  CD 4C 60            	call	_getnewbalancebase
     103.  01:6041  22 04 C0            	ld	(replay_mainSCCvol),hl	
     104.  01:6044  C9                  	ret
     105.  01:6045                      	
     106.  01:6045                      ;===========================================================
     107.  01:6045                      ; ---	replay_set_PSG_balance
     108.  01:6045                      ; Set the main volume for the PSG chip. This enables for
     109.  01:6045                      ; setting the balance between SCC en PSG as some MSX models 
     110.  01:6045                      ; default balance differs. 
     111.  01:6045                      ;
     112.  01:6045                      ; in: [A] master volume (0-7) 0=halve volume, 7=full volume. 
     113.  01:6045                      ;===========================================================	
     114.  01:6045                      replay_set_PSG_balance:
     115.  01:6045  CD 4C 60            	call	_getnewbalancebase
     116.  01:6048  22 02 C0            	ld	(replay_mainPSGvol),hl	
     117.  01:604B  C9                  	ret
     118.  01:604C                      	
     119.  01:604C                      _getnewbalancebase:
     120.  01:604C  07                  	rlca
     121.  01:604D  07                  	rlca
     122.  01:604E  07                  	rlca
     123.  01:604F  07                  	rlca
     124.  01:6050  21 D2 11            	ld	hl,_VOLUME_TABLE-128
     125.  01:6053  E6 F0               	and	$f0
     126.  01:6055  85                  	add	a,l
     127.  01:6056  6F                  	ld	l,a
     128.  01:6057  D0                  	ret 	nc
     129.  01:6058  24                  	inc	h
     130.  01:6059  C9                  	ret
     131.  01:605A                      	
     132.  01:605A                      	
     133.  01:605A                      	
     134.  01:605A                      	
     135.  01:605A                      	
     136.  01:605A                      	
     137.  01:605A                      ;===========================================================
     138.  01:605A                      ; ---	replay_loadsong
     139.  01:605A                      ; Initialize a song for playback
     140.  01:605A                      ; 
     141.  01:605A                      ; Input [HL] points to start song
     142.  01:605A                      ;===========================================================
     143.  01:605A                      replay_loadsong:
     144.  01:605A                      	;--- Get the start speed.
     145.  01:605A  7E                  	ld	a,(hl)	
     146.  01:605B  23                  	inc	hl
     147.  01:605C  32 0C C0            	ld	(replay_speed),a
     148.  01:605F                      
     149.  01:605F                      	;--- Set waveform start
     150.  01:605F  5E                  	ld	e,(hl)
     151.  01:6060  23                  	inc	hl
     152.  01:6061  56                  	ld 	d,(hl)
     153.  01:6062  23                  	inc	hl
     154.  01:6063  7B                  	ld	a,e				; check for external waveforms
     155.  01:6064  B2                  	or	d
     156.  01:6065  CA 6C 60            	jp	z,.nwu			; is address is $0000 then do not update
     157.  01:6068  ED 53 06 C0         	ld	(replay_wavebase),de
     158.  01:606C                      .nwu:	
     159.  01:606C                      	;--- Set the instrument start
     160.  01:606C  5E                  	ld	e,(hl)
     161.  01:606D  23                  	inc	hl
     162.  01:606E  56                  	ld 	d,(hl)
     163.  01:606F  23                  	inc	hl
     164.  01:6070  7B                  	ld	a,e				; check for external instruments
     165.  01:6071  B2                  	or	d
     166.  01:6072  CA 79 60            	jp	z,.niu			; is address is $0000 then do not update
     167.  01:6075  ED 53 08 C0         	ld	(replay_insbase),de
     168.  01:6079                      .niu:
     169.  01:6079                      	;--- Set track pointers to start
     170.  01:6079  11 8F C1            	ld	de,TRACK_pointer1
     171.  01:607C  01 10 00            	ld	bc,16
     172.  01:607F  ED B0               	ldir
     173.  01:6081  22 0A C0            	ld	(replay_orderpointer),hl		; store pointer for next set
     174.  01:6084                      								; of track pointers
     175.  01:6084                      	;--- Initialize replayer variables.
     176.  01:6084  AF                  	xor	a
     177.  01:6085  32 0D C0            	ld	(replay_speed_subtimer),a
     178.  01:6088  32 1A C0            	ld	(replay_morph_active),a
     179.  01:608B  32 5E C0            	ld	(replay_morph_waveform),a
     180.  01:608E                      	
     181.  01:608E                      	;--- Erase channel data	in RAM
     182.  01:608E  01 2F 01            	ld	bc,TRACK_REC_SIZE*8-1
     183.  01:6091  21 5F C0            	ld	hl,TRACK_Chan1
     184.  01:6094  11 60 C0            	ld	de,TRACK_Chan1+1
     185.  01:6097  77                  	ld	(hl),a
     186.  01:6098  ED B0               	ldir
     187.  01:609A                      	
     188.  01:609A                      	;--- Silence the chips
     189.  01:609A  32 3C C2            	ld	(SCC_regMIXER),a
     190.  01:609D  32 A7 C1            	ld	(AY_regVOLA),a
     191.  01:60A0  32 A8 C1            	ld	(AY_regVOLB),a	
     192.  01:60A3  32 A9 C1            	ld	(AY_regVOLC),a
     193.  01:60A6  32 A5 C1            	ld	(AY_regNOISE),a
     194.  01:60A9  3E 3F               	ld	a,0x3f
     195.  01:60AB  32 A6 C1            	ld	(AY_regMIXER),a
     196.  01:60AE                      
     197.  01:60AE                      	;--- Set vibrato table
     198.  01:60AE  21 12 14            	ld	hl,TRACK_Vibrato_sine
     199.  01:60B1  22 16 C0            	ld	(replay_vib_table),hl
     200.  01:60B4                      	
     201.  01:60B4                      	;--- Set the tone table base
     202.  01:60B4  21 52 13            	ld	hl,TRACK_ToneTable
     203.  01:60B7  22 18 C0            	ld	(replay_Tonetable),hl
     204.  01:60BA                      
     205.  01:60BA  3E 01               	ld	a,1
     206.  01:60BC  32 0E C0            	ld	(replay_speed_timer),a
     207.  01:60BF  32 1B C0            	ld	(replay_morph_timer),a
     208.  01:60C2  32 1C C0            	ld	(replay_morph_speed),a
     209.  01:60C5  32 81 C0            	ld	(TRACK_Chan1+17+TRACK_Delay),a	
     210.  01:60C8  32 A7 C0            	ld	(TRACK_Chan2+17+TRACK_Delay),a		
     211.  01:60CB  32 CD C0            	ld	(TRACK_Chan3+17+TRACK_Delay),a	
     212.  01:60CE  32 F3 C0            	ld	(TRACK_Chan4+17+TRACK_Delay),a	
     213.  01:60D1  32 19 C1            	ld	(TRACK_Chan5+17+TRACK_Delay),a		
     214.  01:60D4  32 3F C1            	ld	(TRACK_Chan6+17+TRACK_Delay),a		
     215.  01:60D7  32 65 C1            	ld	(TRACK_Chan7+17+TRACK_Delay),a		
     216.  01:60DA  32 8B C1            	ld	(TRACK_Chan8+17+TRACK_Delay),a	
     217.  01:60DD                      	
     218.  01:60DD  3E FE               	ld	a,254
     219.  01:60DF  32 5F C0            	ld	(TRACK_Chan1+17+TRACK_Instrument),a	
     220.  01:60E2  32 85 C0            	ld	(TRACK_Chan2+17+TRACK_Instrument),a		
     221.  01:60E5  32 AB C0            	ld	(TRACK_Chan3+17+TRACK_Instrument),a	
     222.  01:60E8  32 D1 C0            	ld	(TRACK_Chan4+17+TRACK_Instrument),a	
     223.  01:60EB  32 F7 C0            	ld	(TRACK_Chan5+17+TRACK_Instrument),a		
     224.  01:60EE  32 1D C1            	ld	(TRACK_Chan6+17+TRACK_Instrument),a		
     225.  01:60F1  32 43 C1            	ld	(TRACK_Chan7+17+TRACK_Instrument),a		
     226.  01:60F4  32 69 C1            	ld	(TRACK_Chan8+17+TRACK_Instrument),a	
     227.  01:60F7                      
     228.  01:60F7                      IFDEF	EXTERNAL_SCC	
     229.  01:60F7                    ~ 	;--- Init the SCC	(waveforms too)
     230.  01:60F7                    ~ 	ld	a,(SCC_slot)
     231.  01:60F7                    ~ 	ld	h,0x80
     232.  01:60F7                    ~ 	call enaslt
     233.  01:60F7                    ~ ENDIF
     234.  01:60F7                      	
     235.  01:60F7  3E FF               	ld	a,255
     236.  01:60F9  32 DA C0            	ld	(TRACK_Chan4+17+TRACK_Waveform),a
     237.  01:60FC  32 00 C1            	ld	(TRACK_Chan5+17+TRACK_Waveform),a
     238.  01:60FF  32 26 C1            	ld	(TRACK_Chan6+17+TRACK_Waveform),a	
     239.  01:6102  32 4C C1            	ld	(TRACK_Chan7+17+TRACK_Waveform),a	
     240.  01:6105  3E 80               	ld	a,128
     241.  01:6107  32 DB C0            	ld	(TRACK_Chan4+17+TRACK_Flags),a
     242.  01:610A  32 01 C1            	ld	(TRACK_Chan5+17+TRACK_Flags),a
     243.  01:610D  32 27 C1            	ld	(TRACK_Chan6+17+TRACK_Flags),a	
     244.  01:6110  32 4D C1            	ld	(TRACK_Chan7+17+TRACK_Flags),a	
     245.  01:6113                      	
     246.  01:6113  CD 42 6B            	call scc_reg_update
     247.  01:6116                      	
     248.  01:6116                      IFDEF	EXTERNAL_SCC	
     249.  01:6116                    ~ 	ld	a,(mapper_slot)				
     250.  01:6116                    ~ 	ld	h,0x80
     251.  01:6116                    ~ 	call enaslt
     252.  01:6116                    ~ ENDIF	
     253.  01:6116                      
     254.  01:6116  CD B9 6A            	call	replay_route
     255.  01:6119                      	
     256.  01:6119                      	; end	is here
     257.  01:6119  3E 01               	ld	a,1
     258.  01:611B  32 0F C0            	ld	(replay_mode),a	
     259.  01:611E  C9                  	ret
     260.  01:611F                      
     261.  01:611F                      
     262.  01:611F                      
     263.  01:611F                      _replay_check_patternend:
     264.  01:611F  3A 81 C0            	ld 	a,(TRACK_Chan1+17+TRACK_Delay)
     265.  01:6122  3D                  	dec	a
     266.  01:6123  C2 85 62            	jp	nz,replay_decodedata_NO
     267.  01:6126                      	
     268.  01:6126  2A 8F C1            	ld	hl,(TRACK_pointer1)
     269.  01:6129  7E                  	ld	a,(hl)
     270.  01:612A                      	
     271.  01:612A                      	;--- check for end of pattern
     272.  01:612A  FE BF               	cp	191	
     273.  01:612C  C2 85 62            	jp	nz,replay_decodedata_NO
     274.  01:612F                      
     275.  01:612F                      	;--- Set track pointers to start
     276.  01:612F  2A 0A C0            	ld	hl,(replay_orderpointer)
     277.  01:6132  AF                  	xor	a
     278.  01:6133  BE                  	cp	(hl)
     279.  01:6134  C2 43 61            	jp	nz,.no_restart
     280.  01:6137  23                  	inc	hl
     281.  01:6138  BE                  	cp	(hl)
     282.  01:6139  2B                  	dec	hl
     283.  01:613A  C2 43 61            	jp	nz,.no_restart
     284.  01:613D                      	;--- next is restart order
     285.  01:613D  23                  	inc	hl
     286.  01:613E  23                  	inc	hl
     287.  01:613F  7E                  	ld	a,(hl)
     288.  01:6140  23                  	inc	hl
     289.  01:6141  66                  	ld	h,(hl)
     290.  01:6142  6F                  	ld	l,a
     291.  01:6143                      .no_restart:	
     292.  01:6143  11 8F C1            	ld	de,TRACK_pointer1
     293.  01:6146  01 10 00            	ld	bc,16
     294.  01:6149  ED B0               	ldir
     295.  01:614B  22 0A C0            	ld	(replay_orderpointer),hl		; store pointer for next set
     296.  01:614E                      								; of strack pointers
     297.  01:614E  C3 85 62            	jp	replay_decodedata_NO
     298.  01:6151                      
     299.  01:6151                      
     300.  01:6151                      ;===========================================================
     301.  01:6151                      ; ---	replay_play
     302.  01:6151                      ; Decode music data and process instruments and effects. 
     303.  01:6151                      ; Music chip registers will be prepared for replay_route 
     304.  01:6151                      ;
     305.  01:6151                      ; Input none
     306.  01:6151                      ;===========================================================	
     307.  01:6151                      replay_play:
     308.  01:6151  3A 0F C0            	ld	a,(replay_mode)
     309.  01:6154  A7                  	and	a
     310.  01:6155  C8                  	ret	z		; replay mode = 0	; halted
     311.  01:6156                      				
     312.  01:6156                      				; replay mode = 1	; active
     313.  01:6156                      	;--- The speed timer
     314.  01:6156  21 0E C0            	ld	hl,replay_speed_timer
     315.  01:6159  35                  	dec	(hl)
     316.  01:615A                      
     317.  01:615A  C2 1F 61            	jp	nz,_replay_check_patternend	
     318.  01:615D                      	
     319.  01:615D                      	;--- Re-init Timer == 0
     320.  01:615D  AF                  	xor	a
     321.  01:615E  ED 4B 0C C0         	ld	bc,(replay_speed)		; [b]	subtimer [c] speed
     322.  01:6162  CB 39               	srl	c				; bit	0 is halve speedstep
     323.  01:6164  8F                  	adc	a,a
     324.  01:6165  A8                  	xor	b				; alternate	speed	to have halve speed.
     325.  01:6166  32 0D C0            	ld	(replay_speed_subtimer),a
     326.  01:6169  81                  	add	c
     327.  01:616A  32 0E C0            	ld	(replay_speed_timer),a
     328.  01:616D                      ;===========================================================
     329.  01:616D                      ; ---	replay_decodedata
     330.  01:616D                      ; Process the patterndata 
     331.  01:616D                      ;===========================================================
     332.  01:616D                      replay_decodedata:
     333.  01:616D                      	;--- process the channels (tracks)
     334.  01:616D  21 81 C0            	ld 	hl,TRACK_Chan1+17+TRACK_Delay
     335.  01:6170  35                  	dec	(hl)
     336.  01:6171  C2 90 61            	jp	nz,.decode2
     337.  01:6174                      
     338.  01:6174  3A 69 C0            	ld	a,(TRACK_Chan1+17+TRACK_Flags)
     339.  01:6177  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     340.  01:6179  57                  	ld	d,a
     341.  01:617A  3A 66 C0            	ld	a,(TRACK_Chan1+17+TRACK_Note)	
     342.  01:617D  DD 21 70 C0         	ld	ix,TRACK_Chan1+17
     343.  01:6181  ED 4B 8F C1         	ld	bc,(TRACK_pointer1)
     344.  01:6185  CD AC 63            	call	replay_decode_chan
     345.  01:6188  ED 43 8F C1         	ld	(TRACK_pointer1),bc
     346.  01:618C  7A                  	ld	a,d
     347.  01:618D  32 69 C0            	ld	(TRACK_Chan1+17+TRACK_Flags),a	
     348.  01:6190                      
     349.  01:6190                      .decode2:	
     350.  01:6190  21 A7 C0            	ld 	hl,TRACK_Chan2+17+TRACK_Delay
     351.  01:6193  35                  	dec	(hl)
     352.  01:6194  C2 B3 61            	jp	nz,.decode3
     353.  01:6197                      
     354.  01:6197  3A 8F C0            	ld	a,(TRACK_Chan2+17+TRACK_Flags)
     355.  01:619A  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     356.  01:619C  57                  	ld	d,a
     357.  01:619D  3A 8C C0            	ld	a,(TRACK_Chan2+17+TRACK_Note)	
     358.  01:61A0  DD 21 96 C0         	ld	ix,TRACK_Chan2+17
     359.  01:61A4  ED 4B 91 C1         	ld	bc,(TRACK_pointer2)
     360.  01:61A8  CD AC 63            	call	replay_decode_chan
     361.  01:61AB  ED 43 91 C1         	ld	(TRACK_pointer2),bc
     362.  01:61AF  7A                  	ld	a,d				;'
     363.  01:61B0  32 8F C0            	ld	(TRACK_Chan2+17+TRACK_Flags),a	
     364.  01:61B3                      
     365.  01:61B3                      .decode3:
     366.  01:61B3  21 CD C0            	ld 	hl,TRACK_Chan3+17+TRACK_Delay
     367.  01:61B6  35                  	dec	(hl)
     368.  01:61B7  C2 D6 61            	jp	nz,.decode4
     369.  01:61BA                      
     370.  01:61BA  3A B5 C0            	ld	a,(TRACK_Chan3+17+TRACK_Flags)
     371.  01:61BD  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     372.  01:61BF  57                  	ld	d,a		;'
     373.  01:61C0  3A B2 C0            	ld	a,(TRACK_Chan3+17+TRACK_Note)	
     374.  01:61C3  DD 21 BC C0         	ld	ix,TRACK_Chan3+17
     375.  01:61C7  ED 4B 93 C1         	ld	bc,(TRACK_pointer3)
     376.  01:61CB  CD AC 63            	call	replay_decode_chan
     377.  01:61CE  ED 43 93 C1         	ld	(TRACK_pointer3),bc
     378.  01:61D2  7A                  	ld	a,d				;'
     379.  01:61D3  32 B5 C0            	ld	(TRACK_Chan3+17+TRACK_Flags),a	
     380.  01:61D6                      
     381.  01:61D6                      .decode4:
     382.  01:61D6  21 F3 C0            	ld 	hl,TRACK_Chan4+17+TRACK_Delay
     383.  01:61D9  35                  	dec	(hl)
     384.  01:61DA  C2 F9 61            	jp	nz,.decode5
     385.  01:61DD                      
     386.  01:61DD  3A DB C0            	ld	a,(TRACK_Chan4+17+TRACK_Flags)
     387.  01:61E0  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     388.  01:61E2  57                  	ld 	d,a		;'
     389.  01:61E3  3A D8 C0            	ld	a,(TRACK_Chan4+17+TRACK_Note)	
     390.  01:61E6  DD 21 E2 C0         	ld	ix,TRACK_Chan4+17
     391.  01:61EA  ED 4B 95 C1         	ld	bc,(TRACK_pointer4)
     392.  01:61EE  CD AC 63            	call	replay_decode_chan
     393.  01:61F1  ED 43 95 C1         	ld	(TRACK_pointer4),bc
     394.  01:61F5  7A                  	ld	a,d			;'
     395.  01:61F6  32 DB C0            	ld	(TRACK_Chan4+17+TRACK_Flags),a	
     396.  01:61F9                      
     397.  01:61F9                      
     398.  01:61F9                      .decode5:
     399.  01:61F9  21 19 C1            	ld 	hl,TRACK_Chan5+17+TRACK_Delay
     400.  01:61FC  35                  	dec	(hl)
     401.  01:61FD  C2 1C 62            	jp	nz,.decode6
     402.  01:6200                      
     403.  01:6200  3A 01 C1            	ld	a,(TRACK_Chan5+17+TRACK_Flags)
     404.  01:6203  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     405.  01:6205  57                  	ld	d,a		;'
     406.  01:6206  3A FE C0            	ld	a,(TRACK_Chan5+17+TRACK_Note)	
     407.  01:6209  DD 21 08 C1         	ld	ix,TRACK_Chan5+17
     408.  01:620D  ED 4B 97 C1         	ld	bc,(TRACK_pointer5)
     409.  01:6211  CD AC 63            	call	replay_decode_chan
     410.  01:6214  ED 43 97 C1         	ld	(TRACK_pointer5),bc
     411.  01:6218  7A                  	ld	a,d			;'
     412.  01:6219  32 01 C1            	ld	(TRACK_Chan5+17+TRACK_Flags),a	
     413.  01:621C                      
     414.  01:621C                      
     415.  01:621C                      .decode6:
     416.  01:621C  21 3F C1            	ld 	hl,TRACK_Chan6+17+TRACK_Delay
     417.  01:621F  35                  	dec	(hl)
     418.  01:6220  C2 3F 62            	jp	nz,.decode7
     419.  01:6223                      
     420.  01:6223  3A 27 C1            	ld	a,(TRACK_Chan6+17+TRACK_Flags)
     421.  01:6226  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     422.  01:6228  57                  	ld	d,a		;'
     423.  01:6229  3A 24 C1            	ld	a,(TRACK_Chan6+17+TRACK_Note)	
     424.  01:622C  DD 21 2E C1         	ld	ix,TRACK_Chan6+17
     425.  01:6230  ED 4B 99 C1         	ld	bc,(TRACK_pointer6)
     426.  01:6234  CD AC 63            	call	replay_decode_chan
     427.  01:6237  ED 43 99 C1         	ld	(TRACK_pointer6),bc
     428.  01:623B  7A                  	ld	a,d				;'
     429.  01:623C  32 27 C1            	ld	(TRACK_Chan6+17+TRACK_Flags),a	
     430.  01:623F                      
     431.  01:623F                      
     432.  01:623F                      .decode7:
     433.  01:623F  21 65 C1            	ld 	hl,TRACK_Chan7+17+TRACK_Delay
     434.  01:6242  35                  	dec	(hl)
     435.  01:6243  C2 62 62            	jp	nz,.decode8
     436.  01:6246                      
     437.  01:6246  3A 4D C1            	ld	a,(TRACK_Chan7+17+TRACK_Flags)
     438.  01:6249  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     439.  01:624B  57                  	ld	d,a		;'
     440.  01:624C  3A 4A C1            	ld	a,(TRACK_Chan7+17+TRACK_Note)	
     441.  01:624F  DD 21 54 C1         	ld	ix,TRACK_Chan7+17
     442.  01:6253  ED 4B 9B C1         	ld	bc,(TRACK_pointer7)
     443.  01:6257  CD AC 63            	call	replay_decode_chan
     444.  01:625A  ED 43 9B C1         	ld	(TRACK_pointer7),bc
     445.  01:625E  7A                  	ld	a,d				;'
     446.  01:625F  32 4D C1            	ld	(TRACK_Chan7+17+TRACK_Flags),a	
     447.  01:6262                      
     448.  01:6262                      
     449.  01:6262                      .decode8:
     450.  01:6262  21 8B C1            	ld 	hl,TRACK_Chan8+17+TRACK_Delay
     451.  01:6265  35                  	dec	(hl)
     452.  01:6266  C2 85 62            	jp	nz,.decode_end
     453.  01:6269                      
     454.  01:6269  3A 73 C1            	ld	a,(TRACK_Chan8+17+TRACK_Flags)
     455.  01:626C  E6 F3               	and	11110011b		; reset B_TRGENV and B_TRGCMD
     456.  01:626E  57                  	ld	d,a		;'
     457.  01:626F  3A 70 C1            	ld	a,(TRACK_Chan8+17+TRACK_Note)	
     458.  01:6272  DD 21 7A C1         	ld	ix,TRACK_Chan8+17
     459.  01:6276  ED 4B 9D C1         	ld	bc,(TRACK_pointer8)
     460.  01:627A  CD AC 63            	call	replay_decode_chan
     461.  01:627D  ED 43 9D C1         	ld	(TRACK_pointer8),bc
     462.  01:6281  7A                  	ld	a,d				;'
     463.  01:6282  32 73 C1            	ld	(TRACK_Chan8+17+TRACK_Flags),a
     464.  01:6285                      		
     465.  01:6285                      .decode_end:
     466.  01:6285                      	; continue to process data
     467.  01:6285                      ;===========================================================
     468.  01:6285                      ; ---	replay_decodedata_NO
     469.  01:6285                      ; Process changes.
     470.  01:6285                      ; 
     471.  01:6285                      ; 
     472.  01:6285                      ;===========================================================
     473.  01:6285                      replay_decodedata_NO:
     474.  01:6285                      	;---- morph routine here
     475.  01:6285  3A 1A C0            	ld	a,(replay_morph_active)
     476.  01:6288  A7                  	and	a
     477.  01:6289  C4 9C 6B            	call	nz,replay_process_morph
     478.  01:628C                      
     479.  01:628C                      	;--- Initialize PSG Mixer and volume
     480.  01:628C  AF                  	xor	a
     481.  01:628D  32 3C C2            	ld	(SCC_regMIXER),a
     482.  01:6290                      
     483.  01:6290                      	;--- PSG balance
     484.  01:6290  2A 02 C0            	ld	hl,(replay_mainPSGvol)
     485.  01:6293  22 14 C0            	ld	(replay_mainvol),hl
     486.  01:6296                      
     487.  01:6296                      	;--- Process track 1
     488.  01:6296  DD 21 70 C0         	ld	ix,TRACK_Chan1+17
     489.  01:629A  3A 69 C0            	ld	a,(TRACK_Chan1+17+TRACK_Flags)
     490.  01:629D  57                  	ld	d,a
     491.  01:629E  CD DF 66            	call	replay_process_chan_AY
     492.  01:62A1  22 9F C1            	ld	(AY_regToneA),hl
     493.  01:62A4  7A                  	ld	a,d
     494.  01:62A5  32 69 C0            	ld	(TRACK_Chan1+17+TRACK_Flags),a	
     495.  01:62A8  3A 3B C2            	ld	a,(SCC_regVOLE)
     496.  01:62AB  32 A7 C1            	ld	(AY_regVOLA),a	
     497.  01:62AE                      
     498.  01:62AE                      	;--- Process track 2
     499.  01:62AE  DD 21 96 C0         	ld	ix,TRACK_Chan2+17
     500.  01:62B2  3A 8F C0            	ld	a,(TRACK_Chan2+17+TRACK_Flags)
     501.  01:62B5  57                  	ld	d,a
     502.  01:62B6  CD DF 66            	call	replay_process_chan_AY
     503.  01:62B9  22 A1 C1            	ld	(AY_regToneB),hl
     504.  01:62BC  7A                  	ld	a,d
     505.  01:62BD  32 8F C0            	ld	(TRACK_Chan2+17+TRACK_Flags),a	
     506.  01:62C0  3A 3B C2            	ld	a,(SCC_regVOLE)
     507.  01:62C3  32 A8 C1            	ld	(AY_regVOLB),a	
     508.  01:62C6                      
     509.  01:62C6                      	;--- Process track 3	
     510.  01:62C6  DD 21 BC C0         	ld	ix,TRACK_Chan3+17
     511.  01:62CA  3A B5 C0            	ld	a,(TRACK_Chan3+17+TRACK_Flags)
     512.  01:62CD  57                  	ld	d,a
     513.  01:62CE  CD DF 66            	call	replay_process_chan_AY
     514.  01:62D1  22 A3 C1            	ld	(AY_regToneC),hl
     515.  01:62D4  7A                  	ld	a,d
     516.  01:62D5  32 B5 C0            	ld	(TRACK_Chan3+17+TRACK_Flags),a	
     517.  01:62D8  3A 3B C2            	ld	a,(SCC_regVOLE)
     518.  01:62DB  32 A9 C1            	ld	(AY_regVOLC),a
     519.  01:62DE                      	
     520.  01:62DE                      	;--- To disable track 3 just comment above lines (9 lines) and enable below 2 lines.
     521.  01:62DE                      	;    This can be done for all tracks.
     522.  01:62DE                      ;	ld	hl,SCC_regMIXER   
     523.  01:62DE                      ;	srl	(hl)
     524.  01:62DE                      
     525.  01:62DE                      	
     526.  01:62DE                      
     527.  01:62DE                      	;-- Convert mixer to AY
     528.  01:62DE  3A 3C C2            	ld	a,(SCC_regMIXER)		
     529.  01:62E1  CB 3F               	srl	a
     530.  01:62E3  CB 3F               	srl	a
     531.  01:62E5  EE 3F               	xor	0x3f
     532.  01:62E7  32 A6 C1            	ld	(AY_regMIXER),a
     533.  01:62EA                      
     534.  01:62EA                      
     535.  01:62EA                      	;--- set SCC balance
     536.  01:62EA  2A 04 C0            	ld	hl,(replay_mainSCCvol)
     537.  01:62ED  22 14 C0            	ld	(replay_mainvol),hl
     538.  01:62F0                      
     539.  01:62F0                      	
     540.  01:62F0  FD 26 00            	ld	iyh,0			; iyh stores the SCC chan#
     541.  01:62F3                      					; used for waveform updates
     542.  01:62F3                      	;--- Process track 4
     543.  01:62F3  DD 21 E2 C0         	ld	ix,TRACK_Chan4+17
     544.  01:62F7  3A DB C0            	ld	a,(TRACK_Chan4+17+TRACK_Flags)
     545.  01:62FA  57                  	ld	d,a
     546.  01:62FB  CD DF 66            	call	replay_process_chan_AY
     547.  01:62FE  22 2D C2            	ld	(SCC_regToneA),hl
     548.  01:6301  7A                  	ld	a,d
     549.  01:6302  32 DB C0            	ld	(TRACK_Chan4+17+TRACK_Flags),a	
     550.  01:6305  3A 3B C2            	ld	a,(SCC_regVOLE)
     551.  01:6308  32 37 C2            	ld	(SCC_regVOLA),a	
     552.  01:630B                      
     553.  01:630B                      	;--- Process track 5
     554.  01:630B  FD 24               	inc	iyh
     555.  01:630D                      	
     556.  01:630D  DD 21 08 C1         	ld	ix,TRACK_Chan5+17
     557.  01:6311  3A 01 C1            	ld	a,(TRACK_Chan5+17+TRACK_Flags)
     558.  01:6314  57                  	ld	d,a
     559.  01:6315  CD DF 66            	call	replay_process_chan_AY
     560.  01:6318  22 2F C2            	ld	(SCC_regToneB),hl
     561.  01:631B  7A                  	ld	a,d
     562.  01:631C  32 01 C1            	ld	(TRACK_Chan5+17+TRACK_Flags),a	
     563.  01:631F  3A 3B C2            	ld	a,(SCC_regVOLE)
     564.  01:6322  32 38 C2            	ld	(SCC_regVOLB),a	
     565.  01:6325                      
     566.  01:6325                      	;--- Process track 6
     567.  01:6325  FD 24               	inc	iyh
     568.  01:6327                      		
     569.  01:6327  DD 21 2E C1         	ld	ix,TRACK_Chan6+17
     570.  01:632B  3A 27 C1            	ld	a,(TRACK_Chan6+17+TRACK_Flags)
     571.  01:632E  57                  	ld	d,a
     572.  01:632F  CD DF 66            	call	replay_process_chan_AY
     573.  01:6332  22 31 C2            	ld	(SCC_regToneC),hl
     574.  01:6335  7A                  	ld	a,d
     575.  01:6336  32 27 C1            	ld	(TRACK_Chan6+17+TRACK_Flags),a	
     576.  01:6339  3A 3B C2            	ld	a,(SCC_regVOLE)
     577.  01:633C  32 39 C2            	ld	(SCC_regVOLC),a	
     578.  01:633F                      
     579.  01:633F                      	;--- Process track 7
     580.  01:633F  FD 24               	inc	iyh
     581.  01:6341                      		
     582.  01:6341  DD 21 54 C1         	ld	ix,TRACK_Chan7+17
     583.  01:6345  3A 4D C1            	ld	a,(TRACK_Chan7+17+TRACK_Flags)
     584.  01:6348  57                  	ld	d,a
     585.  01:6349  CD DF 66            	call	replay_process_chan_AY
     586.  01:634C  22 33 C2            	ld	(SCC_regToneD),hl
     587.  01:634F  7A                  	ld	a,d
     588.  01:6350  32 4D C1            	ld	(TRACK_Chan7+17+TRACK_Flags),a	
     589.  01:6353  3A 3B C2            	ld	a,(SCC_regVOLE)
     590.  01:6356  32 3A C2            	ld	(SCC_regVOLD),a		
     591.  01:6359                      
     592.  01:6359                      	;--- Process track 8
     593.  01:6359                      ;	inc	iyh			; no waveform for SCC channel 5
     594.  01:6359                      		
     595.  01:6359  DD 21 7A C1         	ld	ix,TRACK_Chan8+17
     596.  01:635D  3A 73 C1            	ld	a,(TRACK_Chan8+17+TRACK_Flags)
     597.  01:6360  57                  	ld	d,a
     598.  01:6361  CD DF 66            	call	replay_process_chan_AY
     599.  01:6364  22 35 C2            	ld	(SCC_regToneE),hl
     600.  01:6367  7A                  	ld	a,d
     601.  01:6368  32 73 C1            	ld	(TRACK_Chan8+17+TRACK_Flags),a	
     602.  01:636B                      
     603.  01:636B                      	;-- Fade out processing
     604.  01:636B  3A 10 C0            	ld	a,(replay_fade)
     605.  01:636E  A7                  	and	a
     606.  01:636F  C8                  	ret	z	; if replay fade = 0 then no fade active
     607.  01:6370                      	
     608.  01:6370                      	; decrease fade timer
     609.  01:6370  3A 11 C0            	ld	a,(replay_fade_timer)
     610.  01:6373  3D                  	dec	a
     611.  01:6374  C2 8D 63            	jp	nz,.no_new_step
     612.  01:6377                      
     613.  01:6377  3A 12 C0            	ld	a,(replay_fade_vol)
     614.  01:637A  3C                  	inc	a
     615.  01:637B  FE 10               	cp	16
     616.  01:637D  DA 87 63            	jp	c,.cont_fadeing
     617.  01:6380  AF                  	xor	a
     618.  01:6381  32 10 C0            	ld	(replay_fade),a
     619.  01:6384  C3 0F 60            	jp	replay_pause
     620.  01:6387                      .cont_fadeing:	
     621.  01:6387  32 12 C0            	ld	(replay_fade_vol),a
     622.  01:638A  3A 10 C0            	ld	a,(replay_fade)
     623.  01:638D                      .no_new_step:
     624.  01:638D  32 11 C0            	ld	(replay_fade_timer),a
     625.  01:6390                      
     626.  01:6390  3A 12 C0            	ld	a,(replay_fade_vol)
     627.  01:6393  4F                  	ld	c,a
     628.  01:6394  06 03               	ld	b,3
     629.  01:6396  21 A7 C1            	ld	hl,AY_regVOLA
     630.  01:6399  CD A1 63            	call	.calc_vol
     631.  01:639C  06 05               	ld	b,5
     632.  01:639E  21 37 C2            	ld	hl,SCC_regVOLA
     633.  01:63A1                      
     634.  01:63A1                      .calc_vol:	
     635.  01:63A1  7E                  	ld	a,(hl)
     636.  01:63A2  91                  	sub	c
     637.  01:63A3  D2 A7 63            	jp	nc,.no_carry
     638.  01:63A6  AF                  	xor	a
     639.  01:63A7                      .no_carry:	
     640.  01:63A7  77                  	ld	(hl),a
     641.  01:63A8  23                  	inc	hl
     642.  01:63A9  10 F6               	djnz	.calc_vol
     643.  01:63AB  C9                  	ret
     644.  01:63AC                      
     645.  01:63AC                      
     646.  01:63AC                      	
     647.  01:63AC                      replay_decode_chan:
     648.  01:63AC                      	;--- initialize data
     649.  01:63AC                      ;	ld	a,(ix+TRACK_Note)
     650.  01:63AC  32 13 C0            	ld	(replay_previous_note),a
     651.  01:63AF                      
     652.  01:63AF                      	;--- Check if retrig has ended
     653.  01:63AF  DD 35 13            	dec	(ix+TRACK_Retrig)
     654.  01:63B2  C2 B9 63            	jp	nz,.skip_retrig_reset
     655.  01:63B5  DD CB F9 9E         	res 	B_TRGCMD,(ix+TRACK_Flags)
     656.  01:63B9                      
     657.  01:63B9                      .skip_retrig_reset:
     658.  01:63B9                      	;=============
     659.  01:63B9                      	; Note 
     660.  01:63B9                      	;=============
     661.  01:63B9  0A                  	ld	a,(bc)
     662.  01:63BA  FE 60               	cp	96
     663.  01:63BC                      
     664.  01:63BC  DA FD 63            	jp	c,_replay_decode_note
     665.  01:63BF  CA 09 64            	jp	z,_replay_decode_rest
     666.  01:63C2  FE 70               _rdn2:cp	112;128
     667.  01:63C4  DA 4B 64            	jp	c,_replay_decode_vol
     668.  01:63C7  FE 8F               _rdv2:cp	143
     669.  01:63C9  DA 12 64            	jp	c,_replay_decode_ins
     670.  01:63CC                      _rdi2:
     671.  01:63CC  FE BF               	cp	191
     672.  01:63CE  D2 60 64            	jp	nc,_replay_decode_delay
     673.  01:63D1  DA 6D 64            	jp	c,_replay_decode_cmd
     674.  01:63D4                      
     675.  01:63D4                      _rdn:
     676.  01:63D4  FE 61               	cp	97
     677.  01:63D6  DA F6 63            	jp	c,_rd_delay
     678.  01:63D9  C3 C2 63            	jp	_rdn2
     679.  01:63DC                      
     680.  01:63DC                      _rdi:
     681.  01:63DC  FE 8F               	cp	143
     682.  01:63DE  DA F6 63            	jp	c,_rd_delay
     683.  01:63E1  C3 CC 63            	jp	_rdi2
     684.  01:63E4                      
     685.  01:63E4                      _rdv:
     686.  01:63E4  FE 70               	cp	112
     687.  01:63E6  DA F6 63            	jp	c,_rd_delay
     688.  01:63E9  C3 C7 63            	jp	_rdv2
     689.  01:63EC                      _rdc:
     690.  01:63EC  03                  	inc	bc
     691.  01:63ED  0A                  	ld	a,(bc)
     692.  01:63EE  FE BF               	cp	191
     693.  01:63F0  DA F6 63            	jp	c,_rd_delay
     694.  01:63F3  C3 60 64            	jp	_replay_decode_delay
     695.  01:63F6                      
     696.  01:63F6                      	;--- re-init previous delay
     697.  01:63F6                      _rd_delay:
     698.  01:63F6  DD 7E 12            	ld	a,(ix+TRACK_prevDelay)
     699.  01:63F9  DD 77 11            	ld	(ix+TRACK_Delay),a
     700.  01:63FC                      
     701.  01:63FC  C9                  	ret
     702.  01:63FD                      
     703.  01:63FD                      
     704.  01:63FD                      
     705.  01:63FD                      _replay_decode_note:
     706.  01:63FD  DD 77 F6            	ld	(ix+TRACK_Note),a
     707.  01:6400  CB C2               	set 	B_TRGNOT,d
     708.  01:6402  CB A2               	res	B_ACTMOR,d
     709.  01:6404                      
     710.  01:6404  03                  	inc	bc
     711.  01:6405  0A                  	ld	a,(bc)
     712.  01:6406  C3 D4 63            	jp	_rdn
     713.  01:6409                      	
     714.  01:6409                      _replay_decode_rest:
     715.  01:6409  CB 8A               	res	B_ACTNOT,d				; set	note bit to	0
     716.  01:640B  CB A2               	res	B_ACTMOR,d				; reset morph slave mode
     717.  01:640D                      
     718.  01:640D  03                  	inc	bc
     719.  01:640E  0A                  	ld	a,(bc)
     720.  01:640F  C3 D4 63            	jp	_rdn
     721.  01:6412                      
     722.  01:6412                      _replay_decode_ins:
     723.  01:6412  CB A2               	res	B_ACTMOR,d				; reset morph slave mode
     724.  01:6414  D6 70               	sub	112;97
     725.  01:6416  DD BE EF            	cp	(ix+TRACK_Instrument)
     726.  01:6419  CA 46 64            	jp	z,.skip_ins
     727.  01:641C                      	
     728.  01:641C  DD 77 EF            	ld	(ix+TRACK_Instrument),a
     729.  01:641F                      
     730.  01:641F                      	;--- set instrument pointer
     731.  01:641F  87                  	add	a
     732.  01:6420  2A 08 C0            	ld	hl,(replay_insbase)
     733.  01:6423  85                  	add	a,l
     734.  01:6424  6F                  	ld	l,a
     735.  01:6425  D2 29 64            	jp	nc,.skip
     736.  01:6428  24                  	inc	h
     737.  01:6429                      .skip:
     738.  01:6429  7E                  	ld	a,(hl)
     739.  01:642A  23                  	inc	hl
     740.  01:642B  66                  	ld	h,(hl)
     741.  01:642C  6F                  	ld	l,a
     742.  01:642D                      
     743.  01:642D                      	;-- get waveform
     744.  01:642D  7E                  	ld	a,(hl)
     745.  01:642E  23                  	inc	hl
     746.  01:642F                      	
     747.  01:642F                      ;	ld	e,(hl)
     748.  01:642F                      ;	inc	hl
     749.  01:642F                      
     750.  01:642F                      	;---- Store the restart offset
     751.  01:642F                      ;	ld	(ix+TRACK_MacroRestart),e
     752.  01:642F                      	;--- Store the macro start
     753.  01:642F  DD 75 F1            	ld	(ix+TRACK_MacroPointer),l
     754.  01:6432  DD 74 F2            	ld	(ix+TRACK_MacroPointer+1),h	
     755.  01:6435                      	;--- Store the macro re-start
     756.  01:6435  DD 75 F3            	ld	(ix+TRACK_MacroStart),l
     757.  01:6438  DD 74 F4            	ld	(ix+TRACK_MacroStart+1),h		
     758.  01:643B                      	;--- Set the waveform  (if needed)
     759.  01:643B  DD BE F8            	cp	(ix+TRACK_Waveform)
     760.  01:643E  CA 46 64            	jp	z,.skip_ins
     761.  01:6441                      	
     762.  01:6441                      	;--- this is a new waveform
     763.  01:6441  DD 77 F8            	ld	(ix+TRACK_Waveform),a
     764.  01:6444  CB F2               	set	B_TRGWAV,d
     765.  01:6446                      	
     766.  01:6446                      .skip_ins:	
     767.  01:6446  03                  	inc	bc
     768.  01:6447  0A                  	ld	a,(bc)
     769.  01:6448  C3 DC 63            	jp	_rdi
     770.  01:644B                      
     771.  01:644B                      _replay_decode_vol:
     772.  01:644B  D6 60               	sub	96;127
     773.  01:644D  87                  	add	a
     774.  01:644E  87                  	add	a
     775.  01:644F  87                  	add	a
     776.  01:6450  87                  	add	a
     777.  01:6451                      	
     778.  01:6451                      	;--- Set new base	volume (high byte) but keep relative offset (low byte)
     779.  01:6451  5F                  	ld	e,a
     780.  01:6452  DD 7E F7            	ld	a,(ix+TRACK_Volume)
     781.  01:6455  E6 0F               	and	0xf
     782.  01:6457  B3                  	or	e
     783.  01:6458  DD 77 F7            	ld	(ix+TRACK_Volume),a
     784.  01:645B                      
     785.  01:645B  03                  	inc	bc
     786.  01:645C  0A                  	ld	a,(bc)
     787.  01:645D  C3 E4 63            	jp	_rdv
     788.  01:6460                      
     789.  01:6460                      
     790.  01:6460                      _replay_decode_delay:
     791.  01:6460  D6 BF               	sub	191
     792.  01:6462  CA F6 63            	jp	z,_rd_delay		; EOT found
     793.  01:6465  DD 77 11            	ld	(ix+TRACK_Delay),a
     794.  01:6468  DD 77 12            	ld	(ix+TRACK_prevDelay),a
     795.  01:646B                      
     796.  01:646B  03                  	inc	bc
     797.  01:646C  C9                  	ret
     798.  01:646D                      
     799.  01:646D                      
     800.  01:646D                      _replay_decode_cmd:
     801.  01:646D                      
     802.  01:646D  D6 8E               	sub	142
     803.  01:646F  DD 77 F0            	ld	(ix+TRACK_Command),a
     804.  01:6472  21 83 64            	ld	hl,DECODE_CMDLIST
     805.  01:6475  87                  	add	a,a
     806.  01:6476  85                  	add	a,l
     807.  01:6477  6F                  	ld	l,a
     808.  01:6478  D2 7C 64            	jp	nc,.skip
     809.  01:647B  24                  	inc	h
     810.  01:647C                      .skip:
     811.  01:647C  7E                  	ld	a,(hl)
     812.  01:647D  23                  	inc	hl
     813.  01:647E  66                  	ld	h,(hl)
     814.  01:647F  6F                  	ld	l,a
     815.  01:6480                      	
     816.  01:6480  03                  	inc	bc
     817.  01:6481  0A                  	ld	a,(bc)
     818.  01:6482  E9                  	jp	(hl)
     819.  01:6483                      
     820.  01:6483                      DECODE_CMDLIST:
     821.  01:6483                      	; These effects are only processed 1 once in decoding
     822.  01:6483  72 65               	dw	_CHIPcmdA_env_mul			;0
     823.  01:6485  87 65               	dw	_CHIPcmdB_wave_res		;1
     824.  01:6487  99 65               	dw	_CHIPcmdF_wave_set		;2
     825.  01:6489  A3 65               	dw	_CHIPcmd10_morph_slave		;3
     826.  01:648B  A9 65               	dw	_CHIPcmd11_morph_start		;4
     827.  01:648D  CF 65               	dw	_CHIPcmd12_morph_cont		;5
     828.  01:648F  FE 65               	dw	_CHIPcmd16_vib_ctrl		;6
     829.  01:6491  24 66               	dw	_CHIPcmd17_track_detune		;7
     830.  01:6493  43 66               	dw	_CHIPcmd18_transpose		;8
     831.  01:6495  90 66               	dw	_CHIPcmd1A_trigger		;9
     832.  01:6497  96 66               	dw	_CHIPcmd1B_speed			;a
     833.  01:6499  A9 66               	dw	_CHIPcmd1C_notelink		;b
     834.  01:649B                      ;	dw	_CHIPcmd1C_call			;b	
     835.  01:649B  AF 66               	dw	_CHIPcmd1D_ret			;c
     836.  01:649D                      	
     837.  01:649D                      	; These effects are also processed in the processing
     838.  01:649D  8F 65               	dw	_CHIPcmdC_wave_duty		;d
     839.  01:649F  8F 65               	dw	_CHIPcmdD_wave_cut		;e
     840.  01:64A1  8F 65               	dw	_CHIPcmdE_wave_compr		;f
     841.  01:64A3  E6 65               	dw	_CHIPcmd13_short_arp		;10
     842.  01:64A5  F2 65               	dw	_CHIPcmd14_fine_up		;11
     843.  01:64A7  F2 65               	dw	_CHIPcmd15_fine_down		;12
     844.  01:64A9  72 66               	dw	_CHIPcmd19_note_delay		;13
     845.  01:64AB  69 66               	dw	_CHIPcmdXX_note_cut		;14
     846.  01:64AD                      
     847.  01:64AD                      	; These effects can be retriggered
     848.  01:64AD  D5 64               	dw	_CHIPcmd0_arpeggio		;15
     849.  01:64AF  E1 64               	dw	_CHIPcmd1_port_up			;16
     850.  01:64B1  E9 64               	dw	_CHIPcmd2_port_down		;17
     851.  01:64B3  F7 64               	dw	_CHIPcmd3_port_tone		;18
     852.  01:64B5  41 65               	dw	_CHIPcmd4_vibrato			;19
     853.  01:64B7  5B 65               	dw	_CHIPcmd5_vibrato_port_tone	;1a
     854.  01:64B9  5B 65               	dw	_CHIPcmd6_vibrato_vol		;1b
     855.  01:64BB  5B 65               	dw	_CHIPcmd7_vol_slide		;1c
     856.  01:64BD  67 65               	dw	_CHIPcmd8_macro_offset		;1d
     857.  01:64BF  6A 65               	dw	_CHIPcmd9_env_shape		;1e
     858.  01:64C1                      
     859.  01:64C1  B3 66               	dw	_CHIPcmd0_RE_arpeggio		;1f
     860.  01:64C3  B7 66               	dw	_CHIPcmd1_RE_port_up		;20
     861.  01:64C5  B7 66               	dw	_CHIPcmd2_RE_port_down		;21
     862.  01:64C7  F1 64               	dw	_CHIPcmd3_RE_port_tone		;22
     863.  01:64C9  B7 66               	dw	_CHIPcmd4_RE_vibrato		;23
     864.  01:64CB  BF 66               	dw	_CHIPcmd5_RE_vibrato_port_tone ;24
     865.  01:64CD  BF 66               	dw	_CHIPcmd6_RE_vibrato_vol	;25
     866.  01:64CF  BF 66               	dw	_CHIPcmd7_RE_vol_slide		;26
     867.  01:64D1  CB 66               	dw	_CHIPcmd8_RE_macro_offset	;27
     868.  01:64D3  D7 66               	dw	_CHIPcmd9_RE_env_shape		;28
     869.  01:64D5                      
     870.  01:64D5                      
     871.  01:64D5                      
     872.  01:64D5                      _CHIPcmd0_arpeggio:
     873.  01:64D5                      	; in:	[A] contains the paramvalue
     874.  01:64D5                      	; 
     875.  01:64D5                      	; ! do not change	[BC] this is the data pointer
     876.  01:64D5                      	;--------------------------------------------------
     877.  01:64D5                      	; Cycles between note, note+x	halftones, note+y
     878.  01:64D5                      	; halftones. 
     879.  01:64D5                      	; Ex:	(MOD/XM: C-4 01 .. 037)	This will play 
     880.  01:64D5                      	; C-4, C-4+3 semitones andC-4+7 semitones. 
     881.  01:64D5  DD 77 05            	ld	(ix+TRACK_cmd_0),a
     882.  01:64D8  CB DA               	set	B_TRGCMD,d
     883.  01:64DA  DD 36 0F 00         	ld	(ix+TRACK_Timer),0
     884.  01:64DE                      
     885.  01:64DE  C3 EC 63            	jp	_rdc
     886.  01:64E1                      	
     887.  01:64E1                      _CHIPcmd1_port_up:
     888.  01:64E1                      	; in:	[A] contains the paramvalue
     889.  01:64E1                      	; 
     890.  01:64E1                      	; ! do not change	[BC] this is the data pointer
     891.  01:64E1                      	;--------------------------------------------------
     892.  01:64E1                      	; This will	slide	up the pitch of the current note
     893.  01:64E1                      	; being played by	the given speed. 
     894.  01:64E1  DD 77 06            	ld	(ix+TRACK_cmd_1),a
     895.  01:64E4  CB DA               	set	B_TRGCMD,d
     896.  01:64E6                      
     897.  01:64E6  C3 EC 63            	jp	_rdc
     898.  01:64E9                      	
     899.  01:64E9                      	
     900.  01:64E9                      	 
     901.  01:64E9                      _CHIPcmd2_port_down:
     902.  01:64E9                      	; in:	[A] contains the paramvalue
     903.  01:64E9                      	; 
     904.  01:64E9                      	; ! do not change	[BC] this is the data pointer
     905.  01:64E9                      	;--------------------------------------------------
     906.  01:64E9                      	; This will	slide	down the pitch of	the current	note
     907.  01:64E9                      	; being played by	the given speed.	
     908.  01:64E9  DD 77 07            	ld	(ix+TRACK_cmd_2),a
     909.  01:64EC  CB DA               	set	B_TRGCMD,d
     910.  01:64EE                      
     911.  01:64EE  C3 EC 63            	jp	_rdc
     912.  01:64F1                      	
     913.  01:64F1                      
     914.  01:64F1                      _CHIPcmd3_RE_port_tone:
     915.  01:64F1  DD 77 13            	ld	(ix+TRACK_Retrig),a
     916.  01:64F4  C3 FE 64            	jp	_CHIPcmd3_port_tone_cont	
     917.  01:64F7                      _CHIPcmd3_port_tone:
     918.  01:64F7                      	; in:	[A] contains the paramvalue
     919.  01:64F7                      	; 
     920.  01:64F7                      	; ! do not change	[BC] this is the data pointer
     921.  01:64F7                      	;--------------------------------------------------
     922.  01:64F7                      	; This command is	used together with a note, and 
     923.  01:64F7                      	; will bend	the current	pitch	at the given speed
     924.  01:64F7                      	; towards the specified	note.	Example:
     925.  01:64F7                      	;	C-4 1....
     926.  01:64F7                      	;	F-4 ..305 (bend the note up towards	F-4)
     927.  01:64F7                      	;	... ..300 (continue to slide up, until F-4
     928.  01:64F7                      	;						  is reached
     929.  01:64F7                      
     930.  01:64F7                      
     931.  01:64F7  DD 77 08            	ld	(ix+TRACK_cmd_3),a
     932.  01:64FA  DD 36 0F 02         	ld	(ix+TRACK_Timer),2
     933.  01:64FE                      _CHIPcmd3_port_tone_cont:
     934.  01:64FE  CB DA               	set	B_TRGCMD,d
     935.  01:6500  CB CA               	set	B_ACTNOT,d
     936.  01:6502                      	;--- Check if we have a	note on the	same event
     937.  01:6502  CB 42               	bit	B_TRGNOT,d
     938.  01:6504  CA EC 63            	jp	z,_rdc
     939.  01:6507                      
     940.  01:6507                      	;-- get the	previous note freq
     941.  01:6507  3A 13 C0            	ld	a,(replay_previous_note)
     942.  01:650A  87                  	add	a
     943.  01:650B                      
     944.  01:650B  D9                  	exx
     945.  01:650C  2A 18 C0            	ld	hl,(replay_Tonetable)	;TRACK_ToneTable
     946.  01:650F  85                  	add	a,l
     947.  01:6510  6F                  	ld	l,a
     948.  01:6511  D2 15 65            	jp	nc,.skip
     949.  01:6514  24                  	inc	h
     950.  01:6515                      .skip:
     951.  01:6515  5E                  	ld	e,(hl)
     952.  01:6516  23                  	inc	hl
     953.  01:6517  56                  	ld	d,(hl)
     954.  01:6518                      
     955.  01:6518                      	; add	the toneadd
     956.  01:6518  DD 6E 00            	ld	l,(ix+TRACK_cmd_ToneSlideAdd)
     957.  01:651B  DD 66 01            	ld	h,(ix+TRACK_cmd_ToneSlideAdd+1)
     958.  01:651E                      
     959.  01:651E  19                  	add	hl,de	
     960.  01:651F  EB                  	ex	de,hl				; store current freq in	[de]
     961.  01:6520                      
     962.  01:6520                      	;--- get the current note freq
     963.  01:6520  DD 7E F6            	ld	a,(ix+TRACK_Note)
     964.  01:6523  87                  	add	a
     965.  01:6524  2A 18 C0            	ld	hl,(replay_Tonetable)	;TRACK_ToneTable
     966.  01:6527  85                  	add	a,l
     967.  01:6528  6F                  	ld	l,a
     968.  01:6529  D2 2D 65            	jp	nc,.skip2
     969.  01:652C  24                  	inc	h
     970.  01:652D                      .skip2:
     971.  01:652D  7E                  	ld	a,(hl)
     972.  01:652E  23                  	inc	hl
     973.  01:652F  66                  	ld	h,(hl)
     974.  01:6530  6F                  	ld	l,a				; destination freq in [hl]
     975.  01:6531                      	
     976.  01:6531                      	;--- Calculate the delta
     977.  01:6531  AF                  	xor	a
     978.  01:6532  EB                  	ex	de,hl
     979.  01:6533  ED 52               	sbc	hl,de				; results in pos/neg delta
     980.  01:6535                      	
     981.  01:6535  DD 75 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),l
     982.  01:6538  DD 74 01            	ld	(ix+TRACK_cmd_ToneSlideAdd+1),h	
     983.  01:653B  D9                  	exx
     984.  01:653C                      	
     985.  01:653C  CB 82               	res	B_TRGNOT,d
     986.  01:653E                      
     987.  01:653E  C3 EC 63            	jp	_rdc	
     988.  01:6541                      
     989.  01:6541                      	
     990.  01:6541                      _CHIPcmd4_vibrato:
     991.  01:6541                      	; in:	[A] contains the paramvalue
     992.  01:6541                      	; 
     993.  01:6541                      	; ! do not change	[BC] this is the data pointer
     994.  01:6541                      	;--------------------------------------------------
     995.  01:6541                      	; Vibrato with speed x and depth y.	This command 
     996.  01:6541                      	; will oscillate the frequency of the current note
     997.  01:6541                      	; with a sine wave. (You can change	the vibrato
     998.  01:6541                      	; waveform to a triangle wave, a square wave, or a
     999.  01:6541                      	; random table by	using	the E4x command).
    1000.  01:6541                      	;--- Init values
    1001.  01:6541  5F                  	ld	e,a
    1002.  01:6542  E6 07               	and	$07
    1003.  01:6544                      
    1004.  01:6544  DD 77 09            	ld	(ix+TRACK_cmd_4_depth),a
    1005.  01:6547  7B                  	ld	a,e
    1006.  01:6548  1F                  	rra
    1007.  01:6549  1F                  	rra
    1008.  01:654A  1F                  	rra
    1009.  01:654B  1F                  	rra
    1010.  01:654C  E6 0F               	and	$0f
    1011.  01:654E  DD 77 0A            	ld	(ix+TRACK_cmd_4_step),a
    1012.  01:6551  ED 44               	neg	
    1013.  01:6553  DD 77 10            	ld	(ix+TRACK_Step),a
    1014.  01:6556                      	
    1015.  01:6556  CB DA               	set	B_TRGCMD,d
    1016.  01:6558  C3 EC 63            	jp	_rdc	
    1017.  01:655B                      
    1018.  01:655B                      
    1019.  01:655B                      _CHIPcmd5_vibrato_port_tone:
    1020.  01:655B                      	; in:	[A] contains the paramvalue
    1021.  01:655B                      	; 
    1022.  01:655B                      	; ! do not change	[BC] this is the data pointer
    1023.  01:655B                      	;--------------------------------------------------
    1024.  01:655B                      	; portTone	+ volumeslide
    1025.  01:655B                      	;--- Init values
    1026.  01:655B                      _CHIPcmd6_vibrato_vol:
    1027.  01:655B                      	; in:	[A] contains the paramvalue
    1028.  01:655B                      	; 
    1029.  01:655B                      	; ! do not change	[BC] this is the data pointer
    1030.  01:655B                      	;--------------------------------------------------
    1031.  01:655B                      _CHIPcmd7_vol_slide:
    1032.  01:655B                      	; in:	[A] contains the paramvalue
    1033.  01:655B                      	; 
    1034.  01:655B                      	; ! do not change	[BC] this is the data pointer
    1035.  01:655B                      	;--------------------------------------------------
    1036.  01:655B                      	; slide the	volume up or down	1 step.
    1037.  01:655B                      	; The	x or y param  set	the delay*2	(x=up,y=down)
    1038.  01:655B                      	; With A00 the previous	value	is used.
    1039.  01:655B                      	
    1040.  01:655B  DD 77 0C            	ld	(ix+TRACK_cmd_A),a
    1041.  01:655E  CB DA               	set	B_TRGCMD,d
    1042.  01:6560  DD 36 0F 01         	ld	(ix+TRACK_Timer),1
    1043.  01:6564                      
    1044.  01:6564  C3 EC 63            	jp	_rdc
    1045.  01:6567                      
    1046.  01:6567                      
    1047.  01:6567                      
    1048.  01:6567                      _CHIPcmd8_macro_offset:
    1049.  01:6567                      	; in:	[A] contains the paramvalue
    1050.  01:6567                      	; 
    1051.  01:6567                      	; ! do not change	[BC] this is the data pointer
    1052.  01:6567                      	;--------------------------------------------------
    1053.  01:6567                      	; This command, when used together with a	note,	
    1054.  01:6567                      	; will start playing the sample at the position	xx 
    1055.  01:6567                      	; (instead of position 0). If	xx is	00 (900), the 
    1056.  01:6567                      	; previous value will be used.
    1057.  01:6567                      
    1058.  01:6567                      	;--- Init values
    1059.  01:6567                      	; NOT SUPPORTED ANYMORE
    1060.  01:6567  C3 EC 63            	jp	_rdc
    1061.  01:656A                      
    1062.  01:656A                      
    1063.  01:656A                      
    1064.  01:656A                      
    1065.  01:656A                      _CHIPcmd9_env_shape:
    1066.  01:656A  CB D2               	set	B_TRGENV,d
    1067.  01:656C  32 AC C1            	ld	(AY_regEnvShape),a
    1068.  01:656F                      
    1069.  01:656F  C3 EC 63            	jp	_rdc
    1070.  01:6572                      
    1071.  01:6572                      
    1072.  01:6572                      	; in:	[A] contains the paramvalue
    1073.  01:6572                      	; 
    1074.  01:6572                      	; ! do not change	[BC] this is the data pointer
    1075.  01:6572                      	;--------------------------------------------------
    1076.  01:6572                      	; This command set the envelope frequency using a
    1077.  01:6572                      	; multiplier value (00-ff)
    1078.  01:6572                      _CHIPcmdA_env_mul:
    1079.  01:6572  57                  	ld	d,a
    1080.  01:6573  AF                  	xor	a
    1081.  01:6574  CB 3A               	srl	d
    1082.  01:6576  1F                  	rra	
    1083.  01:6577  CB 3A               	srl	d
    1084.  01:6579  1F                  	rra		
    1085.  01:657A  CB 3A               	srl	d
    1086.  01:657C  1F                  	rra	
    1087.  01:657D  32 AA C1            	ld	(AY_regEnvL),a
    1088.  01:6580  7A                  	ld	a,d
    1089.  01:6581  32 AB C1            	ld	(AY_regEnvH),a
    1090.  01:6584                      	
    1091.  01:6584  C3 EC 63            	jp	_rdc	
    1092.  01:6587                      
    1093.  01:6587                      
    1094.  01:6587                      
    1095.  01:6587                      _CHIPcmdB_wave_res:
    1096.  01:6587  CB F2               	set	B_TRGWAV,d
    1097.  01:6589  CB A2               	res	B_ACTMOR,d
    1098.  01:658B                      
    1099.  01:658B  0B                  	dec 	bc
    1100.  01:658C  C3 EC 63            	jp	_rdc
    1101.  01:658F                      
    1102.  01:658F                      
    1103.  01:658F                      _CHIPcmdC_wave_duty:
    1104.  01:658F                      _CHIPcmdD_wave_cut:
    1105.  01:658F                      _CHIPcmdE_wave_compr:
    1106.  01:658F  DD 77 0D            	ld	(ix+TRACK_cmd_B),a
    1107.  01:6592  CB DA               	set	B_TRGCMD,d
    1108.  01:6594  CB A2               	res	B_ACTMOR,d
    1109.  01:6596                      
    1110.  01:6596  C3 EC 63            	jp	_rdc	
    1111.  01:6599                      
    1112.  01:6599                      
    1113.  01:6599                      _CHIPcmdF_wave_set:
    1114.  01:6599  DD 77 F8            	ld	(ix+TRACK_Waveform),a
    1115.  01:659C  CB F2               	set	B_TRGWAV,d
    1116.  01:659E  CB A2               	res	B_ACTMOR,d
    1117.  01:65A0                      
    1118.  01:65A0  C3 EC 63            	jp	_rdc	
    1119.  01:65A3                      
    1120.  01:65A3                      
    1121.  01:65A3                      _CHIPcmd10_morph_slave:
    1122.  01:65A3  CB E2               	set	B_ACTMOR,d
    1123.  01:65A5                      	
    1124.  01:65A5  0B                  	dec 	bc
    1125.  01:65A6  C3 EC 63            	jp	_rdc	
    1126.  01:65A9                      	
    1127.  01:65A9                      _CHIPcmd11_morph_start:
    1128.  01:65A9  E6 0F               	and	0x0f
    1129.  01:65AB  32 1C C0            	ld	(replay_morph_speed),a
    1130.  01:65AE                      	
    1131.  01:65AE  D9                  	exx
    1132.  01:65AF                      	;--- load the waveformbuffer
    1133.  01:65AF  DD 7E F8            	ld	a,(ix+TRACK_Waveform)
    1134.  01:65B2                      ;	add	a,a
    1135.  01:65B2                      ;	add	a,a
    1136.  01:65B2                      ;	add	a,a	
    1137.  01:65B2                      
    1138.  01:65B2  6F                  	ld	l,a
    1139.  01:65B3  26 00               	ld	h,0
    1140.  01:65B5  29                  	add	hl,hl
    1141.  01:65B6  29                  	add	hl,hl
    1142.  01:65B7                      		
    1143.  01:65B7  ED 5B 06 C0         	ld	de,(replay_wavebase)
    1144.  01:65BB  19                  	add	hl,de
    1145.  01:65BC                      
    1146.  01:65BC  11 1E C0            	ld	de,replay_morph_buffer
    1147.  01:65BF  3E 20               	ld	a,32
    1148.  01:65C1                      .loop:
    1149.  01:65C1  08                  	ex	af,af'	;'
    1150.  01:65C2  7E                  	ld	a,(hl)
    1151.  01:65C3  12                  	ld	(de),a		; copy value to both wave and delta pos
    1152.  01:65C4  13                  	inc	de
    1153.  01:65C5  12                  	ld	(de),a
    1154.  01:65C6  23                  	inc	hl
    1155.  01:65C7  13                  	inc	de
    1156.  01:65C8  08                  	ex	af,af'	;'
    1157.  01:65C9  3D                  	dec	a
    1158.  01:65CA  C2 C1 65            	jp	nz,.loop
    1159.  01:65CD  D9                  	exx
    1160.  01:65CE                      	
    1161.  01:65CE  0A                  	ld	a,(bc)
    1162.  01:65CF                      
    1163.  01:65CF                      _CHIPcmd12_morph_cont:
    1164.  01:65CF                      	;---- init new morph
    1165.  01:65CF  E6 F0               	and	0xf0	
    1166.  01:65D1  32 5E C0            	ld	(replay_morph_waveform),a	; store dest form offset
    1167.  01:65D4                      	
    1168.  01:65D4  AF                  	xor	a
    1169.  01:65D5  32 1D C0            	ld	(replay_morph_counter),a
    1170.  01:65D8  3C                  	inc	a
    1171.  01:65D9  32 1B C0            	ld	(replay_morph_timer),a
    1172.  01:65DC                      
    1173.  01:65DC                      	;--- calculate the delta's	
    1174.  01:65DC  3E FF               	ld	a,255				; 255 triggers calc init
    1175.  01:65DE  32 1A C0            	ld	(replay_morph_active),a	
    1176.  01:65E1                      
    1177.  01:65E1  CB E2               	set	B_ACTMOR,d
    1178.  01:65E3  C3 EC 63            	jp	_rdc		
    1179.  01:65E6                      	
    1180.  01:65E6                      
    1181.  01:65E6                      _CHIPcmd13_short_arp:
    1182.  01:65E6  DD 77 0E            	ld	(ix+TRACK_cmd_E),a		; store the halve not to add
    1183.  01:65E9  DD 36 0F 00         	ld	(ix+TRACK_Timer),0
    1184.  01:65ED                      
    1185.  01:65ED  CB DA               	set	B_TRGCMD,d		; command active
    1186.  01:65EF  C3 EC 63            	jp	_rdc	
    1187.  01:65F2                      	
    1188.  01:65F2                      	
    1189.  01:65F2                      _CHIPcmd14_fine_up:
    1190.  01:65F2                      _CHIPcmd15_fine_down:
    1191.  01:65F2  DD 77 0E            	ld	(ix+TRACK_cmd_E),a
    1192.  01:65F5  DD 36 0F 02         	ld	(ix+TRACK_Timer),2
    1193.  01:65F9  CB DA               	set	B_TRGCMD,d		; command active
    1194.  01:65FB                      
    1195.  01:65FB  C3 EC 63            	jp	_rdc	
    1196.  01:65FE                      
    1197.  01:65FE                      
    1198.  01:65FE                      _CHIPcmd16_vib_ctrl:
    1199.  01:65FE  21 12 14            	ld	hl,TRACK_Vibrato_sine
    1200.  01:6601  FE 01               	cp	1
    1201.  01:6603  DA 1B 66            	jp	c,_cmd16_sine
    1202.  01:6606  CA 12 66            	jp	z,_cmd16_tri
    1203.  01:6609                      _cmd16_pulse:
    1204.  01:6609  21 52 14            	ld	hl,TRACK_Vibrato_pulse
    1205.  01:660C  22 16 C0            	ld	(replay_vib_table),hl
    1206.  01:660F  C3 EC 63            	jp	_rdc
    1207.  01:6612                      _cmd16_tri:
    1208.  01:6612  21 32 14            	ld	hl,TRACK_Vibrato_triangle
    1209.  01:6615  22 16 C0            	ld	(replay_vib_table),hl
    1210.  01:6618  C3 EC 63            	jp	_rdc	
    1211.  01:661B                      
    1212.  01:661B                      _cmd16_sine:
    1213.  01:661B  21 12 14            	ld	hl,TRACK_Vibrato_sine
    1214.  01:661E  22 16 C0            	ld	(replay_vib_table),hl
    1215.  01:6621  C3 EC 63            	jp	_rdc
    1216.  01:6624                      
    1217.  01:6624                      
    1218.  01:6624                      
    1219.  01:6624                      _CHIPcmd17_track_detune:
    1220.  01:6624                      	; This command sets the	detune of the track.
    1221.  01:6624  5F                  	ld	e,a
    1222.  01:6625  E6 07               	and	0x07		; low	4 bits is value
    1223.  01:6627  CB 5B               	bit	3,e		; Center around 8
    1224.  01:6629  CA 39 66            	jp	z,.pos
    1225.  01:662C  3C                  	inc	a
    1226.  01:662D  ED 44               	neg			; make correct value
    1227.  01:662F  DD 77 04            	ld	(ix+TRACK_cmd_detune),a
    1228.  01:6632  DD 36 05 FF         	ld	(ix+TRACK_cmd_detune+1),0xff
    1229.  01:6636                      
    1230.  01:6636  C3 EC 63            	jp	_rdc	
    1231.  01:6639                      
    1232.  01:6639                      .pos:
    1233.  01:6639  DD 77 04            	ld	(ix+TRACK_cmd_detune),a
    1234.  01:663C  DD 36 05 00         	ld	(ix+TRACK_cmd_detune+1),0x00	
    1235.  01:6640                      
    1236.  01:6640  C3 EC 63            	jp	_rdc	
    1237.  01:6643                      
    1238.  01:6643                      
    1239.  01:6643                      ; This command sets the	detune of the track.	
    1240.  01:6643                      _CHIPcmd18_transpose:
    1241.  01:6643  5F                  	ld	e,a
    1242.  01:6644  87                  	add	a
    1243.  01:6645  21 52 13            	ld	hl,TRACK_ToneTable		;(replay_Tonetable)
    1244.  01:6648  E6 0F               	and	15		; low	4 bits is value
    1245.  01:664A  CB 5B               	bit	3,e		; Center around 8
    1246.  01:664C  CA 5D 66            	jp	z,.pos
    1247.  01:664F                      
    1248.  01:664F                      	;neg	
    1249.  01:664F  ED 44               	neg	
    1250.  01:6651  85                  	add	a,l
    1251.  01:6652  6F                  	ld	l,a
    1252.  01:6653  D2 57 66            	jp	nc,.skip1
    1253.  01:6656  25                  	dec	h
    1254.  01:6657                      .skip1:
    1255.  01:6657  22 18 C0            	ld	(replay_Tonetable),hl
    1256.  01:665A  C3 EC 63            	jp	_rdc
    1257.  01:665D                      ; pos
    1258.  01:665D                      .pos:	
    1259.  01:665D  85                  	add	a,l
    1260.  01:665E  6F                  	ld	l,a
    1261.  01:665F  D2 63 66            	jp	nc,.skip2
    1262.  01:6662  24                  	inc	h
    1263.  01:6663                      .skip2:
    1264.  01:6663  22 18 C0            	ld	(replay_Tonetable),hl
    1265.  01:6666  C3 EC 63            	jp	_rdc
    1266.  01:6669                      
    1267.  01:6669                      _CHIPcmdXX_note_cut:
    1268.  01:6669  CB DA               	set	B_TRGCMD,d
    1269.  01:666B  3C                  	inc	a
    1270.  01:666C  DD 77 0F            	ld	(ix+TRACK_Timer),a		; set	the timer to param y
    1271.  01:666F  C3 EC 63            	jp 	_rdc
    1272.  01:6672                      
    1273.  01:6672                      
    1274.  01:6672                      _CHIPcmd19_note_delay:
    1275.  01:6672  CB 42               	bit	B_TRGNOT,d		; is there a note	in this eventstep?
    1276.  01:6674  CA EC 63            	jp	z,_rdc
    1277.  01:6677                      
    1278.  01:6677  CB DA               	set	B_TRGCMD,d					; command active
    1279.  01:6679  3C                  	inc	a
    1280.  01:667A  DD 77 0F            	ld	(ix+TRACK_Timer),a			; set	the timer to param y
    1281.  01:667D  DD 7E F6            	ld	a,(ix+TRACK_Note)
    1282.  01:6680  DD 77 0E            	ld	(ix+TRACK_cmd_E),a			; store the	new note
    1283.  01:6683  3A 13 C0            	ld	a,(replay_previous_note)
    1284.  01:6686  DD 77 F6            	ld	(ix+TRACK_Note),a				; restore the old	note
    1285.  01:6689  DD CB F9 86         	res	B_TRGNOT,(ix+TRACK_Flags)		; reset any	triggernote
    1286.  01:668D                      
    1287.  01:668D  C3 EC 63            	jp	_rdc	
    1288.  01:6690                      
    1289.  01:6690                      
    1290.  01:6690                      
    1291.  01:6690                      _CHIPcmd1A_trigger:
    1292.  01:6690  32 01 C0            	ld	(replay_trigger),a
    1293.  01:6693  C3 EC 63            	jp	_rdc		
    1294.  01:6696                      
    1295.  01:6696                      
    1296.  01:6696                      _CHIPcmd1B_speed:
    1297.  01:6696  32 0C C0            	ld	(replay_speed),a
    1298.  01:6699                      	;--- Reset Timer == 0
    1299.  01:6699  CB 3F               	srl	a				; divide speed with 2
    1300.  01:669B  5F                  	ld	e,a
    1301.  01:669C  3E 00               	ld	a,0				
    1302.  01:669E  8F                  	adc	a				; store carry of shift as subtimer
    1303.  01:669F  32 0D C0            	ld	(replay_speed_subtimer),a
    1304.  01:66A2  83                  	add	a,e
    1305.  01:66A3  32 0E C0            	ld	(replay_speed_timer),a
    1306.  01:66A6                      
    1307.  01:66A6  C3 EC 63            	jp	_rdc	
    1308.  01:66A9                      	
    1309.  01:66A9                      _CHIPcmd1C_notelink:
    1310.  01:66A9  CB 82               	res	B_TRGNOT,d
    1311.  01:66AB  0B                  	dec 	bc
    1312.  01:66AC  C3 EC 63            	jp	_rdc	
    1313.  01:66AF                      _CHIPcmd1C_call:
    1314.  01:66AF                      _CHIPcmd1D_ret:
    1315.  01:66AF                      	;< not implemented yet>
    1316.  01:66AF  0B                  	dec 	bc
    1317.  01:66B0  C3 EC 63            	jp	_rdc	
    1318.  01:66B3                      
    1319.  01:66B3                      
    1320.  01:66B3                      
    1321.  01:66B3                      
    1322.  01:66B3                      _CHIPcmd0_RE_arpeggio:
    1323.  01:66B3  DD 36 0F 00         	ld	(ix+TRACK_Timer),0
    1324.  01:66B7                      	
    1325.  01:66B7                      _CHIPcmd1_RE_port_up:	
    1326.  01:66B7                      _CHIPcmd2_RE_port_down:
    1327.  01:66B7                      _CHIPcmd4_RE_vibrato:
    1328.  01:66B7  CB DA               	set	B_TRGCMD,d
    1329.  01:66B9  DD 77 13            	ld	(ix+TRACK_Retrig),a
    1330.  01:66BC  C3 EC 63            	jp	_rdc		
    1331.  01:66BF                      	
    1332.  01:66BF                      _CHIPcmd5_RE_vibrato_port_tone:
    1333.  01:66BF                      _CHIPcmd6_RE_vibrato_vol:
    1334.  01:66BF                      _CHIPcmd7_RE_vol_slide:
    1335.  01:66BF  CB DA               	set	B_TRGCMD,d
    1336.  01:66C1  DD 36 0F 01         	ld	(ix+TRACK_Timer),1
    1337.  01:66C5  DD 77 13            	ld	(ix+TRACK_Retrig),a
    1338.  01:66C8  C3 EC 63            	jp	_rdc
    1339.  01:66CB                      		
    1340.  01:66CB                      _CHIPcmd8_RE_macro_offset:	
    1341.  01:66CB  CB DA               	set	B_TRGCMD,d
    1342.  01:66CD  DD 36 0F 02         	ld	(ix+TRACK_Timer),2
    1343.  01:66D1  DD 77 13            	ld	(ix+TRACK_Retrig),a
    1344.  01:66D4  C3 EC 63            	jp	_rdc			
    1345.  01:66D7                      
    1346.  01:66D7                      _CHIPcmd9_RE_env_shape:
    1347.  01:66D7  CB D2               	set	B_TRGENV,d
    1348.  01:66D9  DD 77 13            	ld	(ix+TRACK_Retrig),a
    1349.  01:66DC  C3 EC 63            	jp	_rdc	
    1350.  01:66DF                      
    1351.  01:66DF                      
    1352.  01:66DF                      
    1353.  01:66DF                      ;===========================================================
    1354.  01:66DF                      ; ---replay_route
    1355.  01:66DF                      ; Output the data	to the CHIP	registers
    1356.  01:66DF                      ; 
    1357.  01:66DF                      ; in HL is the current tone freq
    1358.  01:66DF                      ; in D is TRACK_FLAGS  
    1359.  01:66DF                      ;===========================================================
    1360.  01:66DF                      replay_process_chan_AY:
    1361.  01:66DF                      
    1362.  01:66DF                      	;-- set the	mixer	right
    1363.  01:66DF  21 3C C2            	ld	hl,SCC_regMIXER   
    1364.  01:66E2  CB 3E               	srl	(hl)
    1365.  01:66E4                      
    1366.  01:66E4                      	;=====
    1367.  01:66E4                      	; COMMAND
    1368.  01:66E4                      	;=====
    1369.  01:66E4  CB 5A               	bit	B_TRGCMD,d	;(ix+TRACK_Flags)
    1370.  01:66E6  CA FB 66            	jp	z,_pcAY_noCommand
    1371.  01:66E9                      	
    1372.  01:66E9  21 17 68            	ld	hl,_pcAY_cmdlist-26
    1373.  01:66EC  DD 7E F0            	ld	a,(ix+TRACK_Command)
    1374.  01:66EF  87                  	add	a
    1375.  01:66F0  85                  	add	a,l
    1376.  01:66F1  6F                  	ld	l,a
    1377.  01:66F2  D2 F6 66            	jp	nc,.skip
    1378.  01:66F5  24                  	inc	h
    1379.  01:66F6                      .skip:
    1380.  01:66F6  7E                  	ld	a,(hl)
    1381.  01:66F7  23                  	inc	hl
    1382.  01:66F8  66                  	ld	h,(hl)
    1383.  01:66F9  6F                  	ld	l,a	
    1384.  01:66FA  E9                  	jp	(hl)
    1385.  01:66FB                      	
    1386.  01:66FB                      _pcAY_noCommand:	
    1387.  01:66FB                      _pcAY_commandEND:
    1388.  01:66FB                      
    1389.  01:66FB                      	;=====
    1390.  01:66FB                      	; NOTE
    1391.  01:66FB                      	;=====
    1392.  01:66FB                      	;--- Check if we need to trigger a new note
    1393.  01:66FB  CB 42               	bit	B_TRGNOT,d	;(ix+TRACK_Flags)
    1394.  01:66FD  CA 24 67            	jp	z,_pcAY_noNoteTrigger
    1395.  01:6700                      	
    1396.  01:6700                      
    1397.  01:6700                      _pcAY_triggerNote:	
    1398.  01:6700                      	;--- get new Note
    1399.  01:6700  CB 82               	res	B_TRGNOT,d		;(ix+TRACK_Flags)		; reset trigger note flag
    1400.  01:6702  CB CA               	set	B_ACTNOT,d		;(ix+TRACK_Flags)		; set	note active	flag
    1401.  01:6704                      
    1402.  01:6704  DD 6E F3            	ld	l,(ix+TRACK_MacroStart)
    1403.  01:6707  DD 66 F4            	ld	h,(ix+TRACK_MacroStart+1)
    1404.  01:670A                      	;--- Store the macro start	
    1405.  01:670A  DD 75 F1            	ld	(ix+TRACK_MacroPointer),l
    1406.  01:670D  DD 74 F2            	ld	(ix+TRACK_MacroPointer+1),h	
    1407.  01:6710                      
    1408.  01:6710  21 00 00            	ld	hl,0
    1409.  01:6713  ED 73 00 C0         	ld	(_SP_Storage),sp
    1410.  01:6717  DD F9               	ld	sp,ix
    1411.  01:6719  F1                  	pop	af
    1412.  01:671A  F1                  	pop	af
    1413.  01:671B  E5                  	push	hl
    1414.  01:671C  E5                  	push	hl		
    1415.  01:671D  E5                  	push	hl
    1416.  01:671E  E5                  	push	hl
    1417.  01:671F  E5                  	push	hl
    1418.  01:6720  ED 7B 00 C0         	ld	sp,(_SP_Storage)
    1419.  01:6724                      
    1420.  01:6724                      ;	ld	(ix+TRACK_ToneAdd),0
    1421.  01:6724                      ;	ld	(ix+TRACK_ToneAdd+1),0
    1422.  01:6724                      ;	ld	(ix+TRACK_VolumeAdd),0	
    1423.  01:6724                      ;	ld	(ix+TRACK_cmd_ToneAdd),0
    1424.  01:6724                      ;	ld	(ix+TRACK_cmd_ToneAdd+1),0
    1425.  01:6724                      ;	ld	(ix+TRACK_cmd_VolumeAdd),0
    1426.  01:6724                      ;	ld	(ix+TRACK_Noise),0
    1427.  01:6724                      ;	ld	(ix+TRACK_cmd_ToneSlideAdd),0
    1428.  01:6724                      ;	ld	(ix+TRACK_cmd_ToneSlideAdd+1),0
    1429.  01:6724                      
    1430.  01:6724                      _pcAY_noNoteTrigger:
    1431.  01:6724                      	;Get note freq
    1432.  01:6724  DD 7E F6            	ld	a,(ix+TRACK_Note)
    1433.  01:6727  DD 86 0B            	add	a,(ix+TRACK_cmd_NoteAdd)
    1434.  01:672A  87                  	add	a
    1435.  01:672B  08                  	ex	af,af'			;'store the	note offset
    1436.  01:672C  DD 36 0B 00         	ld	(ix+TRACK_cmd_NoteAdd),0	
    1437.  01:6730                      	
    1438.  01:6730                      
    1439.  01:6730                      	;==============
    1440.  01:6730                      	; Macro instrument
    1441.  01:6730                      	;==============
    1442.  01:6730  CB 4A               	bit	B_ACTNOT,d			;(ix+TRACK_Flags)
    1443.  01:6732  CA 2C 68            	jp	z,_pcAY_noNoteActive
    1444.  01:6735                      	
    1445.  01:6735                      	;--- Get the macro len and loop
    1446.  01:6735  DD 6E F1            	ld	l,(ix+TRACK_MacroPointer)
    1447.  01:6738  DD 66 F2            	ld	h,(ix+TRACK_MacroPointer+1)
    1448.  01:673B                      
    1449.  01:673B  5E                  	ld	e,(hl)				; info byte
    1450.  01:673C  23                  	inc	hl
    1451.  01:673D  CB 43               	bit	0,e					; Volume change
    1452.  01:673F  C2 48 67            	jp	nz,_vol_change
    1453.  01:6742  DD 7E FD            	ld	a,(ix+TRACK_VolumeAdd)
    1454.  01:6745  C3 72 67            	jp	_noEnv
    1455.  01:6748                      	
    1456.  01:6748                      	;--- Volume change
    1457.  01:6748                      _vol_change:
    1458.  01:6748  7E                  	ld	a,(hl)
    1459.  01:6749  23                  	inc	hl
    1460.  01:674A                      	
    1461.  01:674A  CB 4B               	bit	1,e
    1462.  01:674C  CA 62 67            	jp	z,_vol_base
    1463.  01:674F                      _vol_rel:
    1464.  01:674F  DD 86 FD            	add	 (ix+TRACK_VolumeAdd)
    1465.  01:6752  FE 10               	cp	16
    1466.  01:6754  DA 62 67            	jp	c,_vol_base
    1467.  01:6757  FE 80               	cp	128
    1468.  01:6759  D2 61 67            	jp	nc,.skip
    1469.  01:675C  3E 0F               	ld	a,$0f
    1470.  01:675E  C3 62 67            	jp	_vol_base
    1471.  01:6761                      .skip:	
    1472.  01:6761  AF                  	xor	a
    1473.  01:6762                      	
    1474.  01:6762                      _vol_base:
    1475.  01:6762  DD 77 FD            	ld	(ix+TRACK_VolumeAdd),a
    1476.  01:6765                      
    1477.  01:6765                      	;---- envelope check
    1478.  01:6765                      	; is done here to be able to continue
    1479.  01:6765                      	; macro volume values.
    1480.  01:6765  CB 52               	bit	B_TRGENV,d		;'(IX+TRACK_Flags)
    1481.  01:6767  CA 72 67            	jp	z,_noEnv		; if not set then normal volume calculation
    1482.  01:676A  3E 10               	ld	a,16			; set volume to 16 == envelope
    1483.  01:676C  32 3B C2            	ld	(SCC_regVOLE),a
    1484.  01:676F  C3 AC 67            	jp	_noVolume	
    1485.  01:6772                      	
    1486.  01:6772                      _noEnv:
    1487.  01:6772  DD B6 F7            	or	(ix+TRACK_Volume)
    1488.  01:6775  4F                  	ld	c,a			; store volume add
    1489.  01:6776                      
    1490.  01:6776  DD 7E FF            	ld 	a,(ix+TRACK_cmd_VolumeAdd)
    1491.  01:6779  17                  	rla				; shift to detect shift
    1492.  01:677A  DA 87 67            	jp 	c,.sub_Vadd		
    1493.  01:677D                      .add_Vadd:  
    1494.  01:677D  81                  	add	a,c
    1495.  01:677E  D2 93 67            	jp	nc,_Vadd
    1496.  01:6781  79                  	ld	a,c
    1497.  01:6782  F6 F0               	or	0xf0
    1498.  01:6784  C3 93 67            	jp	_Vadd	
    1499.  01:6787                      .sub_Vadd:	
    1500.  01:6787  47                  	ld	b,a
    1501.  01:6788  AF                  	xor	a
    1502.  01:6789  90                  	sub 	b
    1503.  01:678A  47                  	ld	b,a
    1504.  01:678B  79                  	ld	a,c
    1505.  01:678C  90                  	sub	a,b
    1506.  01:678D  D2 93 67            	jp 	nc,.skip2
    1507.  01:6790  79                  	ld	a,c
    1508.  01:6791  E6 0F                	and	0x0f
    1509.  01:6793                      .skip2:
    1510.  01:6793                      
    1511.  01:6793                      	
    1512.  01:6793                      	;-- next is _Vadd
    1513.  01:6793                      _Vadd:
    1514.  01:6793                      	;--- apply main volume balance
    1515.  01:6793  ED 4B 14 C0         	ld	bc,(replay_mainvol)
    1516.  01:6797  81                  	add	a,c
    1517.  01:6798  4F                  	ld	c,a
    1518.  01:6799  D2 9D 67            	jp	nc,.skip
    1519.  01:679C  04                  	inc	b
    1520.  01:679D                      .skip:
    1521.  01:679D  0A                  	ld	a,(bc)	
    1522.  01:679E                      	; Test which CHIP.
    1523.  01:679E  CB 7A               	bit	B_PSGSCC,d		;(ix+TRACK_Flags)
    1524.  01:67A0  C2 A7 67            	jp	nz,.skip2
    1525.  01:67A3  1F                  	rra
    1526.  01:67A4  1F                  	rra
    1527.  01:67A5  1F                  	rra
    1528.  01:67A6  1F                  	rra
    1529.  01:67A7                      .skip2:
    1530.  01:67A7  E6 0F               	and	0x0f
    1531.  01:67A9  32 3B C2            	ld	(SCC_regVOLE),a
    1532.  01:67AC                      
    1533.  01:67AC                      _noVolume:
    1534.  01:67AC                      	;-------------------------------
    1535.  01:67AC                      	;
    1536.  01:67AC                      	; NOISE
    1537.  01:67AC                      	;
    1538.  01:67AC                      	;-------------------------------
    1539.  01:67AC  CB 7B               	bit 	7,e			; test if noise
    1540.  01:67AE  CA D3 67            	jp	z,_noNoise
    1541.  01:67B1                      	
    1542.  01:67B1                      	;--- prevent SCC and noise
    1543.  01:67B1  CB 7A               	bit	B_PSGSCC,d		;(ix+TRACK_Flags)
    1544.  01:67B3  C2 D3 67            	jp	nz,_noNoise
    1545.  01:67B6                      
    1546.  01:67B6                      	;--- Set the mixer for noise
    1547.  01:67B6  3A 3C C2            	ld	a,(SCC_regMIXER)
    1548.  01:67B9  F6 80               	or	128
    1549.  01:67BB  32 3C C2            	ld	(SCC_regMIXER),a
    1550.  01:67BE                      
    1551.  01:67BE  CB 6B               	bit	5,e
    1552.  01:67C0  CA D3 67            	jp	z,_noNoise
    1553.  01:67C3  7E                  	ld	a,(hl)	; get	the deviation	
    1554.  01:67C4  23                  	inc	hl
    1555.  01:67C5  CB 73               	bit	6,e
    1556.  01:67C7  CA CD 67            	jp	z,.skip
    1557.  01:67CA  DD 86 FE            	add	(ix+TRACK_Noise)
    1558.  01:67CD  DD 77 FE            .skip:	ld	(ix+TRACK_Noise),a
    1559.  01:67D0  32 A5 C1            	ld	(AY_regNOISE),a
    1560.  01:67D3                      	
    1561.  01:67D3                      _noNoise:
    1562.  01:67D3                      	;-------------------------------
    1563.  01:67D3                      	;
    1564.  01:67D3                      	; TONE
    1565.  01:67D3                      	;
    1566.  01:67D3                      	;-------------------------------
    1567.  01:67D3  CB 63               	bit	4,e		; do we have tone?
    1568.  01:67D5  CA E0 67            	jp	z,_pcAY_noTone
    1569.  01:67D8                      
    1570.  01:67D8                      	;-- enable tone output
    1571.  01:67D8  3A 3C C2            	ld	a,(SCC_regMIXER)
    1572.  01:67DB  F6 10               	or	16
    1573.  01:67DD  32 3C C2            	ld	(SCC_regMIXER),a
    1574.  01:67E0                      _pcAY_noTone:
    1575.  01:67E0  DD 46 FB            	ld	b,(ix+TRACK_ToneAdd)	; get	the current	deviation	
    1576.  01:67E3  DD 4E FC            	ld	c,(ix+TRACK_ToneAdd+1)
    1577.  01:67E6                      
    1578.  01:67E6  CB 53               	bit	2,e
    1579.  01:67E8  CA FD 67            	jp	z,_pcAY_noToneAdd
    1580.  01:67EB  7E                  	ld	a,(hl)
    1581.  01:67EC  23                  	inc	hl
    1582.  01:67ED  81                  	add	c
    1583.  01:67EE  4F                  	ld	c,a
    1584.  01:67EF  DD 71 FC            	ld	(ix+TRACK_ToneAdd+1),c
    1585.  01:67F2  D2 F6 67            	jp	nc,.skip
    1586.  01:67F5  04                  	inc	b
    1587.  01:67F6                      .skip:
    1588.  01:67F6  7E                  	ld	a,(hl)
    1589.  01:67F7  23                  	inc	hl
    1590.  01:67F8  80                  	add	b
    1591.  01:67F9  47                  	ld	b,a
    1592.  01:67FA  DD 70 FB            	ld	(ix+TRACK_ToneAdd),b
    1593.  01:67FD                      _pcAY_noToneAdd:	
    1594.  01:67FD                      	;---- check for macro end
    1595.  01:67FD  CB 5B               	bit	3,e		
    1596.  01:67FF  CA 06 68            	jp	z,.noend
    1597.  01:6802                      	
    1598.  01:6802  7E                  	ld	a,(hl)
    1599.  01:6803  23                  	inc	hl
    1600.  01:6804  66                  	ld	h,(hl)
    1601.  01:6805  6F                  	ld	l,a
    1602.  01:6806                      	
    1603.  01:6806                      
    1604.  01:6806                      .noend:
    1605.  01:6806  DD 75 F1            	ld	(ix+TRACK_MacroPointer),l	;--- store pointer for next time
    1606.  01:6809  DD 74 F2            	ld	(ix+TRACK_MacroPointer+1),h	
    1607.  01:680C                      
    1608.  01:680C  08                  	ex	af,af'			;';restore note offset
    1609.  01:680D  2A 18 C0            	ld	hl,(replay_Tonetable)
    1610.  01:6810  85                  	add	a,l
    1611.  01:6811  6F                  	ld	l,a
    1612.  01:6812  D2 16 68            	jp	nc,.skip
    1613.  01:6815  24                  	inc	h
    1614.  01:6816                      .skip:
    1615.  01:6816  7E                  	ld	a,(hl)	;--- Store the note tone value in hl
    1616.  01:6817  23                  	inc	hl
    1617.  01:6818  66                  	ld	h,(hl)
    1618.  01:6819  6F                  	ld	l,a
    1619.  01:681A                      		
    1620.  01:681A  09                  	add	hl,bc		;--- Store tone deviation		
    1621.  01:681B                      
    1622.  01:681B                      	; set	the detune.
    1623.  01:681B  ED 73 00 C0         	ld	(_SP_Storage),sp
    1624.  01:681F  DD F9               	ld	sp,ix
    1625.  01:6821  C1                  	pop	bc		; cmd detume
    1626.  01:6822  09                  	add	hl,bc
    1627.  01:6823  C1                  	pop	bc		; cmd toneadd
    1628.  01:6824  09                  	add	hl,bc
    1629.  01:6825  C1                  	pop	bc		; cmd tone slide add
    1630.  01:6826  09                  	add	hl,bc
    1631.  01:6827  ED 7B 00 C0         	ld	sp,(_SP_Storage)
    1632.  01:682B                      
    1633.  01:682B  C9                  	ret
    1634.  01:682C                      	
    1635.  01:682C                      	
    1636.  01:682C                      ;	ld	c,(ix+TRACK_cmd_detune)
    1637.  01:682C                      ;	ld	b,(ix+TRACK_cmd_detune+1)
    1638.  01:682C                      ;	add	hl,bc
    1639.  01:682C                      ;
    1640.  01:682C                      ;	ld	c,(ix+TRACK_cmd_ToneAdd)
    1641.  01:682C                      ;	ld	b,(ix+TRACK_cmd_ToneAdd+1)
    1642.  01:682C                      ;	add	hl,bc
    1643.  01:682C                      ;	
    1644.  01:682C                      ;	ld	c,(ix+TRACK_cmd_ToneSlideAdd)
    1645.  01:682C                      ;	ld	b,(ix+TRACK_cmd_ToneSlideAdd+1)
    1646.  01:682C                      ;	
    1647.  01:682C                      ;	add	hl,bc
    1648.  01:682C                      
    1649.  01:682C                      	;-------------------------------
    1650.  01:682C                      	;
    1651.  01:682C                      	; END of macro?
    1652.  01:682C                      	;
    1653.  01:682C                      	;-------------------------------
    1654.  01:682C                      ;	bit	3,e		
    1655.  01:682C                      ;	ret	z
    1656.  01:682C                      	
    1657.  01:682C                      	;--- now get new pointer
    1658.  01:682C                      	
    1659.  01:682C                      ;	ld	c,(ix+TRACK_MacroStart)
    1660.  01:682C                      ;	ld	b,(ix+TRACK_MacroStart+1)
    1661.  01:682C                      ;	
    1662.  01:682C                      ;	ld	a,(ix+TRACK_MacroRestart)	
    1663.  01:682C                      ;	add	a,c
    1664.  01:682C                      ;	ld	c,a
    1665.  01:682C                      ;	jp	nc,.skip2
    1666.  01:682C                      ;	inc	b
    1667.  01:682C                      ;.skip2:		
    1668.  01:682C                      	;--- Store the macro start	
    1669.  01:682C                      ;	ld	(ix+TRACK_MacroPointer),c
    1670.  01:682C                      ;	ld	(ix+TRACK_MacroPointer+1),b		
    1671.  01:682C                      
    1672.  01:682C                      ;	ret
    1673.  01:682C                      	
    1674.  01:682C                      _pcAY_noNoteActive:
    1675.  01:682C  AF                  	xor	a
    1676.  01:682D  32 3B C2            	ld	(SCC_regVOLE),a
    1677.  01:6830  C9                  	ret	
    1678.  01:6831                      
    1679.  01:6831                      ;---- This is for debugging only	
    1680.  01:6831                      ;stop_debug:
    1681.  01:6831                      ;	halt
    1682.  01:6831                      ;	jp	stop_debug	
    1683.  01:6831                      ;	
    1684.  01:6831                      ;PROCESS_CMDLIST:	
    1685.  01:6831                      ;[13]	dw 	stop_debug
    1686.  01:6831                      
    1687.  01:6831                      _pcAY_cmdlist:
    1688.  01:6831  95 69               	dw	_pcAY_cmdc_wave_duty		;d
    1689.  01:6833  C2 69               	dw	_pcAY_cmdd_wave_cut		;e
    1690.  01:6835  03 6A               	dw	_pcAY_cmde_wave_compr		;f
    1691.  01:6837  54 6A               	dw	_pcAY_cmd13_short_arp		;10
    1692.  01:6839  65 6A               	dw	_pcAY_cmd14_fine_up		;11
    1693.  01:683B  7F 6A               	dw	_pcAY_cmd15_fine_down		;12
    1694.  01:683D  A6 6A               	dw	_pcAY_cmd19_note_delay		;13
    1695.  01:683F  99 6A               	dw	_pcAY_cmdXX_note_cut		;14
    1696.  01:6841                      	
    1697.  01:6841  67 68               	dw	_pcAY_cmd0_arpeggio		;15
    1698.  01:6843  9E 68               	dw	_pcAY_cmd1_port_up		;16
    1699.  01:6845  B2 68               	dw	_pcAY_cmd2_port_down		;17
    1700.  01:6847  C6 68               	dw	_pcAY_cmd3_port_tone		;18
    1701.  01:6849  07 69               	dw	_pcAY_cmd4_vibrato		;19
    1702.  01:684B  51 69               	dw	_pcAY_cmd5_vibrato_port_tone	;1a
    1703.  01:684D  57 69               	dw	_pcAY_cmd6_vibrato_vol		;1b
    1704.  01:684F  5D 69               	dw	_pcAY_cmd7_vol_slide		;1c
    1705.  01:6851  8A 69               	dw	_pcAY_cmd8_macro_offset		;1d
    1706.  01:6853  00 00               	dw	0	;env shape
    1707.  01:6855                      
    1708.  01:6855  67 68               	dw	_pcAY_cmd0_arpeggio		;1e
    1709.  01:6857  9E 68               	dw	_pcAY_cmd1_port_up		;1f
    1710.  01:6859  B2 68               	dw	_pcAY_cmd2_port_down		;20
    1711.  01:685B  C6 68               	dw	_pcAY_cmd3_port_tone		;21
    1712.  01:685D  07 69               	dw	_pcAY_cmd4_vibrato
    1713.  01:685F  51 69               	dw	_pcAY_cmd5_vibrato_port_tone
    1714.  01:6861  57 69               	dw	_pcAY_cmd6_vibrato_vol
    1715.  01:6863  5D 69               	dw	_pcAY_cmd7_vol_slide
    1716.  01:6865  8A 69               	dw	_pcAY_cmd8_macro_offset
    1717.  01:6867                      
    1718.  01:6867                      			
    1719.  01:6867                      _pcAY_cmd0_arpeggio:
    1720.  01:6867  DD 7E 0F            	ld	a,(ix+TRACK_Timer)
    1721.  01:686A  CB 47               	bit	0,a
    1722.  01:686C  CA 83 68            	jp	z,.step2
    1723.  01:686F                      
    1724.  01:686F                      	;--- set x
    1725.  01:686F  DD 36 0F 02         	ld	(ix+TRACK_Timer),2
    1726.  01:6873  AF                  	xor	a
    1727.  01:6874  DD 7E 05            	ld	a,(ix+TRACK_cmd_0)
    1728.  01:6877  E6 F0               	and	0xf0
    1729.  01:6879  1F                  	rra
    1730.  01:687A  1F                  	rra
    1731.  01:687B  1F                  	rra
    1732.  01:687C  1F                  	rra
    1733.  01:687D  DD 77 0B            	ld	(ix+TRACK_cmd_NoteAdd),a		
    1734.  01:6880  C3 FB 66            	jp	_pcAY_commandEND
    1735.  01:6883                      
    1736.  01:6883                      	
    1737.  01:6883                      .step2:
    1738.  01:6883  CB 4F               	bit	1,a
    1739.  01:6885  CA 97 68            	jp	z,.step3
    1740.  01:6888                      
    1741.  01:6888                      	;--- set y
    1742.  01:6888  DD 36 0F 00         	ld	(ix+TRACK_Timer),0
    1743.  01:688C  DD 7E 05            	ld	a,(ix+TRACK_cmd_0)
    1744.  01:688F  E6 0F               	and	0x0f
    1745.  01:6891  DD 77 0B            	ld	(ix+TRACK_cmd_NoteAdd),a		
    1746.  01:6894  C3 FB 66            	jp	_pcAY_commandEND
    1747.  01:6897                      	
    1748.  01:6897                      .step3:
    1749.  01:6897                      	;--- set none
    1750.  01:6897  DD 36 0F 01         	ld	(ix+TRACK_Timer),1
    1751.  01:689B  C3 FB 66            	jp	_pcAY_commandEND
    1752.  01:689E                      	
    1753.  01:689E                      	
    1754.  01:689E                      _pcAY_cmd1_port_up:
    1755.  01:689E  DD 7E 06            	ld	a,(ix+TRACK_cmd_1)
    1756.  01:68A1  47                  	ld	b,a
    1757.  01:68A2  DD 7E 00            	ld	a,(ix+TRACK_cmd_ToneSlideAdd)
    1758.  01:68A5  90                  	sub	b
    1759.  01:68A6  DD 77 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),a
    1760.  01:68A9  D2 FB 66            	jp	nc,_pcAY_commandEND
    1761.  01:68AC  DD 35 01            	dec	(ix+TRACK_cmd_ToneSlideAdd+1)
    1762.  01:68AF  C3 FB 66            	jp	_pcAY_commandEND
    1763.  01:68B2                      	
    1764.  01:68B2                      _pcAY_cmd2_port_down:
    1765.  01:68B2  DD 7E 07            	ld	a,(ix+TRACK_cmd_2)
    1766.  01:68B5  47                  	ld	b,a
    1767.  01:68B6  DD 7E 00            	ld	a,(ix+TRACK_cmd_ToneSlideAdd)
    1768.  01:68B9  80                  	add	b
    1769.  01:68BA  DD 77 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),a
    1770.  01:68BD  D2 FB 66            	jp	nc,_pcAY_commandEND
    1771.  01:68C0  DD 34 01            	inc	(ix+TRACK_cmd_ToneSlideAdd+1)
    1772.  01:68C3  C3 FB 66            	jp	_pcAY_commandEND
    1773.  01:68C6                      
    1774.  01:68C6                      
    1775.  01:68C6                      _pcAY_cmd3_port_tone:
    1776.  01:68C6  DD 7E 08            	ld	a,(ix+TRACK_cmd_3)
    1777.  01:68C9  DD 6E 00            	ld	l,(ix+TRACK_cmd_ToneSlideAdd)
    1778.  01:68CC  DD 66 01            	ld	h,(ix+TRACK_cmd_ToneSlideAdd+1)
    1779.  01:68CF  CB 7C               	bit	7,h
    1780.  01:68D1  CA E7 68            	jp	z,_pcAY_cmd3_sub
    1781.  01:68D4                      _pcAY_cmd3_add:
    1782.  01:68D4                      	;pos slide
    1783.  01:68D4  85                  	add	a,l
    1784.  01:68D5  DD 77 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),a
    1785.  01:68D8  D2 FB 66            	jp	nc,_pcAY_commandEND
    1786.  01:68DB  24                  	inc	h					
    1787.  01:68DC  CB 7C               	bit	7,h
    1788.  01:68DE  CA FA 68            	jp	z,_pcAY_cmd3_stop			; delta turned pos ?
    1789.  01:68E1  DD 74 01            	ld	(ix+TRACK_cmd_ToneSlideAdd+1),h
    1790.  01:68E4  C3 FB 66            	jp	_pcAY_commandEND
    1791.  01:68E7                      _pcAY_cmd3_sub:
    1792.  01:68E7                      	;negative slide	
    1793.  01:68E7  4F                  	ld	c,a
    1794.  01:68E8  AF                  	xor	a
    1795.  01:68E9  47                  	ld	b,a
    1796.  01:68EA  ED 42               	sbc	hl,bc
    1797.  01:68EC  CB 7C               	bit	7,h
    1798.  01:68EE  C2 FA 68            	jp	nz,_pcAY_cmd3_stop			; delta turned neg ?
    1799.  01:68F1  DD 75 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),l
    1800.  01:68F4  DD 74 01            	ld	(ix+TRACK_cmd_ToneSlideAdd+1),h
    1801.  01:68F7  C3 FB 66            	jp	_pcAY_commandEND
    1802.  01:68FA                      _pcAY_cmd3_stop:	
    1803.  01:68FA  CB 9A               	res	B_TRGCMD,d		;(ix+TRACK_Flags)
    1804.  01:68FC  DD 36 00 00         	ld	(ix+TRACK_cmd_ToneSlideAdd),0
    1805.  01:6900  DD 36 01 00         	ld	(ix+TRACK_cmd_ToneSlideAdd+1),0	
    1806.  01:6904  C3 FB 66            	jp	_pcAY_commandEND
    1807.  01:6907                      
    1808.  01:6907                      
    1809.  01:6907                      	;-- vibrato	
    1810.  01:6907                      _pcAY_cmd4_vibrato:
    1811.  01:6907  2A 16 C0            	ld	hl,(replay_vib_table)
    1812.  01:690A                      	;--- Get next step
    1813.  01:690A  DD 7E 10            	ld	a,(IX+TRACK_Step)
    1814.  01:690D  DD 86 0A            	add	(ix+TRACK_cmd_4_step)
    1815.  01:6910  E6 3F               	and	$3F			; max	32
    1816.  01:6912  DD 77 10            	ld	(ix+TRACK_Step),a
    1817.  01:6915                      	
    1818.  01:6915  CB 6F               	bit	5,a			; step 32-63 the neg	
    1819.  01:6917  CA 39 69            	jp	z,_pcAY_cmd4pos
    1820.  01:691A                      
    1821.  01:691A                      ; neg	
    1822.  01:691A  E6 1F               	and	$1f
    1823.  01:691C  85                  	add	l
    1824.  01:691D  6F                  	ld	l,a
    1825.  01:691E  D2 22 69            	jp	nc,.skip
    1826.  01:6921  24                  	inc	h
    1827.  01:6922                      .skip:
    1828.  01:6922  7E                  	ld	a,(hl)
    1829.  01:6923                      	;apply depth
    1830.  01:6923  DD 46 09            	ld	b,(ix+TRACK_cmd_4_depth)
    1831.  01:6926                      .loop:
    1832.  01:6926  CB 3F               	srl	a
    1833.  01:6928  10 FC               	djnz	.loop
    1834.  01:692A                      ;	and	$0f
    1835.  01:692A                      
    1836.  01:692A  ED 44               	neg
    1837.  01:692C  CA 47 69            	jp	z,_pcAY_cmd4_zero			; $ff00 gives strange result ;)	
    1838.  01:692F  DD 77 02            	ld	(ix+TRACK_cmd_ToneAdd),a
    1839.  01:6932  DD 36 03 FF         	ld	(ix+TRACK_cmd_ToneAdd+1),0xff
    1840.  01:6936  C3 FB 66            	jp	_pcAY_commandEND
    1841.  01:6939                      
    1842.  01:6939                      _pcAY_cmd4pos:	
    1843.  01:6939                      ;	and	$1f
    1844.  01:6939  85                  	add	l
    1845.  01:693A  6F                  	ld	l,a
    1846.  01:693B  D2 3F 69            	jp	nc,.skip
    1847.  01:693E  24                  	inc	h
    1848.  01:693F                      .skip:
    1849.  01:693F  7E                  	ld	a,(hl)
    1850.  01:6940                      	;apply depth
    1851.  01:6940  DD 46 09            	ld	b,(ix+TRACK_cmd_4_depth)
    1852.  01:6943                      .loop:
    1853.  01:6943  CB 3F               	srl	a
    1854.  01:6945  10 FC               	djnz	.loop
    1855.  01:6947                      _pcAY_cmd4_zero:
    1856.  01:6947  DD 77 02            	ld	(ix+TRACK_cmd_ToneAdd),a
    1857.  01:694A  DD 36 03 00         	ld	(ix+TRACK_cmd_ToneAdd+1),0
    1858.  01:694E  C3 FB 66            	jp	_pcAY_commandEND
    1859.  01:6951                      		
    1860.  01:6951                      	
    1861.  01:6951                      
    1862.  01:6951                      _pcAY_cmd5_vibrato_port_tone:
    1863.  01:6951  CD 63 69            	call	_pcAY_cmdasub
    1864.  01:6954  C3 C6 68            	jp	_pcAY_cmd3_port_tone
    1865.  01:6957                      	
    1866.  01:6957                      _pcAY_cmd6_vibrato_vol:
    1867.  01:6957  CD 63 69            	call	_pcAY_cmdasub
    1868.  01:695A  C3 07 69            	jp	_pcAY_cmd4_vibrato	
    1869.  01:695D                      
    1870.  01:695D                      _pcAY_cmd7_vol_slide:
    1871.  01:695D  CD 63 69            	call	_pcAY_cmdasub
    1872.  01:6960  C3 FB 66            	jp	_pcAY_commandEND
    1873.  01:6963                      
    1874.  01:6963                      _pcAY_cmdasub:
    1875.  01:6963  DD 35 0F            	dec	(ix+TRACK_Timer)
    1876.  01:6966  C0                  	ret	nz
    1877.  01:6967                      		
    1878.  01:6967                      	; vol	slide
    1879.  01:6967  DD 7E 0C            	ld	a,(ix+TRACK_cmd_A)
    1880.  01:696A  4F                  	ld	c,a
    1881.  01:696B  E6 7F               	and	$7f
    1882.  01:696D  DD 77 0F            	ld	(ix+TRACK_Timer),a
    1883.  01:6970                      
    1884.  01:6970  DD 7E FF            	ld	a,(IX+TRACK_cmd_VolumeAdd)
    1885.  01:6973  CB 79               	bit	7,c
    1886.  01:6975  CA 81 69            	jp	z,_pcAY_cmda_inc
    1887.  01:6978                      _pcAY_cmda_dec:
    1888.  01:6978  FE 88               	cp	0x88
    1889.  01:697A  C8                  	ret	z
    1890.  01:697B  D6 08               	sub	8
    1891.  01:697D  DD 77 FF            	ld	(ix+TRACK_cmd_VolumeAdd),a
    1892.  01:6980  C9                  	ret
    1893.  01:6981                      _pcAY_cmda_inc:
    1894.  01:6981  FE 78               	cp	0x78
    1895.  01:6983  C8                  	ret	z
    1896.  01:6984  C6 08               	add	8	
    1897.  01:6986  DD 77 FF            	ld	(ix+TRACK_cmd_VolumeAdd),a
    1898.  01:6989  C9                  	ret
    1899.  01:698A                      	
    1900.  01:698A                      _pcAY_cmd8_macro_offset:
    1901.  01:698A  DD 35 0F            	dec	(ix+TRACK_Timer)
    1902.  01:698D  C2 FB 66            	jp	nz,_pcAY_commandEND
    1903.  01:6990  CB 9A               	res	B_TRGCMD,d			;(ix+TRACK_Flags)
    1904.  01:6992  C3 FB 66            	jp	_pcAY_commandEND
    1905.  01:6995                      
    1906.  01:6995                      
    1907.  01:6995                      _pcAY_cmdc_wave_duty:
    1908.  01:6995                      	;=================
    1909.  01:6995                      	; Waveform PWM / Duty Cycle
    1910.  01:6995                      	;=================
    1911.  01:6995  CB 9A               	res	B_TRGCMD,d			;(ix+TRACK_Flags)	; reset command
    1912.  01:6997  CB F2               	set	B_TRGWAV,d			;(ix+TRACK_Flags)	; reset normal wave update
    1913.  01:6999                      
    1914.  01:6999                      	;get the waveform	start	in [DE]
    1915.  01:6999  21 AD C1            	ld	hl,_0x9800
    1916.  01:699C  FD 7C               	ld	a,iyh		;ixh contains chan#
    1917.  01:699E  0F                  	rrca			; a mac value is 4 so
    1918.  01:699F  0F                  	rrca			; 3 times rrca is	X32
    1919.  01:69A0  0F                  	rrca			; max	result is 128.
    1920.  01:69A1  85                  	add	a,l
    1921.  01:69A2  6F                  	ld	l,a
    1922.  01:69A3  D2 A7 69            	jp	nc,.skip
    1923.  01:69A6  24                  	inc	h
    1924.  01:69A7                      .skip:
    1925.  01:69A7  DD 46 0D            	ld	b,(ix+TRACK_cmd_B)
    1926.  01:69AA  04                  	inc	b
    1927.  01:69AB                      
    1928.  01:69AB  0E 60               	ld	c,96	
    1929.  01:69AD  3E 20               	ld	a,32
    1930.  01:69AF  90                  	sub	b
    1931.  01:69B0                      _wspw_loop_h:
    1932.  01:69B0  71                  	ld	(hl),c
    1933.  01:69B1  23                  	inc	hl
    1934.  01:69B2  10 FC               	djnz	_wspw_loop_h
    1935.  01:69B4                      	
    1936.  01:69B4  A7                  	and	a
    1937.  01:69B5  CA FB 66            	jp	z,_pcAY_commandEND
    1938.  01:69B8                      	
    1939.  01:69B8  0E A0               	ld	c,-96
    1940.  01:69BA  47                  	ld	b,a
    1941.  01:69BB                      _wspw_loop_l:
    1942.  01:69BB  71                  	ld	(hl),c
    1943.  01:69BC  23                  	inc	hl
    1944.  01:69BD  10 FC               	djnz	_wspw_loop_l
    1945.  01:69BF                      
    1946.  01:69BF  C3 FB 66            	jp	_pcAY_commandEND
    1947.  01:69C2                      	
    1948.  01:69C2                      	
    1949.  01:69C2                      	
    1950.  01:69C2                      _pcAY_cmdd_wave_cut:
    1951.  01:69C2                      	;=================
    1952.  01:69C2                      	; Waveform Cut
    1953.  01:69C2                      	;=================
    1954.  01:69C2                      
    1955.  01:69C2  CB 9A               	res	B_TRGCMD,d		;(ix+TRACK_Flags)	; reset command
    1956.  01:69C4  CB F2               	set	B_TRGWAV,d		;(ix+TRACK_Flags)	; reset normal wave update
    1957.  01:69C6  7A                  	ld	a,d
    1958.  01:69C7  08                  	ex	AF,AF;'
    1959.  01:69C8                      
    1960.  01:69C8                      	;get the waveform	start	in [DE]
    1961.  01:69C8  11 AD C1            	ld	de,_0x9800
    1962.  01:69CB  FD 7C               	ld	a,iyh		;ixh contains chan#
    1963.  01:69CD  0F                  	rrca			; a mac value is 4 so
    1964.  01:69CE  0F                  	rrca			; 3 times rrca is	X32
    1965.  01:69CF  0F                  	rrca			; max	result is 128.
    1966.  01:69D0  83                  	add	a,e
    1967.  01:69D1  5F                  	ld	e,a
    1968.  01:69D2  D2 D6 69            	jp	nc,.skip
    1969.  01:69D5  14                  	inc	d
    1970.  01:69D6                      .skip:
    1971.  01:69D6  DD 7E F8            	ld	a,(ix+TRACK_Waveform)
    1972.  01:69D9  3C                  	inc	a	
    1973.  01:69DA  DD 77 F8            	ld	(ix+TRACK_Waveform),a
    1974.  01:69DD  3D                  	dec	a
    1975.  01:69DE                      
    1976.  01:69DE                      ;	add	a,a
    1977.  01:69DE                      ;	add	a,a
    1978.  01:69DE                      ;	add	a,a	
    1979.  01:69DE                      
    1980.  01:69DE  6F                  	ld	l,a
    1981.  01:69DF  26 00               	ld	h,0
    1982.  01:69E1  29                  	add	hl,hl
    1983.  01:69E2  29                  	add	hl,hl
    1984.  01:69E3                      		
    1985.  01:69E3  ED 4B 06 C0         	ld	  bc,(replay_wavebase)
    1986.  01:69E7  09                  	add	  hl,bc
    1987.  01:69E8                      
    1988.  01:69E8  DD 7E 0D            	ld	a,(ix+TRACK_cmd_B)
    1989.  01:69EB                      ;	inc	a
    1990.  01:69EB                      ;	add	a
    1991.  01:69EB  4F                  	ld	c,a
    1992.  01:69EC  06 00               	ld	b,0
    1993.  01:69EE  ED B0               	ldir
    1994.  01:69F0                      	
    1995.  01:69F0  EB                  	EX	DE,HL
    1996.  01:69F1                      
    1997.  01:69F1                      	
    1998.  01:69F1  D6 20               	sub	32
    1999.  01:69F3  ED 44               	neg	
    2000.  01:69F5  47                  	ld	b,a
    2001.  01:69F6  08                  	EX	AF,AF'		;'
    2002.  01:69F7  57                  	LD	D,A
    2003.  01:69F8  CA FB 66            	jp	z,_pcAY_commandEND	
    2004.  01:69FB                      	
    2005.  01:69FB  AF                  	xor	a
    2006.  01:69FC                      _wsc_l:
    2007.  01:69FC  77                  	ld	(HL),a
    2008.  01:69FD  23                  	inc	HL
    2009.  01:69FE  10 FC               	djnz	_wsc_l
    2010.  01:6A00                      	
    2011.  01:6A00  C3 FB 66            	jp	_pcAY_commandEND
    2012.  01:6A03                      		
    2013.  01:6A03                      	
    2014.  01:6A03                      	
    2015.  01:6A03                      _pcAY_cmde_wave_compr:
    2016.  01:6A03                      	;=================
    2017.  01:6A03                      	; Waveform Compress
    2018.  01:6A03                      	;=================
    2019.  01:6A03  CB 9A               	res	B_TRGCMD,d	;(ix+TRACK_Flags)	; reset command
    2020.  01:6A05  CB F2               	set	B_TRGWAV,d	;(ix+TRACK_Flags)	; reset normal wave update
    2021.  01:6A07  7A                  	ld	a,d
    2022.  01:6A08  08                  	ex	AF,AF;'
    2023.  01:6A09                      	
    2024.  01:6A09                      	;get the waveform	start	in [DE]
    2025.  01:6A09  11 AD C1            	ld	de,_0x9800
    2026.  01:6A0C  FD 7C               	ld	a,iyh		;ixh contains chan#
    2027.  01:6A0E  0F                  	rrca			; a mac value is 4 so
    2028.  01:6A0F  0F                  	rrca			; 3 times rrca is	X32
    2029.  01:6A10  0F                  	rrca			; max	result is 128.
    2030.  01:6A11  83                  	add	a,e
    2031.  01:6A12  5F                  	ld	e,a
    2032.  01:6A13  D2 17 6A            	jp	nc,.skip
    2033.  01:6A16  14                  	inc	d
    2034.  01:6A17                      .skip:
    2035.  01:6A17  DD 7E F8            	ld	a,(ix+TRACK_Waveform)
    2036.  01:6A1A  3C                  	inc	a
    2037.  01:6A1B  DD 77 F8            	ld	(ix+TRACK_Waveform),a
    2038.  01:6A1E  3D                  	dec	a
    2039.  01:6A1F                      
    2040.  01:6A1F                      ;	add	a,a
    2041.  01:6A1F                      ;	add	a,a
    2042.  01:6A1F                      ;	add	a,a	
    2043.  01:6A1F                      
    2044.  01:6A1F  6F                  	ld	l,a
    2045.  01:6A20  26 00               	ld	h,0
    2046.  01:6A22  29                  	add	hl,hl
    2047.  01:6A23  29                  	add	hl,hl
    2048.  01:6A24                      		
    2049.  01:6A24  ED 4B 06 C0         	ld	  bc,(replay_wavebase)
    2050.  01:6A28  09                  	add	  hl,bc
    2051.  01:6A29                      
    2052.  01:6A29  DD 7E 0D            	ld	a,(ix+TRACK_cmd_B)
    2053.  01:6A2C  01 40 00            	ld	bc,0x0040
    2054.  01:6A2F  0F                  	rrca	; x32
    2055.  01:6A30  0F                  	rrca
    2056.  01:6A31  0F                  	rrca
    2057.  01:6A32  C6 1F               	add	31
    2058.  01:6A34  FD 6F               	ld	iyl,a		; fraction
    2059.  01:6A36  AF                  	xor	a	
    2060.  01:6A37                      _wcomp_loop:
    2061.  01:6A37  ED A0               	ldi			
    2062.  01:6A39  0D                  	dec	c
    2063.  01:6A3A  CA 49 6A            	jp	z,.skip
    2064.  01:6A3D  FD 85               	add	iyl
    2065.  01:6A3F  D2 37 6A            	jp	nc,_wcomp_loop
    2066.  01:6A42  23                  	inc	hl
    2067.  01:6A43  04                  	inc	b
    2068.  01:6A44  0D                  	dec	c
    2069.  01:6A45  0D                  	dec	c
    2070.  01:6A46  C2 37 6A            	jp	nz,_wcomp_loop
    2071.  01:6A49                      	
    2072.  01:6A49                      	;--- remaining data
    2073.  01:6A49                      .skip:
    2074.  01:6A49  2B                  	dec	hl
    2075.  01:6A4A  7E                  	ld	a,(hl)
    2076.  01:6A4B                      .loop:
    2077.  01:6A4B  12                  	ld	(de),a
    2078.  01:6A4C  13                  	inc	de
    2079.  01:6A4D  10 FC               	djnz	.loop
    2080.  01:6A4F                      	
    2081.  01:6A4F  08                  	EX	AF,AF'		;'
    2082.  01:6A50  57                  	LD	D,A	
    2083.  01:6A51  C3 FB 66            	jp	_pcAY_commandEND		
    2084.  01:6A54                      	
    2085.  01:6A54                      
    2086.  01:6A54                      _pcAY_cmd13_short_arp:
    2087.  01:6A54  DD 35 0F            	dec	(ix+TRACK_Timer)
    2088.  01:6A57  CB 42               	bit	B_TRGNOT,d		;(ix+TRACK_Timer)
    2089.  01:6A59  CA FB 66            	jp	z,_pcAY_commandEND
    2090.  01:6A5C  DD 7E 0E            	ld	a,(ix+TRACK_cmd_E)
    2091.  01:6A5F  DD 77 0B            	ld	(ix+TRACK_cmd_NoteAdd),a		
    2092.  01:6A62  C3 FB 66            	jp	_pcAY_commandEND
    2093.  01:6A65                      
    2094.  01:6A65                      _pcAY_cmd14_fine_up:
    2095.  01:6A65  DD 35 0F            	dec	(ix+TRACK_Timer)
    2096.  01:6A68  C2 FB 66            	jp	nz,_pcAY_commandEND
    2097.  01:6A6B                      
    2098.  01:6A6B  CB 9A               	res	B_TRGCMD,d			;(ix+TRACK_Flags)
    2099.  01:6A6D  DD 7E 00            	ld	a,(ix+TRACK_cmd_ToneSlideAdd)
    2100.  01:6A70  DD 86 0E            	add	(ix+TRACK_cmd_E)
    2101.  01:6A73  DD 77 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),a
    2102.  01:6A76  D2 FB 66            	jp	nc,_pcAY_commandEND	
    2103.  01:6A79  DD 34 01            	inc	(ix+TRACK_cmd_ToneSlideAdd+1)
    2104.  01:6A7C  C3 FB 66            	jp	_pcAY_commandEND	
    2105.  01:6A7F                      
    2106.  01:6A7F                      _pcAY_cmd15_fine_down:
    2107.  01:6A7F  DD 35 0F            	dec	(ix+TRACK_Timer)
    2108.  01:6A82  C2 FB 66            	jp	nz,_pcAY_commandEND
    2109.  01:6A85                      
    2110.  01:6A85  CB 9A               	res	B_TRGCMD,d		;(ix+TRACK_Flags)
    2111.  01:6A87  DD 7E 00            	ld	a,(ix+TRACK_cmd_ToneSlideAdd)
    2112.  01:6A8A  DD 96 0E            	sub	(ix+TRACK_cmd_E)
    2113.  01:6A8D  DD 77 00            	ld	(ix+TRACK_cmd_ToneSlideAdd),a
    2114.  01:6A90  D2 FB 66            	jp	nc,_pcAY_commandEND	
    2115.  01:6A93  DD 35 01            	dec	(ix+TRACK_cmd_ToneSlideAdd+1)
    2116.  01:6A96  C3 FB 66            	jp	_pcAY_commandEND	
    2117.  01:6A99                      
    2118.  01:6A99                      
    2119.  01:6A99                      _pcAY_cmdXX_note_cut:
    2120.  01:6A99  DD 35 0F            	dec	(ix+TRACK_Timer)
    2121.  01:6A9C  C2 FB 66            	jp	nz,_pcAY_commandEND
    2122.  01:6A9F                      	
    2123.  01:6A9F                      	; stop note
    2124.  01:6A9F  CB 9A               	res	B_TRGCMD,d	; set	note bit to	0
    2125.  01:6AA1  CB 82               	res	B_TRGNOT,d
    2126.  01:6AA3  C3 FB 66            	jp	_pcAY_commandEND		
    2127.  01:6AA6                      	
    2128.  01:6AA6                      _pcAY_cmd19_note_delay:
    2129.  01:6AA6                      	; note delay
    2130.  01:6AA6  DD 35 0F            	dec	(ix+TRACK_Timer)
    2131.  01:6AA9  C2 FB 66            	jp	nz,_pcAY_commandEND	; no delay yet
    2132.  01:6AAC                      
    2133.  01:6AAC                      	; trigger note
    2134.  01:6AAC  DD 7E 0E            	ld	a,(ix+TRACK_cmd_E)		
    2135.  01:6AAF  DD 77 F6            	ld	(ix+TRACK_Note),a		; set	the note val
    2136.  01:6AB2  CB C2               	set	B_TRGNOT,d	;(ix+TRACK_Flags)		; set	trigger note flag
    2137.  01:6AB4  CB 9A               	res	B_TRGCMD,d	;(ix+TRACK_Flags)		; reset tiggger cmd flag
    2138.  01:6AB6                      	
    2139.  01:6AB6  C3 FB 66            	jp	_pcAY_commandEND	
    2140.  01:6AB9                      
    2141.  01:6AB9                      
    2142.  01:6AB9                      
    2143.  01:6AB9                      ;===========================================================
    2144.  01:6AB9                      ; ---replay_route
    2145.  01:6AB9                      ; Output the data	to the CHIP	registers
    2146.  01:6AB9                      ; 
    2147.  01:6AB9                      ; 
    2148.  01:6AB9                      ;===========================================================
    2149.  01:6AB9                      replay_route:
    2150.  01:6AB9                      ;---------------
    2151.  01:6AB9                      ; P S	G 
    2152.  01:6AB9                      ;---------------
    2153.  01:6AB9                      	;--- Push values to AY HW
    2154.  01:6AB9  06 00               	ld	b,0
    2155.  01:6ABB  0E A0               	ld	c,0xa0
    2156.  01:6ABD  21 9F C1            	ld	hl,AY_registers
    2157.  01:6AC0                      _comp_loop:	
    2158.  01:6AC0  ED 41               	out	(c),b
    2159.  01:6AC2  7E                  	ld	a,(hl)
    2160.  01:6AC3  C6 01               	add	1
    2161.  01:6AC5  D3 A1               	out	(0xa1),a
    2162.  01:6AC7  23                  	inc	hl
    2163.  01:6AC8  7E                  	ld	a,(hl)
    2164.  01:6AC9  CE 00               	adc	a,0
    2165.  01:6ACB  04                  	inc	b
    2166.  01:6ACC  ED 41               	out	(c),b	
    2167.  01:6ACE  23                  	inc	hl
    2168.  01:6ACF  D3 A1               	out	(0xa1),a	
    2169.  01:6AD1  04                  	inc	b
    2170.  01:6AD2  3E 06               	ld	a,6
    2171.  01:6AD4  B8                  	cp	b
    2172.  01:6AD5  C2 C0 6A            	jp	nz,_comp_loop
    2173.  01:6AD8                      	
    2174.  01:6AD8  78                  	ld	a,b	
    2175.  01:6AD9                      	
    2176.  01:6AD9                      	
    2177.  01:6AD9                      _ptAY_loop:
    2178.  01:6AD9  ED 79               	out	(c),a
    2179.  01:6ADB  0C                  	inc	c
    2180.  01:6ADC  ED A3               	outi
    2181.  01:6ADE  0D                  	dec	c
    2182.  01:6ADF  3C                  	inc	a
    2183.  01:6AE0  FE 0D               	cp	13
    2184.  01:6AE2  20 F5               	jr	nz,_ptAY_loop
    2185.  01:6AE4                      
    2186.  01:6AE4  47                  	ld	b,a
    2187.  01:6AE5  7E                  	ld	a,(hl)
    2188.  01:6AE6  A7                  	and	a
    2189.  01:6AE7  CA F1 6A            	jp	z,_ptAY_noEnv
    2190.  01:6AEA  ED 41               	out	(c),b
    2191.  01:6AEC  0C                  	inc	c
    2192.  01:6AED  ED 79               	out 	(c),a
    2193.  01:6AEF  36 00               	ld	(hl),0	;reset the envwrite
    2194.  01:6AF1                      	
    2195.  01:6AF1                      	
    2196.  01:6AF1                      _ptAY_noEnv:
    2197.  01:6AF1                      ;--------------
    2198.  01:6AF1                      ; S C	C 
    2199.  01:6AF1                      ;--------------
    2200.  01:6AF1  3E 3F               	ld  a,03Fh				; enable SCC
    2201.  01:6AF3  32 00 90            	ld  (0x9000),a
    2202.  01:6AF6                      
    2203.  01:6AF6                      	;--- Set the waveforms
    2204.  01:6AF6  21 DB C0            	ld	hl,TRACK_Chan4+17+TRACK_Flags
    2205.  01:6AF9  CB 76               	bit	B_TRGWAV,(hl)
    2206.  01:6AFB  CA 09 6B            	jp	z,.skip
    2207.  01:6AFE                      	;--- set wave form
    2208.  01:6AFE  CB B6               	res	B_TRGWAV,(hl)
    2209.  01:6B00  3A DA C0            	ld	a,(TRACK_Chan4+17+TRACK_Waveform)
    2210.  01:6B03  11 00 98            	ld	de,0x9800
    2211.  01:6B06  CD 61 6B            	call	_write_SCC_wave
    2212.  01:6B09                      .skip:
    2213.  01:6B09  21 01 C1            	ld	hl,TRACK_Chan5+17+TRACK_Flags
    2214.  01:6B0C  CB 76               	bit	B_TRGWAV,(hl)
    2215.  01:6B0E  CA 1C 6B            	jp	z,.skip2
    2216.  01:6B11                      	;--- set wave form
    2217.  01:6B11  CB B6               	res	B_TRGWAV,(hl)
    2218.  01:6B13  3A 00 C1            	ld	a,(TRACK_Chan5+17+TRACK_Waveform)
    2219.  01:6B16  11 20 98            	ld	de,0x9820
    2220.  01:6B19  CD 61 6B            	call	_write_SCC_wave
    2221.  01:6B1C                      .skip2:
    2222.  01:6B1C  21 27 C1            	ld	hl,TRACK_Chan6+17+TRACK_Flags
    2223.  01:6B1F  CB 76               	bit	B_TRGWAV,(hl)
    2224.  01:6B21  CA 2F 6B            	jp	z,.skip3
    2225.  01:6B24                      	;--- set wave form
    2226.  01:6B24  CB B6               	res	B_TRGWAV,(hl)
    2227.  01:6B26  3A 26 C1            	ld	a,(TRACK_Chan6+17+TRACK_Waveform)
    2228.  01:6B29  11 40 98            	ld	de,0x9840
    2229.  01:6B2C  CD 61 6B            	call	_write_SCC_wave
    2230.  01:6B2F                      .skip3:
    2231.  01:6B2F  21 4D C1            	ld	hl,TRACK_Chan7+17+TRACK_Flags
    2232.  01:6B32  CB 76               	bit	B_TRGWAV,(hl)
    2233.  01:6B34  CA 42 6B            	jp	z,.skip4
    2234.  01:6B37                      	;--- set wave form
    2235.  01:6B37  CB B6               	res	B_TRGWAV,(hl)
    2236.  01:6B39  3A 4C C1            	ld	a,(TRACK_Chan7+17+TRACK_Waveform)
    2237.  01:6B3C  11 60 98            	ld	de,0x9860
    2238.  01:6B3F  CD 61 6B            	call	_write_SCC_wave
    2239.  01:6B42                      .skip4:
    2240.  01:6B42                      
    2241.  01:6B42                      scc_reg_update:
    2242.  01:6B42                      
    2243.  01:6B42  3E 3F               	ld  a,03Fh				; enable SCC
    2244.  01:6B44  32 00 90            	ld  (0x9000),a
    2245.  01:6B47                      
    2246.  01:6B47                      	;--- Update changed SCC registers.
    2247.  01:6B47  21 3D C2            	ld hl,oldregs
    2248.  01:6B4A  11 2D C2            	ld de,SCC_registers
    2249.  01:6B4D  01 80 98            	ld bc,0x9880
    2250.  01:6B50  3E 10               	ld a,3*5+1
    2251.  01:6B52                      loop:
    2252.  01:6B52  08                  	ex af,af'	;'
    2253.  01:6B53  1A                  	ld a,(de)
    2254.  01:6B54  BE                  	cp (hl)
    2255.  01:6B55  28 02               	jr z,.skip
    2256.  01:6B57  77                  	ld (hl),a	     ; update old	registers in ram
    2257.  01:6B58  02                  	ld (bc),a	     ; update scc	registers
    2258.  01:6B59                      .skip:	    
    2259.  01:6B59  23                  	inc hl
    2260.  01:6B5A  13                  	inc de
    2261.  01:6B5B  03                  	inc bc
    2262.  01:6B5C  08                  	ex af,af'		;'
    2263.  01:6B5D  3D                  	dec a
    2264.  01:6B5E  20 F2               	jr nz, loop
    2265.  01:6B60  C9                  	ret
    2266.  01:6B61                      
    2267.  01:6B61                      	
    2268.  01:6B61                      	
    2269.  01:6B61                      ;==================
    2270.  01:6B61                      ; _write_SCC_wave
    2271.  01:6B61                      ;
    2272.  01:6B61                      ; Writes waveform	data.	[DE] contains location for data
    2273.  01:6B61                      ; [A]	contains waveform	number + flags for special actions
    2274.  01:6B61                      ; Data is not written to SCC but into RAM	shadow registers.
    2275.  01:6B61                      ;==================
    2276.  01:6B61                      _write_SCC_wave:
    2277.  01:6B61  CB 66               	bit	B_ACTMOR,(hl)
    2278.  01:6B63  C2 8F 6B            	jp	nz,_write_SCC_special
    2279.  01:6B66                      	
    2280.  01:6B66  CB 47               	bit	0,a
    2281.  01:6B68  C2 7B 6B            	jp	nz,.ramwave
    2282.  01:6B6B                      ;	add	a,a
    2283.  01:6B6B                      ;	add	a,a
    2284.  01:6B6B                      ;	add	a,a
    2285.  01:6B6B                      
    2286.  01:6B6B                      .normalwave:
    2287.  01:6B6B  6F                  	ld	l,a
    2288.  01:6B6C  26 00               	ld	h,0
    2289.  01:6B6E  29                  	add	hl,hl
    2290.  01:6B6F  29                  	add	hl,hl
    2291.  01:6B70                      		
    2292.  01:6B70  ED 4B 06 C0         	ld	  bc,(replay_wavebase)
    2293.  01:6B74  09                  	add	  hl,bc
    2294.  01:6B75  01 20 00            	ld	  bc,32
    2295.  01:6B78  ED B0               	ldir
    2296.  01:6B7A  C9                  	ret
    2297.  01:6B7B                      	
    2298.  01:6B7B                      	
    2299.  01:6B7B                      .ramwave:
    2300.  01:6B7B  2B                  	dec	hl		; reset the special flag in the wave form number
    2301.  01:6B7C  E6 FE               	and	$fe
    2302.  01:6B7E  77                  	ld	(hl),a
    2303.  01:6B7F                      
    2304.  01:6B7F  21 AD C1            	ld	hl,_0x9800
    2305.  01:6B82  7B                  	ld	a,e
    2306.  01:6B83  85                  	add	a,l
    2307.  01:6B84  6F                  	ld	l,a
    2308.  01:6B85  D2 89 6B            	jp	nc,.skip
    2309.  01:6B88  24                  	inc	h
    2310.  01:6B89                      .skip:
    2311.  01:6B89  01 20 00            	ld	  bc,32
    2312.  01:6B8C  ED B0               	ldir
    2313.  01:6B8E  C9                  	ret	
    2314.  01:6B8F                      	
    2315.  01:6B8F                      	
    2316.  01:6B8F                      	
    2317.  01:6B8F                      
    2318.  01:6B8F                      
    2319.  01:6B8F                      _write_SCC_special:
    2320.  01:6B8F  21 1F C0            	ld	hl,replay_morph_buffer+1
    2321.  01:6B92  06 20               	ld	b,32
    2322.  01:6B94                      _wss_l:
    2323.  01:6B94  7E                  	ld	a,(hl)
    2324.  01:6B95  12                  	ld	(de),a
    2325.  01:6B96  23                  	inc	hl
    2326.  01:6B97  23                  	inc	hl
    2327.  01:6B98  13                  	inc	de
    2328.  01:6B99  10 F9               	djnz	_wss_l
    2329.  01:6B9B                      	 
    2330.  01:6B9B                      	
    2331.  01:6B9B  C9                  	ret
    2332.  01:6B9C                      
    2333.  01:6B9C                      	
    2334.  01:6B9C                      ;=============
    2335.  01:6B9C                      ; in [A] the morph active status	
    2336.  01:6B9C                      replay_process_morph:
    2337.  01:6B9C  21 1B C0            	ld	hl,replay_morph_timer
    2338.  01:6B9F  35                  	dec	(hl)
    2339.  01:6BA0  C0                  	ret	nz
    2340.  01:6BA1                      	
    2341.  01:6BA1                      	;---- not sure what to do with this.
    2342.  01:6BA1                      	; trigger any waveform updates
    2343.  01:6BA1  06 04               	ld	b,4
    2344.  01:6BA3  11 26 00            	ld	de,TRACK_REC_SIZE
    2345.  01:6BA6  21 DB C0            	ld	hl,TRACK_Chan4+17+TRACK_Flags
    2346.  01:6BA9                      .loop:	
    2347.  01:6BA9  CB 66               	bit 	B_ACTMOR,(hl)
    2348.  01:6BAB  CA B0 6B            	jp	z,.skip
    2349.  01:6BAE  CB F6               	set	B_TRGWAV,(hl)
    2350.  01:6BB0                      .skip:
    2351.  01:6BB0  19                  	add	hl,de
    2352.  01:6BB1  10 F6               	djnz	.loop	
    2353.  01:6BB3                      	
    2354.  01:6BB3                      	
    2355.  01:6BB3                      	;---- timer ended.
    2356.  01:6BB3  3C                  	inc	a
    2357.  01:6BB4  C2 02 6C            	jp	nz,_rpm_next_step		; if status was !=255 then skip init
    2358.  01:6BB7                      
    2359.  01:6BB7                      	;---- calculate offset
    2360.  01:6BB7  3C                  	inc	a		
    2361.  01:6BB8  32 1A C0            	ld	(replay_morph_active),a		; set status to 1
    2362.  01:6BBB                      ;	ld	(replay_morph_update),a		; after this update the waveforms of the SCC
    2363.  01:6BBB                      
    2364.  01:6BBB  3A 1C C0            	ld	a,(replay_morph_speed)
    2365.  01:6BBE  32 1B C0            	ld	(replay_morph_timer),a
    2366.  01:6BC1                      	
    2367.  01:6BC1                      
    2368.  01:6BC1                      	;--- calculate the delta's
    2369.  01:6BC1  11 1E C0            	ld	de,replay_morph_buffer
    2370.  01:6BC4  2A 06 C0            	ld	hl,(replay_wavebase)
    2371.  01:6BC7  3A 5E C0            	ld	a,(replay_morph_waveform)
    2372.  01:6BCA  87                  	add	a
    2373.  01:6BCB  D2 CF 6B            	jp	nc,.skip2
    2374.  01:6BCE  24                  	inc	h
    2375.  01:6BCF                      .skip2:
    2376.  01:6BCF  85                  	add	a,l
    2377.  01:6BD0  6F                  	ld	l,a
    2378.  01:6BD1  D2 D5 6B            	jp	nc,.skip3
    2379.  01:6BD4  24                  	inc	h
    2380.  01:6BD5                      .skip3:	
    2381.  01:6BD5                      	;---- start calculating
    2382.  01:6BD5  06 20               	ld	b,32		; 32 values
    2383.  01:6BD7                      _rpm_loop:	
    2384.  01:6BD7  13                  	inc	de
    2385.  01:6BD8  1A                  	ld	a,(de)
    2386.  01:6BD9  1B                  	dec	de
    2387.  01:6BDA  C6 80               	add	a,128
    2388.  01:6BDC  4F                  	ld	c,a
    2389.  01:6BDD  7E                  	ld	a,(hl)
    2390.  01:6BDE  C6 80               	add	a,128
    2391.  01:6BE0  B9                  	cp	c
    2392.  01:6BE1  DA F2 6B            	jp	c,_rpm_smaller		; dest is smaller
    2393.  01:6BE4                      
    2394.  01:6BE4                      	
    2395.  01:6BE4                      _rpm_larger:
    2396.  01:6BE4  91                  	sub	c
    2397.  01:6BE5  0F                  	rrca
    2398.  01:6BE6  0F                  	rrca
    2399.  01:6BE7  0F                  	rrca
    2400.  01:6BE8  0F                  	rrca
    2401.  01:6BE9  E6 EF               	and	$ef		; reset bit 5
    2402.  01:6BEB  12                  	ld	(de),a
    2403.  01:6BEC                      	
    2404.  01:6BEC  13                  	inc	de
    2405.  01:6BED  13                  	inc	de
    2406.  01:6BEE  23                  	inc	hl
    2407.  01:6BEF  10 E6               	djnz	_rpm_loop
    2408.  01:6BF1  C9                  	ret	
    2409.  01:6BF2                      	
    2410.  01:6BF2                      _rpm_smaller:
    2411.  01:6BF2  91                  	sub	c
    2412.  01:6BF3  ED 44               	neg	
    2413.  01:6BF5  0F                  	rrca
    2414.  01:6BF6  0F                  	rrca
    2415.  01:6BF7  0F                  	rrca
    2416.  01:6BF8  0F                  	rrca
    2417.  01:6BF9  F6 10               	or	$10		; set bit 5
    2418.  01:6BFB  12                  	ld	(de),a
    2419.  01:6BFC                      	
    2420.  01:6BFC  13                  	inc	de
    2421.  01:6BFD  13                  	inc	de
    2422.  01:6BFE  23                  	inc	hl
    2423.  01:6BFF  10 D6               	djnz	_rpm_loop
    2424.  01:6C01  C9                  	ret		
    2425.  01:6C02                      	
    2426.  01:6C02                      ;============================
    2427.  01:6C02                      _rpm_next_step:
    2428.  01:6C02  3A 1C C0            	ld	a,(replay_morph_speed)
    2429.  01:6C05  32 1B C0            	ld	(replay_morph_timer),a
    2430.  01:6C08                      
    2431.  01:6C08                      	;-- apply the delta's
    2432.  01:6C08  3A 1D C0            	ld	a,(replay_morph_counter)
    2433.  01:6C0B  4F                  	ld	c,a
    2434.  01:6C0C  C6 10               	add	16
    2435.  01:6C0E  32 1D C0            	ld	(replay_morph_counter),a
    2436.  01:6C11  C2 17 6C            	jp	nz,.skip
    2437.  01:6C14                      	;--- end morph
    2438.  01:6C14  32 1A C0            	ld	(replay_morph_active),a
    2439.  01:6C17                      
    2440.  01:6C17                      .skip:
    2441.  01:6C17  0D                  	dec c
    2442.  01:6C18  21 1E C0            	ld	hl,replay_morph_buffer
    2443.  01:6C1B  06 20               	ld	b,32
    2444.  01:6C1D                      _rpm_ns_loop:	
    2445.  01:6C1D  7E                  	ld	a,(hl)
    2446.  01:6C1E  CB 67               	bit 	4,a
    2447.  01:6C20  CA 35 6C            	jp	z,_rmp_ns_add
    2448.  01:6C23                      _rmp_ns_sub:
    2449.  01:6C23                      	;--- handle corection
    2450.  01:6C23  E6 EF               	and	$ef
    2451.  01:6C25  B9                  	cp	c		; correction < counteR?
    2452.  01:6C26  DA 2A 6C            	jp	c,.skip
    2453.  01:6C29  3C                  	inc	a		; if smaller C was set
    2454.  01:6C2A                      .skip:
    2455.  01:6C2A  E6 1F               	and	00011111b	; keep lower 5 bits
    2456.  01:6C2C  23                  	inc	hl
    2457.  01:6C2D  57                  	ld	d,a
    2458.  01:6C2E  7E                  	ld	a,(hl)
    2459.  01:6C2F  92                  	sub	d
    2460.  01:6C30  77                  	ld	(hl),a	; load new value
    2461.  01:6C31  23                  	inc	hl
    2462.  01:6C32  10 E9               	djnz	_rpm_ns_loop
    2463.  01:6C34  C9                  	ret	
    2464.  01:6C35                      _rmp_ns_add:
    2465.  01:6C35                      	;--- handle corection
    2466.  01:6C35  B9                  	cp	c		; correction < counter?
    2467.  01:6C36  DA 3A 6C            	jp	c,.skip
    2468.  01:6C39  3C                  	inc	a		; if smaller C was set
    2469.  01:6C3A                      .skip:
    2470.  01:6C3A  E6 1F               	and	00011111b	; keep lower 5 bits
    2471.  01:6C3C  23                  	inc	hl
    2472.  01:6C3D  86                  	add	(hl)		; subtract waveform value
    2473.  01:6C3E  77                  	ld	(hl),a	; load new value
    2474.  01:6C3F  23                  	inc	hl
    2475.  01:6C40  10 DB               	djnz	_rpm_ns_loop
    2476.  01:6C42  C9                  	ret		
    2477.  01:6C43                      	
    2478.  01:6C43                      
    2479.  01:6C43                      
      51   01:6C43                      		include	"ms_crtl.asm"
       1.  01:6C43                      	
       2.  01:6C43  (01:0000)           ms_fly__right				equ	0
       3.  01:6C43  (01:0001)           ms_spin_face_right			equ	1
       4.  01:6C43  (01:0002)           ms_side_dwn_face_right		equ	2
       5.  01:6C43  (01:0003)           ms_side_up__face_right		equ	3
       6.  01:6C43                      
       7.  01:6C43  (01:0004)           ms_fly__left				equ	4
       8.  01:6C43  (01:0005)           ms_spin_face_left			equ	5
       9.  01:6C43  (01:0006)           ms_side_dwn_face_left		equ	6
      10.  01:6C43  (01:0007)           ms_side_up__face_left		equ	7
      11.  01:6C43                      
      12.  01:6C43  (01:0008)           ms_loop_right2left			equ	8
      13.  01:6C43  (01:0009)           ms_loop_left2right			equ	9
      14.  01:6C43                      
      15.  01:6C43  (01:000A)           ms_explode					equ	10
      16.  01:6C43  (01:000B)           ms_landing					equ	11
      17.  01:6C43  (01:000C)           ms_reset					equ	12
      18.  01:6C43                      
      19.  01:6C43                      ;%%%%%%%%%%%%%%%%%%%%%%
      20.  01:6C43                      ms_ctrl:
      21.  01:6C43  3A 97 D3            		ld	a,(ms_state)
      22.  01:6C46  FE 09               		cp	ms_explode-1		; ms cannot move while exploding landing or at level reset
      23.  01:6C48  DC 96 6C            		call	c,.ms_directions
      24.  01:6C4B                      
      25.  01:6C4B                      .intro:
      26.  01:6C4B  3A 97 D3            		ld	a,(ms_state)
      27.  01:6C4E  FE 00               		cp	ms_fly__right
      28.  01:6C50  CA 88 6D            		jp	z,.ms_fly__right
      29.  01:6C53                      	
      30.  01:6C53  FE 08               		cp	ms_loop_right2left
      31.  01:6C55  CA D7 6D            		jp	z,.ms_loop_right2left
      32.  01:6C58                      		
      33.  01:6C58  FE 05               		cp	ms_spin_face_left
      34.  01:6C5A  CA ED 6D            		jp	z,.ms_spin_face_left
      35.  01:6C5D                      		
      36.  01:6C5D  FE 04               		cp	ms_fly__left
      37.  01:6C5F  CA 03 6E            		jp	z,.ms_fly__left
      38.  01:6C62                      		
      39.  01:6C62  FE 09               		cp	ms_loop_left2right
      40.  01:6C64  CA 55 6E            		jp	z,.ms_loop_left2right
      41.  01:6C67                      
      42.  01:6C67  FE 01               		cp	ms_spin_face_right
      43.  01:6C69  CA 6B 6E            		jp	z,.ms_spin_face_right
      44.  01:6C6C                      		
      45.  01:6C6C  FE 02               		cp	ms_side_dwn_face_right
      46.  01:6C6E  CA 81 6E            		jp	z,.ms_side_dwn_face_right
      47.  01:6C71                      
      48.  01:6C71  FE 03               		cp	ms_side_up__face_right
      49.  01:6C73  CA B8 6E            		jp	z,.ms_side_up__face_right
      50.  01:6C76                      		
      51.  01:6C76  FE 06               		cp	ms_side_dwn_face_left
      52.  01:6C78  CA EF 6E            		jp	z,.ms_side_dwn_face_left
      53.  01:6C7B                      
      54.  01:6C7B  FE 07               		cp	ms_side_up__face_left
      55.  01:6C7D  CA 27 6F            		jp	z,.ms_side_up__face_left
      56.  01:6C80                      
      57.  01:6C80  FE 0A               		cp	ms_explode
      58.  01:6C82  CA 5F 6F            		jp	z,.ms_explode
      59.  01:6C85                      		
      60.  01:6C85  FE 0B               		cp	ms_landing
      61.  01:6C87  CA 95 6C            		jp	z,.ms_landing
      62.  01:6C8A                      
      63.  01:6C8A  FE 0C               		cp	ms_reset
      64.  01:6C8C  CA 95 6C            		jp	z,.ms_reset
      65.  01:6C8F                      	
      66.  01:6C8F                      ;	abnormal end
      67.  01:6C8F  3E 00               		ld	a,ms_fly__right
      68.  01:6C91  32 97 D3            		ld	(ms_state),a
      69.  01:6C94  C9                  		ret
      70.  01:6C95                      	
      71.  01:6C95                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      72.  01:6C95                      ;	FAKE FOR TEST
      73.  01:6C95                      .ms_landing	
      74.  01:6C95                      .ms_reset 
      75.  01:6C95  C9                  	ret
      76.  01:6C96                      	
      77.  01:6C96                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      78.  01:6C96                          ;	control X and Y 
      79.  01:6C96                      
      80.  01:6C96                      .ms_directions:
      81.  01:6C96                          ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      82.  01:6C96                      	; read joystick and keyboard
      83.  01:6C96  CD 06 6D            		call	.rd_joy
      84.  01:6C99                          ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      85.  01:6C99                          ; x speed control of the screen and of the main ship
      86.  01:6C99  CD 82 6D            		call    .right
      87.  01:6C9C  CC CC 6C            		call	z,.test_move_right
      88.  01:6C9F                      
      89.  01:6C9F  CD 7C 6D            		call    .left
      90.  01:6CA2  CC DF 6C            		call	z,.test_move_left
      91.  01:6CA5                      
      92.  01:6CA5                          ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      93.  01:6CA5                          ; y control of the main ship
      94.  01:6CA5                      
      95.  01:6CA5  CD 6A 6D            		call    .up
      96.  01:6CA8  20 0D               		jr  nz,1f
      97.  01:6CAA  CD FD 6C            		call	._up
      98.  01:6CAD  3A 93 D3            		ld  a,(yship)
      99.  01:6CB0  D6 04               		sub	a,4
     100.  01:6CB2  38 03               		jr  c,1f
     101.  01:6CB4  32 93 D3            		ld  (yship),a
     102.  01:6CB7                      1:
     103.  01:6CB7  CD 76 6D            		call    .dwn
     104.  01:6CBA  20 0F               		jr  nz,1f
     105.  01:6CBC  CD F2 6C            		call	._dw
     106.  01:6CBF  3A 93 D3            		ld  a,(yship)
     107.  01:6CC2  C6 04               		add	a,4
     108.  01:6CC4  FE A1               		cp  mapHeight*16-16+1
     109.  01:6CC6  30 03               		jr  nc,1f
     110.  01:6CC8  32 93 D3            		ld  (yship),a
     111.  01:6CCB                      1:
     112.  01:6CCB  C9                  		ret
     113.  01:6CCC                      
     114.  01:6CCC                      ;-------------------------------------
     115.  01:6CCC                      .test_move_right:
     116.  01:6CCC  3A 8E D3            		ld		a,(dxmap)
     117.  01:6CCF  3C                  		inc		a
     118.  01:6CD0  CA DA 6C            		jp      z,1f
     119.  01:6CD3  FE 05               		cp 		maxspeed+1
     120.  01:6CD5  F0                  		ret		p
     121.  01:6CD6  32 8E D3            		ld		(dxmap),a			; moving right
     122.  01:6CD9  C9                  		ret
     123.  01:6CDA  3C                  1:		inc     a
     124.  01:6CDB  32 8E D3            		ld		(dxmap),a			; moving right
     125.  01:6CDE  C9                  		ret
     126.  01:6CDF                      		
     127.  01:6CDF                      .test_move_left
     128.  01:6CDF  3A 8E D3            		ld		a,(dxmap)
     129.  01:6CE2  3D                  		dec		a
     130.  01:6CE3  CA ED 6C            		jp      z,1f
     131.  01:6CE6  FE FC               		cp		-maxspeed
     132.  01:6CE8  F8                  		ret		m
     133.  01:6CE9  32 8E D3            		ld		(dxmap),a			; moving left
     134.  01:6CEC  C9                  		ret
     135.  01:6CED  3D                  1:		dec     a
     136.  01:6CEE  32 8E D3            		ld		(dxmap),a			; moving left
     137.  01:6CF1  C9                  		ret
     138.  01:6CF2                      ;-------------------------------------
     139.  01:6CF2                      
     140.  01:6CF2  3A 83 D3            ._dw:	ld		a,(_yoffset)
     141.  01:6CF5  3C                  		inc		a
     142.  01:6CF6  FE 08               		cp		mapHeight*16-YSIZE
     143.  01:6CF8  F0                  		ret 	p
     144.  01:6CF9  32 83 D3            		ld		(_yoffset),a
     145.  01:6CFC  C9                  		ret
     146.  01:6CFD                      
     147.  01:6CFD  3A 83 D3            ._up:	ld		a,(_yoffset)
     148.  01:6D00  3D                  		dec		a
     149.  01:6D01  F8                  		ret		m
     150.  01:6D02  32 83 D3            		ld		(_yoffset),a
     151.  01:6D05  C9                  		ret
     152.  01:6D06                      
     153.  01:6D06                      ;-------------------------------------
     154.  01:6D06                      	
     155.  01:6D06                      ; PSG I/O port A (r#14) – read-only
     156.  01:6D06                      ; Bit	Description	Comment
     157.  01:6D06                      ; 0	Input joystick pin 1	(up)
     158.  01:6D06                      ; 1	Input joystick pin 2	(down)
     159.  01:6D06                      ; 2	Input joystick pin 3	(left)
     160.  01:6D06                      ; 3	Input joystick pin 4	(right)
     161.  01:6D06                      ; 4	Input joystick pin 6	(trigger A)
     162.  01:6D06                      ; 5	Input joystick pin 7	(trigger B)
     163.  01:6D06                      ; 6	Japanese keyboard layout bit	(1=JIS, 0=ANSI)
     164.  01:6D06                      ; 7	Cassette input signal	
     165.  01:6D06                      
     166.  01:6D06                      .rd_joy:
     167.  01:6D06  3E 0F               	ld	a,#0f
     168.  01:6D08  D3 A0               	out	(#a0),a
     169.  01:6D0A  3E 8F               	ld	a,0x8F
     170.  01:6D0C  D3 A1               	out	(#a1),a		; select port A
     171.  01:6D0E  3E 0E               	ld	a,#0e
     172.  01:6D10  D3 A0               	out	(#a0),a
     173.  01:6D12  DB A2               	in	a,(#a2)
     174.  01:6D14                      .rd_key:	
     175.  01:6D14  DD 21 50 D3         	ld	ix,joystick
     176.  01:6D18  DD 77 00            	ld	(ix),a
     177.  01:6D1B                      	
     178.  01:6D1B  1E 08               	ld  e,8
     179.  01:6D1D  CD EF 44                call    checkkbd
     180.  01:6D20  CB 47               	bit	0,a				; space
     181.  01:6D22  20 04               	jr	nz,1f
     182.  01:6D24  DD CB 00 A6         	res	4,(ix)			; (trigger A)
     183.  01:6D28                      1:
     184.  01:6D28  CB 7F               	bit	7,a				; RIGHT
     185.  01:6D2A  20 04               	jr	nz,1f
     186.  01:6D2C  DD CB 00 9E         	res	3,(ix)			; (right joy)
     187.  01:6D30                      1:
     188.  01:6D30  CB 77               	bit	6,a				; DOWN
     189.  01:6D32  20 04               	jr	nz,1f
     190.  01:6D34  DD CB 00 8E         	res	1,(ix)			; (down joy)
     191.  01:6D38                      1:
     192.  01:6D38  CB 6F               	bit	5,a				; UP
     193.  01:6D3A  20 04               	jr	nz,1f
     194.  01:6D3C  DD CB 00 86         	res	0,(ix)			; (up joy)
     195.  01:6D40                      1:
     196.  01:6D40  CB 67               	bit	4,a				; LEFT
     197.  01:6D42  20 04               	jr	nz,1f
     198.  01:6D44  DD CB 00 96         	res	2,(ix)			; (left joy)
     199.  01:6D48                      1:
     200.  01:6D48  1E 05               	ld  e,5
     201.  01:6D4A  CD EF 44                call    checkkbd
     202.  01:6D4D  CB 6F               	bit	5,a				; X
     203.  01:6D4F  20 04               	jr	nz,1f
     204.  01:6D51  DD CB 00 AE         	res	5,(ix)			; (trigger B)
     205.  01:6D55                      1:
     206.  01:6D55  CB 7F               	bit	7,a				; Z
     207.  01:6D57  20 04               	jr	nz,1f
     208.  01:6D59  DD CB 00 A6         	res	4,(ix)			; (trigger A)
     209.  01:6D5D                      1:
     210.  01:6D5D  C9                  	ret
     211.  01:6D5E                      
     212.  01:6D5E                      	
     213.  01:6D5E                      	
     214.  01:6D5E                      ;    5   |    Z     Y     X     W     V     U     T     S
     215.  01:6D5E                      ;    6   |   F3    F2    F1   CODE   CAP  GRAPH CTRL  SHIFT
     216.  01:6D5E                      ;    7   |   RET   SEL   BS   STOP   TAB   ESC   F5    F4
     217.  01:6D5E                      ;    8   |  RIGHT DOWN   UP   LEFT   DEL   INS  HOME  SPACE
     218.  01:6D5E                      .z_or_space:
     219.  01:6D5E  3A 50 D3            	ld	a,(joystick)
     220.  01:6D61  E6 10               	and	16
     221.  01:6D63  C9                  	ret
     222.  01:6D64                      .x_and_up:
     223.  01:6D64  3A 50 D3            	ld	a,(joystick)
     224.  01:6D67  E6 20               	and	32
     225.  01:6D69  C0                  	ret	nz
     226.  01:6D6A                      .up:
     227.  01:6D6A  3A 50 D3            	ld	a,(joystick)
     228.  01:6D6D  E6 01               	and	1
     229.  01:6D6F  C9                  	ret
     230.  01:6D70                      .x_and_dwn:
     231.  01:6D70  3A 50 D3            	ld	a,(joystick)
     232.  01:6D73  E6 20               	and	32
     233.  01:6D75  C0                  	ret	nz
     234.  01:6D76                      .dwn:
     235.  01:6D76  3A 50 D3            	ld	a,(joystick)
     236.  01:6D79  E6 02               	and	2
     237.  01:6D7B  C9                  	ret
     238.  01:6D7C                      .left:
     239.  01:6D7C  3A 50 D3            	ld	a,(joystick)
     240.  01:6D7F  E6 04               	and	4
     241.  01:6D81  C9                  	ret
     242.  01:6D82                      .right:
     243.  01:6D82  3A 50 D3            	ld	a,(joystick)
     244.  01:6D85  E6 08               	and	8
     245.  01:6D87  C9                  	ret
     246.  01:6D88                      
     247.  01:6D88                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     248.  01:6D88                      .ms_fly__right:		
     249.  01:6D88  3A 8E D3            	ld  a,(dxmap)
     250.  01:6D8B  CB 7F               	bit	7,a
     251.  01:6D8D  28 0A               	jr z,1f
     252.  01:6D8F                      	
     253.  01:6D8F  AF                  	xor	a
     254.  01:6D90  32 96 D3            	ld  (aniframe),a
     255.  01:6D93  3E 08               	ld	a,ms_loop_right2left
     256.  01:6D95  32 97 D3            	ld	(ms_state),a
     257.  01:6D98  C9                  	ret
     258.  01:6D99                      1:
     259.  01:6D99  3E 20               	ld	a,32
     260.  01:6D9B  32 96 D3            	ld  (aniframe),a
     261.  01:6D9E  CD 64 6D            	call	.x_and_up
     262.  01:6DA1  C2 AF 6D            	jp	nz,1f
     263.  01:6DA4  3E 20               	ld	a,32
     264.  01:6DA6  32 96 D3            	ld  (aniframe),a
     265.  01:6DA9  3E 03               	ld	a,ms_side_up__face_right
     266.  01:6DAB  32 97 D3            	ld	(ms_state),a
     267.  01:6DAE  C9                  	ret
     268.  01:6DAF  CD 70 6D            1:	call	.x_and_dwn
     269.  01:6DB2  C2 C0 6D            	jp	nz,1f
     270.  01:6DB5  3E 28               	ld	a,40
     271.  01:6DB7  32 96 D3            	ld  (aniframe),a
     272.  01:6DBA  3E 02               	ld	a,ms_side_dwn_face_right
     273.  01:6DBC  32 97 D3            	ld	(ms_state),a
     274.  01:6DBF  C9                  	ret
     275.  01:6DC0  CD 7C 6D            1:	call	.left
     276.  01:6DC3  C2 D0 6D            	jp	nz,1f
     277.  01:6DC6  AF                  	xor	a
     278.  01:6DC7  32 96 D3            	ld  (aniframe),a
     279.  01:6DCA  3E 08               	ld	a,ms_loop_right2left
     280.  01:6DCC  32 97 D3            	ld	(ms_state),a
     281.  01:6DCF  C9                  	ret
     282.  01:6DD0  CD 5E 6D            1:	call	.z_or_space
     283.  01:6DD3  CA 93 6F            	jp		z,ms_shoot
     284.  01:6DD6  C9                  	ret
     285.  01:6DD7                      	
     286.  01:6DD7                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     287.  01:6DD7                      .ms_loop_right2left:
     288.  01:6DD7  3A 96 D3            	ld	a,(aniframe)
     289.  01:6DDA  3C                  	inc	a
     290.  01:6DDB  32 96 D3            	ld	(aniframe),a
     291.  01:6DDE  FE 04               	cp	4
     292.  01:6DE0  CA EC 6D            	jp	z,1f
     293.  01:6DE3  FE 08               	cp	8
     294.  01:6DE5  C0                  	ret	nz
     295.  01:6DE6  3E 05               	ld	a,ms_spin_face_left
     296.  01:6DE8  32 97 D3            	ld	(ms_state),a
     297.  01:6DEB  C9                  	ret
     298.  01:6DEC                      1:
     299.  01:6DEC                      	; xor	a
     300.  01:6DEC                          ; ld  (dxmap),a
     301.  01:6DEC  C9                  	ret
     302.  01:6DED                      	
     303.  01:6DED                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     304.  01:6DED                      .ms_spin_face_left:
     305.  01:6DED  CD 5E 6D            	call	.z_or_space
     306.  01:6DF0  CC 93 6F            	call	z,ms_shoot
     307.  01:6DF3  3A 96 D3            	ld	a,(aniframe)
     308.  01:6DF6  3C                  	inc	a
     309.  01:6DF7  32 96 D3            	ld	(aniframe),a
     310.  01:6DFA  FE 10               	cp	16
     311.  01:6DFC  C0                  	ret	nz
     312.  01:6DFD  3E 04               	ld	a,ms_fly__left
     313.  01:6DFF  32 97 D3            	ld	(ms_state),a
     314.  01:6E02  C9                  	ret
     315.  01:6E03                      	
     316.  01:6E03                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     317.  01:6E03                      .ms_fly__left:
     318.  01:6E03  3A 8E D3            	ld  a,(dxmap)
     319.  01:6E06  3D                  	dec	a
     320.  01:6E07  CB 7F               	bit	7,a
     321.  01:6E09  20 0B               	jr nz,1f
     322.  01:6E0B                      	
     323.  01:6E0B  3E 10               	ld	a,16
     324.  01:6E0D  32 96 D3            	ld  (aniframe),a
     325.  01:6E10  3E 09               	ld	a,ms_loop_left2right
     326.  01:6E12  32 97 D3            	ld	(ms_state),a
     327.  01:6E15  C9                  	ret	
     328.  01:6E16                      1:
     329.  01:6E16  3E 30               	ld	a,48
     330.  01:6E18  32 96 D3            	ld  (aniframe),a
     331.  01:6E1B  CD 64 6D            	call	.x_and_up
     332.  01:6E1E  C2 2C 6E            	jp	nz,1f
     333.  01:6E21  3E 30               	ld	a,48
     334.  01:6E23  32 96 D3            	ld  (aniframe),a
     335.  01:6E26  3E 07               	ld	a,ms_side_up__face_left
     336.  01:6E28  32 97 D3            	ld	(ms_state),a
     337.  01:6E2B  C9                  	ret
     338.  01:6E2C  CD 70 6D            1:	call	.x_and_dwn
     339.  01:6E2F  C2 3D 6E            	jp	nz,1f
     340.  01:6E32  3E 38               	ld	a,56
     341.  01:6E34  32 96 D3            	ld  (aniframe),a
     342.  01:6E37  3E 06               	ld	a,ms_side_dwn_face_left
     343.  01:6E39  32 97 D3            	ld	(ms_state),a
     344.  01:6E3C  C9                  	ret
     345.  01:6E3D  CD 82 6D            1:	call	.right
     346.  01:6E40  C2 4E 6E            	jp	nz,1f
     347.  01:6E43  3E 10               	ld	a,16
     348.  01:6E45  32 96 D3            	ld  (aniframe),a
     349.  01:6E48  3E 09               	ld	a,ms_loop_left2right
     350.  01:6E4A  32 97 D3            	ld	(ms_state),a
     351.  01:6E4D  C9                  	ret
     352.  01:6E4E  CD 5E 6D            1:	call	.z_or_space
     353.  01:6E51  CA 93 6F            	jp		z,ms_shoot
     354.  01:6E54  C9                  	ret
     355.  01:6E55                      	
     356.  01:6E55                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     357.  01:6E55                      .ms_loop_left2right:
     358.  01:6E55  3A 96 D3            	ld	a,(aniframe)
     359.  01:6E58  3C                  	inc	a
     360.  01:6E59  32 96 D3            	ld	(aniframe),a
     361.  01:6E5C  FE 14               	cp	20
     362.  01:6E5E  CA 6A 6E            	jp	z,1f
     363.  01:6E61  FE 18               	cp	24
     364.  01:6E63  C0                  	ret	nz
     365.  01:6E64  3E 01               	ld	a,ms_spin_face_right
     366.  01:6E66  32 97 D3            	ld	(ms_state),a
     367.  01:6E69  C9                  	ret
     368.  01:6E6A                      1:	; xor	a
     369.  01:6E6A                          ; ld  (dxmap),a
     370.  01:6E6A  C9                  	ret
     371.  01:6E6B                      
     372.  01:6E6B                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     373.  01:6E6B                      .ms_spin_face_right:
     374.  01:6E6B  CD 5E 6D            	call	.z_or_space
     375.  01:6E6E  CC 93 6F            	call	z,ms_shoot
     376.  01:6E71  3A 96 D3            	ld	a,(aniframe)
     377.  01:6E74  3C                  	inc	a
     378.  01:6E75  32 96 D3            	ld	(aniframe),a
     379.  01:6E78  FE 20               	cp	32
     380.  01:6E7A  C0                  	ret	nz
     381.  01:6E7B  3E 00               	ld	a,ms_fly__right
     382.  01:6E7D  32 97 D3            	ld	(ms_state),a
     383.  01:6E80  C9                  	ret
     384.  01:6E81                      	
     385.  01:6E81                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     386.  01:6E81                      .ms_side_dwn_face_right:
     387.  01:6E81  CD 5E 6D            	call	.z_or_space
     388.  01:6E84  CC 93 6F            	call	z,ms_shoot
     389.  01:6E87  3A 96 D3            	ld	a,(aniframe)
     390.  01:6E8A  FE 2C               	cp	44
     391.  01:6E8C  CA A1 6E            	jp	z,1f
     392.  01:6E8F                      
     393.  01:6E8F  3C                  	inc	a
     394.  01:6E90  32 96 D3            	ld	(aniframe),a
     395.  01:6E93  FE 2F               	cp	47
     396.  01:6E95  C0                  	ret	nz
     397.  01:6E96  3E 20               	ld	a,32
     398.  01:6E98  32 96 D3            	ld	(aniframe),a
     399.  01:6E9B  3E 00               	ld	a,ms_fly__right
     400.  01:6E9D  32 97 D3            	ld	(ms_state),a
     401.  01:6EA0  C9                  	ret
     402.  01:6EA1  3A 8E D3            1:	ld  a,(dxmap)
     403.  01:6EA4  CB 7F               	bit	7,a
     404.  01:6EA6  20 0A               	jr nz,1f
     405.  01:6EA8  CD 64 6D            	call	.x_and_up
     406.  01:6EAB  CA B2 6E            	jp		z,1f
     407.  01:6EAE  CD 7C 6D            	call	.left
     408.  01:6EB1  C0                  	ret	nz
     409.  01:6EB2  3E 2D               1:	ld	a,45
     410.  01:6EB4  32 96 D3            	ld	(aniframe),a
     411.  01:6EB7  C9                  	ret
     412.  01:6EB8                      
     413.  01:6EB8                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     414.  01:6EB8                      .ms_side_up__face_right	
     415.  01:6EB8  CD 5E 6D            	call	.z_or_space
     416.  01:6EBB  CC 93 6F            	call	z,ms_shoot
     417.  01:6EBE  3A 96 D3            	ld	a,(aniframe)
     418.  01:6EC1  FE 24               	cp	36
     419.  01:6EC3  CA D8 6E            	jp	z,1f
     420.  01:6EC6                      
     421.  01:6EC6  3C                  	inc	a
     422.  01:6EC7  32 96 D3            	ld	(aniframe),a
     423.  01:6ECA  FE 28               	cp	40
     424.  01:6ECC  C0                  	ret	nz
     425.  01:6ECD  3E 20               	ld	a,32
     426.  01:6ECF  32 96 D3            	ld	(aniframe),a
     427.  01:6ED2  3E 00               	ld	a,ms_fly__right
     428.  01:6ED4  32 97 D3            	ld	(ms_state),a
     429.  01:6ED7  C9                  	ret
     430.  01:6ED8  3A 8E D3            1:	ld  a,(dxmap)
     431.  01:6EDB  CB 7F               	bit	7,a
     432.  01:6EDD  20 0A               	jr nz,1f
     433.  01:6EDF  CD 70 6D            	call	.x_and_dwn
     434.  01:6EE2  CA E9 6E            	jp		z,1f
     435.  01:6EE5  CD 7C 6D            	call	.left
     436.  01:6EE8  C0                  	ret	nz
     437.  01:6EE9  3E 25               1:	ld	a,37
     438.  01:6EEB  32 96 D3            	ld	(aniframe),a
     439.  01:6EEE  C9                  	ret
     440.  01:6EEF                      
     441.  01:6EEF                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     442.  01:6EEF                      .ms_side_dwn_face_left	
     443.  01:6EEF  CD 5E 6D            	call	.z_or_space
     444.  01:6EF2  CC 93 6F            	call	z,ms_shoot
     445.  01:6EF5  3A 96 D3            	ld	a,(aniframe)
     446.  01:6EF8  FE 3C               	cp	60
     447.  01:6EFA  CA 0F 6F            	jp	z,1f
     448.  01:6EFD                      
     449.  01:6EFD  3C                  	inc	a
     450.  01:6EFE  32 96 D3            	ld	(aniframe),a
     451.  01:6F01  FE 3F               	cp	63
     452.  01:6F03  C0                  	ret	nz
     453.  01:6F04  3E 30               	ld	a,48
     454.  01:6F06  32 96 D3            	ld	(aniframe),a
     455.  01:6F09  3E 04               	ld	a,ms_fly__left
     456.  01:6F0B  32 97 D3            	ld	(ms_state),a
     457.  01:6F0E  C9                  	ret
     458.  01:6F0F  3A 8E D3            1:	ld  a,(dxmap)
     459.  01:6F12  3D                  	dec	a
     460.  01:6F13  CB 7F               	bit	7,a
     461.  01:6F15  28 0A               	jr z,1f
     462.  01:6F17  CD 64 6D            	call	.x_and_up
     463.  01:6F1A  CA 21 6F            	jp		z,1f
     464.  01:6F1D  CD 82 6D            	call	.right
     465.  01:6F20  C0                  	ret	nz
     466.  01:6F21  3E 3D               1:	ld	a,61
     467.  01:6F23  32 96 D3            	ld	(aniframe),a
     468.  01:6F26  C9                  	ret
     469.  01:6F27                      
     470.  01:6F27                      
     471.  01:6F27                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     472.  01:6F27                      .ms_side_up__face_left	
     473.  01:6F27  CD 5E 6D            	call	.z_or_space
     474.  01:6F2A  CC 93 6F            	call	z,ms_shoot
     475.  01:6F2D  3A 96 D3            	ld	a,(aniframe)
     476.  01:6F30  FE 34               	cp	52
     477.  01:6F32  CA 47 6F            	jp	z,1f
     478.  01:6F35                      
     479.  01:6F35  3C                  	inc	a
     480.  01:6F36  32 96 D3            	ld	(aniframe),a
     481.  01:6F39  FE 38               	cp	56
     482.  01:6F3B  C0                  	ret	nz
     483.  01:6F3C  3E 30               	ld	a,48
     484.  01:6F3E  32 96 D3            	ld	(aniframe),a
     485.  01:6F41  3E 04               	ld	a,ms_fly__left
     486.  01:6F43  32 97 D3            	ld	(ms_state),a
     487.  01:6F46  C9                  	ret
     488.  01:6F47  3A 8E D3            1:	ld  a,(dxmap)
     489.  01:6F4A  3D                  	dec	a
     490.  01:6F4B  CB 7F               	bit	7,a
     491.  01:6F4D  28 0A               	jr z,1f
     492.  01:6F4F  CD 70 6D            	call	.x_and_dwn
     493.  01:6F52  CA 59 6F            	jp		z,1f
     494.  01:6F55  CD 82 6D            	call	.right
     495.  01:6F58  C0                  	ret	nz
     496.  01:6F59  3E 35               1:	ld	a,53
     497.  01:6F5B  32 96 D3            	ld	(aniframe),a
     498.  01:6F5E  C9                  	ret
     499.  01:6F5F                      
     500.  01:6F5F                      
     501.  01:6F5F                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     502.  01:6F5F                      .ms_explode:
     503.  01:6F5F  3A 99 D3            	ld	a,(anispeed)
     504.  01:6F62  3C                  	inc	a
     505.  01:6F63  E6 03               	and	3
     506.  01:6F65  32 99 D3            	ld	(anispeed),a
     507.  01:6F68  C0                  	ret nz
     508.  01:6F69  3A 96 D3            	ld	a,(aniframe)
     509.  01:6F6C  3C                  	inc	a
     510.  01:6F6D  32 96 D3            	ld	(aniframe),a
     511.  01:6F70  FE 50               	cp	80
     512.  01:6F72  C0                  	ret	nz
     513.  01:6F73  AF                  	xor	a
     514.  01:6F74  32 93 D3            	ld	(yship),a
     515.  01:6F77                      	; call	put_ms_sprt.expl
     516.  01:6F77  3E 0C               	ld	a,ms_reset
     517.  01:6F79  32 97 D3            	ld	(ms_state),a
     518.  01:6F7C                      	
     519.  01:6F7C  0E 01               	ld	c,1						; show lives on screen 
     520.  01:6F7E                      	; call	sub_c_lives_bin
     521.  01:6F7E                      	
     522.  01:6F7E  3E FF               	ld	a,-1
     523.  01:6F80  32 9A D3            	ld	(already_dead),a	; reset at level start, set after you die
     524.  01:6F83                      
     525.  01:6F83  3A 9B D3            	ld	a,(lives_bin)
     526.  01:6F86  A7                  	and	a
     527.  01:6F87  C0                  	ret	nz
     528.  01:6F88                      		
     529.  01:6F88                      	; call	PT3_MUTE
     530.  01:6F88  3E 13               	ld	a,19			; game over
     531.  01:6F8A  CD 84 4A            	call AFXPLAY
     532.  01:6F8D                      	
     533.  01:6F8D                      	; ld	hl,GameOver
     534.  01:6F8D                      	; ld	de,0x1C00+8*3*32
     535.  01:6F8D                      	; call	print_strf
     536.  01:6F8D  06 00               	ld	b,0
     537.  01:6F8F  76                  1:	halt	
     538.  01:6F90  10 FD               	djnz	1b
     539.  01:6F92                      
     540.  01:6F92                      	; you've lost 
     541.  01:6F92                      	; pop af
     542.  01:6F92                      	; jp	title_screen
     543.  01:6F92                      
     544.  01:6F92  C9                  	ret
     545.  01:6F93                      
      52   01:6F93                      		include	"ms_bllts.asm"
       1.  01:6F93                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       2.  01:6F93                      ; activate ms bullets
       3.  01:6F93                      ;
       4.  01:6F93  (01:0005)           max_bullet_rate equ 5
       5.  01:6F93                      
       6.  01:6F93                      ms_shoot:
       7.  01:6F93  3A 8B D3            	ld	a,(bullet_rate)
       8.  01:6F96  A7                  	and a
       9.  01:6F97  CA 9F 6F            	jp	z,.book_bullet
      10.  01:6F9A  3D                  	dec a
      11.  01:6F9B  32 8B D3            	ld	(bullet_rate),a
      12.  01:6F9E  C9                  	ret
      13.  01:6F9F                      .book_bullet:
      14.  01:6F9F  3E 05               	ld	a,max_bullet_rate
      15.  01:6FA1  32 8B D3            	ld	(bullet_rate),a
      16.  01:6FA4                      
      17.  01:6FA4  DD 21 AB D3         	ld	ix,ms_bullets
      18.  01:6FA8  06 02               	ld	b,max_bullets
      19.  01:6FAA  11 0F 00            	ld	de,enemy_data
      20.  01:6FAD  DD CB 07 46         1:	bit	0,(ix+enemy_data.status)
      21.  01:6FB1  28 05               	jr	z,.activate_this
      22.  01:6FB3  DD 19               	add ix,de
      23.  01:6FB5  10 F6               	djnz   1b
      24.  01:6FB7  C9                  	ret
      25.  01:6FB8                      
      26.  01:6FB8                      .activate_this:
      27.  01:6FB8  AF                  	xor	a				; ms bullet
      28.  01:6FB9  CD 84 4A            	call AFXPLAY
      29.  01:6FBC                      
      30.  01:6FBC  3A 97 D3            	ld	a,(ms_state)	; in states 0-3 ms faces right
      31.  01:6FBF  E6 04               	and 0x04
      32.  01:6FC1  20 0A               	jr	nz,.shootsx
      33.  01:6FC3                      .shootdx
      34.  01:6FC3  DD 36 07 01         	ld	(ix+enemy_data.status),1
      35.  01:6FC7  21 08 00            	ld	hl,8
      36.  01:6FCA  C3 D4 6F            	jp	1f
      37.  01:6FCD                      
      38.  01:6FCD                      .shootsx
      39.  01:6FCD  DD 36 07 41         	ld	(ix+enemy_data.status),1 + 64
      40.  01:6FD1  21 F8 FF            	ld	hl,-8
      41.  01:6FD4                      1:
      42.  01:6FD4  3A 96 D3            	ld	a,(aniframe)
      43.  01:6FD7  E6 07               	and 7
      44.  01:6FD9  C6 08               	add a,8
      45.  01:6FDB  87                  	add a,a
      46.  01:6FDC  87                  	add a,a
      47.  01:6FDD  DD 77 0A            	ld	(ix+enemy_data.frame),a
      48.  01:6FE0                      
      49.  01:6FE0  CD 00 48            	call	set_size	; set  xoff,yoff,xsize,ysize for sprite collision
      50.  01:6FE3                      
      51.  01:6FE3  3A 8E D3            	ld	a,(dxmap)
      52.  01:6FE6  CB 2F CB 2F         [2] sra a
      53.  01:6FEA  5F                  	ld	e,a
      54.  01:6FEB  17                  	rla
      55.  01:6FEC  9F                  	sbc a,a
      56.  01:6FED  57                  	ld	d,a
      57.  01:6FEE                      
      58.  01:6FEE  19                  	add hl,de
      59.  01:6FEF  DD 75 0D            	ld	(ix+enemy_data.speed),l
      60.  01:6FF2  DD 74 0E            	ld	(ix+enemy_data.speed+1),h
      61.  01:6FF5                      
      62.  01:6FF5  2A 94 D3            	ld	hl,(xship)
      63.  01:6FF8  DD 75 01            	ld	(ix+enemy_data.x),l
      64.  01:6FFB  DD 74 02            	ld	(ix+enemy_data.x+1),h
      65.  01:6FFE                      
      66.  01:6FFE  3A 93 D3            	ld	a,(yship)
      67.  01:7001  DD 77 00            	ld	(ix+enemy_data.y),a
      68.  01:7004  DD 36 08 11         	ld	(ix+enemy_data.cntr),17
      69.  01:7008  C9                  	ret
      70.  01:7009                      
      71.  01:7009                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      72.  01:7009                      ; manage active ms bullets
      73.  01:7009                      ;
      74.  01:7009                      
      75.  01:7009                      bullet_loop:
      76.  01:7009  DD 21 AB D3         	ld	ix,ms_bullets
      77.  01:700D                      	
      78.  01:700D                      	repeat	max_bullets
      79.  01:700D                    < 	bit	 0,(ix+enemy_data.status)
      80.  01:700D                    < 	jr	z,1f
      81.  01:700D                    < 
      82.  01:700D                    < 	; move right or	 left
      83.  01:700D                    < 
      84.  01:700D                    < 	ld	l,(ix+enemy_data.x)
      85.  01:700D                    < 	ld	h,(ix+enemy_data.x+1)
      86.  01:700D                    < 	ld	e,(ix+enemy_data.speed)
      87.  01:700D                    < 	ld	d,(ix+enemy_data.speed+1)
      88.  01:700D                    < 	add hl,de
      89.  01:700D                    < 	ld	(ix+enemy_data.x),l
      90.  01:700D                    < 	ld	(ix+enemy_data.x+1),h
      91.  01:700D                    < 	; call	.test_obstacles
      92.  01:700D                    < 	dec	(ix+enemy_data.cntr)
      93.  01:700D                    < 	jr	nz,1f
      94.  01:700D                    < 	res 0,(ix+enemy_data.status)
      95.  01:700D                    < 1:
      96.  01:700D                    < 	ld	de,enemy_data
      97.  01:700D                    < 	add ix,de
      98.  01:700D                    < 	
      99.  01:700D                    < 	endrepeat
      99.  01:700D  DD CB 07 46 28 1C DD 6E 01 DD 66 02 DD 5E 0D DD 
      99.  01:701D  56 0E 19 DD 75 01 DD 74 02 DD 35 08 20 04 DD CB 
      99.  01:702D  07 86 11 0F 00 DD 19 DD CB 07 46 28 1C DD 6E 01 
      99.  01:703D  DD 66 02 DD 5E 0D DD 56 0E 19 DD 75 01 DD 74 02 
      99.  01:704D  DD 35 08 20 04 DD CB 07 86 11 0F 00 DD 19 
     100.  01:705B  C9                  	ret
     101.  01:705C                      
     102.  01:705C                      
     103.  01:705C                      ; .test_obstacles:
     104.  01:705C                      	; ld	e,(ix+enemy_data.frame)
     105.  01:705C                      	; ld	d,0
     106.  01:705C                      	; ld	iy,ms_bllts_col_win-32
     107.  01:705C                      	; add	iy,de			; here iy points to the collision window of the current frame of the bullet
     108.  01:705C                      
     109.  01:705C                      	; bit	7,(ix+enemy_data.speed+1)
     110.  01:705C                      	; jr	z,2f			;.x_positive
     111.  01:705C                      
     112.  01:705C                      	; ld	e,(iy+0)		;.x_negative:
     113.  01:705C                      	; jp	3f
     114.  01:705C                      
     115.  01:705C                      ; 2:	ld	e,(iy+1)		;.x_positive:
     116.  01:705C                      	
     117.  01:705C                      ; 3:
     118.  01:705C                      	; ld	l,(ix+enemy_data.x)
     119.  01:705C                      	; ld	h,(ix+enemy_data.x+1)
     120.  01:705C                      	; add hl,de
     121.  01:705C                      	; ld	a,(ix+enemy_data.y)
     122.  01:705C                      	; add	a,(iy+2)
     123.  01:705C                      	; push	hl
     124.  01:705C                      	; push	af
     125.  01:705C                      	; call	.tst_block
     126.  01:705C                      	; pop		de
     127.  01:705C                      	; pop		hl
     128.  01:705C                      	; ret	z				; skip the rest if already hit
     129.  01:705C                      	; ld	a,d
     130.  01:705C                      	; and	0xF8
     131.  01:705C                      	; ld	d,a
     132.  01:705C                      	; ld	a,(ix+enemy_data.y)
     133.  01:705C                      	; add	a,(iy+3)
     134.  01:705C                      	; and	0xF8
     135.  01:705C                      	; cp	d
     136.  01:705C                      	; ret	z				; avoid testing twice the same tile
     137.  01:705C                      	; jp	.tst_block
     138.  01:705C                      
     139.  01:705C                      
     140.  01:705C                      ; .tst_block:
     141.  01:705C                      	; call test_obstacles.meta_tile_peek
     142.  01:705C                      	; ld	e,a
     143.  01:705C                      	; dec	a					; deal with space apart
     144.  01:705C                      	; cp	nblock-1
     145.  01:705C                      	
     146.  01:705C                      	; jp	nc,.no_blocking		; a>22
     147.  01:705C                      	
     148.  01:705C                      ; .blocking:	
     149.  01:705C                      	; res 0,(ix+enemy_data.status)
     150.  01:705C                      	; ld	a,10			; hit solid wall
     151.  01:705C                      	; call AFXPLAY
     152.  01:705C                      	; xor	a
     153.  01:705C                      	; ret					; obstacle found - return Z
     154.  01:705C                      	
     155.  01:705C                      ; .no_blocking:
     156.  01:705C                      	; cp	nblock+n_d2x1-1
     157.  01:705C                      	; jp	nc,.no_2x1		; a>26
     158.  01:705C                      	
     159.  01:705C                      	; cp	nblock+1
     160.  01:705C                      	; jr	c,.left2x1		; two 2x1 items
     161.  01:705C                      	
     162.  01:705C                      ; .right2x1:
     163.  01:705C                      	; ld	a,(hl)
     164.  01:705C                      	; add	a,n_d2x1
     165.  01:705C                      	; ld	(hl),a
     166.  01:705C                      	; dec	hl
     167.  01:705C                      	; jr	1f
     168.  01:705C                      	
     169.  01:705C                      ; .left2x1:
     170.  01:705C                      	; ld	a,(hl)
     171.  01:705C                      	; add	a,n_d2x1
     172.  01:705C                      	; ld	(hl),a
     173.  01:705C                      	; inc	hl
     174.  01:705C                      ; 1:	ld	a,(hl)
     175.  01:705C                      	; add	a,n_d2x1
     176.  01:705C                      	; ld	(hl),a
     177.  01:705C                      
     178.  01:705C                      	; res 0,(ix+enemy_data.status)
     179.  01:705C                      	; ld	a,11			; destroy small ground item
     180.  01:705C                      	; call AFXPLAY
     181.  01:705C                      	; ld	bc,5			; score for destruction of a small ground item
     182.  01:705C                      	; call	add_bc_score_bin
     183.  01:705C                      	
     184.  01:705C                      	; call	land_now_test	; make LAND NOW arrive sooner
     185.  01:705C                      	; ret
     186.  01:705C                      	
     187.  01:705C                      ; .no_2x1:
     188.  01:705C                      	
     189.  01:705C                      	; cp	nblock+n_d2x1*2-1
     190.  01:705C                      	; jr	z,.left_up3x2
     191.  01:705C                      	; cp	nblock+n_d2x1*2+0
     192.  01:705C                      	; jr	z,.left_dw3x2
     193.  01:705C                      	; cp	nblock+n_d2x1*2+1
     194.  01:705C                      	; jr	z,.left_up3x2
     195.  01:705C                      	; cp	nblock+n_d2x1*2+2
     196.  01:705C                      	; jr	z,.left_dw3x2
     197.  01:705C                      
     198.  01:705C                      	; cp	nblock+n_d2x1*2+7
     199.  01:705C                      	; jr	z,.right_up3x2
     200.  01:705C                      	; cp	nblock+n_d2x1*2+8
     201.  01:705C                      	; jr	z,.right_dw3x2
     202.  01:705C                      	; cp	nblock+n_d2x1*2+9
     203.  01:705C                      	; jr	z,.right_up3x2
     204.  01:705C                      	; cp	nblock+n_d2x1*2+10
     205.  01:705C                      	; jr	z,.right_dw3x2
     206.  01:705C                      	
     207.  01:705C                      	; ret				; obstacle not found - return NZ
     208.  01:705C                      	
     209.  01:705C                      ; .left_dw3x2:
     210.  01:705C                      	; ld	bc,-LvlWidth
     211.  01:705C                      	; add hl,bc
     212.  01:705C                      	; jr	.left_up3x2
     213.  01:705C                      
     214.  01:705C                      ; .right_up3x2:
     215.  01:705C                      ; [2]	dec hl
     216.  01:705C                      	; jr	.left_up3x2
     217.  01:705C                      
     218.  01:705C                      ; .right_dw3x2:
     219.  01:705C                      	; ld	bc,-LvlWidth-2
     220.  01:705C                      	; add hl,bc
     221.  01:705C                      
     222.  01:705C                      ; .left_up3x2:
     223.  01:705C                      	; repeat 3
     224.  01:705C                      	; ld	a,(hl)
     225.  01:705C                      	; add	a,n_d3x2
     226.  01:705C                      	; ld	(hl),a
     227.  01:705C                      	; inc	hl
     228.  01:705C                      	; endrepeat
     229.  01:705C                      	; ld	bc,LvlWidth-3
     230.  01:705C                      	; add hl,bc
     231.  01:705C                      	; repeat 3
     232.  01:705C                      	; ld	a,(hl)
     233.  01:705C                      	; add	a,n_d3x2
     234.  01:705C                      	; ld	(hl),a
     235.  01:705C                      	; inc	hl
     236.  01:705C                      	; endrepeat
     237.  01:705C                      	
     238.  01:705C                      	; res 0,(ix+enemy_data.status)
     239.  01:705C                      	; ld	a,12				; destroy large ground item
     240.  01:705C                      	; call AFXPLAY
     241.  01:705C                      	; ld	bc,50				; score for destruction of a large ground item
     242.  01:705C                      	; call	add_bc_score_bin
     243.  01:705C                      	
     244.  01:705C                      	; call	land_now_test	; make LAND NOW arrive sooner
     245.  01:705C                      	; ret
     246.  01:705C                      	
     247.  01:705C                      
     248.  01:705C                      	
      53   01:705C                      		include	"put_ms_sprt.asm"
       1.  01:705C                      
       2.  01:705C                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       3.  01:705C                      ;
       4.  01:705C                      ;	manage SAT entries of the main ship
       5.  01:705C                      ;
       6.  01:705C                      
       7.  01:705C                      put_ms_sprt:
       8.  01:705C  3A 97 D3            	ld	a,(ms_state)
       9.  01:705F  FE 0A               	cp	ms_explode
      10.  01:7061  28 3E               	jr	z,.expl
      11.  01:7063                      						; manage SAT entries of the main ship
      12.  01:7063  21 9F D3            	ld	hl,ram_sat
      13.  01:7066  3A 93 D3            	ld	a,(yship)
      14.  01:7069  3D                  	dec	a
      15.  01:706A  77                  	ld	(hl),a
      16.  01:706B  23                  	inc hl
      17.  01:706C  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
      18.  01:706F  C6 78               	add	a,xship_rel
      19.  01:7071  77                  	ld	(hl),a
      20.  01:7072  23                  	inc hl
      21.  01:7073  36 00               	ld	(hl),0		; shape 0 hard wired
      22.  01:7075                      	; ld	(hl),64		; shape 0 hard wired
      23.  01:7075  23                  	inc hl
      24.  01:7076  36 0F               	ld	(hl),15
      25.  01:7078  23                  	inc hl
      26.  01:7079                      
      27.  01:7079  3A 93 D3            	ld	a,(yship)
      28.  01:707C  3D                  	dec	a
      29.  01:707D  77                  	ld	(hl),a
      30.  01:707E  23                  	inc hl
      31.  01:707F  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
      32.  01:7082  C6 78               	add	a,xship_rel
      33.  01:7084  77                  	ld	(hl),a
      34.  01:7085  23                  	inc hl
      35.  01:7086  36 04               	ld	(hl),4		; shape 4 hard wired
      36.  01:7088                      	; ld	(hl),64+4		; shape 4 hard wired
      37.  01:7088  4F                  	ld	c,a
      38.  01:7089  23                  	inc hl
      39.  01:708A  36 07               	ld	(hl),7
      40.  01:708C  23                  	inc hl
      41.  01:708D                      
      42.  01:708D  3A 93 D3            	ld	a,(yship)
      43.  01:7090  C6 0F               	add a,16-1
      44.  01:7092  77                  	ld	(hl),a
      45.  01:7093  23                  	inc hl
      46.  01:7094  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
      47.  01:7097  C6 88               	add	a,xship_rel+16
      48.  01:7099  77                  	ld	(hl),a
      49.  01:709A  23                  	inc hl
      50.  01:709B  36 08               	ld	(hl),8		; shape 8 hard wired
      51.  01:709D                      	; ld	(hl),64+4		; shape 8 hard wired
      52.  01:709D  23                  	inc hl
      53.  01:709E  36 01               	ld	(hl),1
      54.  01:70A0  C9                  	ret
      55.  01:70A1                      .expl:
      56.  01:70A1                      						; manage SAT entries of the main ship
      57.  01:70A1  21 9F D3            	ld	hl,ram_sat
      58.  01:70A4  3A 93 D3            	ld	a,(yship)
      59.  01:70A7  77                  	ld	(hl),a
      60.  01:70A8  23                  	inc hl
      61.  01:70A9  36 78               	ld	(hl),xship_rel
      62.  01:70AB  23                  	inc hl
      63.  01:70AC  36 00               	ld	(hl),0		; shape 0 hard wired
      64.  01:70AE  23                  	inc hl
      65.  01:70AF  36 0A               	ld	(hl),10
      66.  01:70B1  23                  	inc hl
      67.  01:70B2                      
      68.  01:70B2  3A 93 D3            	ld	a,(yship)
      69.  01:70B5  77                  	ld	(hl),a
      70.  01:70B6  23                  	inc hl
      71.  01:70B7  36 78               	ld	(hl),xship_rel
      72.  01:70B9  23                  	inc hl
      73.  01:70BA  36 04               	ld	(hl),4		; shape 4 hard wired
      74.  01:70BC  4F                  	ld	c,a
      75.  01:70BD  23                  	inc hl
      76.  01:70BE  36 0B               	ld	(hl),11
      77.  01:70C0  23                  	inc hl
      78.  01:70C1                      
      79.  01:70C1  3A 93 D3            	ld	a,(yship)
      80.  01:70C4  77                  	ld	(hl),a
      81.  01:70C5  23                  	inc hl
      82.  01:70C6  36 78               	ld	(hl),xship_rel
      83.  01:70C8  23                  	inc hl
      84.  01:70C9  36 08               	ld	(hl),8		; shape 8 hard wired
      85.  01:70CB  23                  	inc hl
      86.  01:70CC  36 06               	ld	(hl),6
      87.  01:70CE  C9                  	ret
      88.  01:70CF                      	
      89.  01:70CF                      .landing:
      90.  01:70CF  21 A7 D3            	ld	hl,ram_sat+4*2
      91.  01:70D2  3A 93 D3            	ld	a,(yship)
      92.  01:70D5  3D                  	dec	a
      93.  01:70D6  77                  	ld	(hl),a
      94.  01:70D7  23                  	inc hl
      95.  01:70D8  3A 8F D3            	ld	a,(xmap)
      96.  01:70DB  57                  	ld  d,a
      97.  01:70DC  3A 94 D3            	ld	a,(xship)
      98.  01:70DF  92                  	sub	a,d
      99.  01:70E0  77                  	ld	(hl),a		; xship_rel
     100.  01:70E1  23                  	inc hl
     101.  01:70E2  36 00               	ld	(hl),0		; shape 0 hard wired
     102.  01:70E4  23                  	inc hl
     103.  01:70E5  36 0F               	ld	(hl),15
     104.  01:70E7                      	
     105.  01:70E7  11 F9 FF            	ld  de,-7
     106.  01:70EA  19                  	add hl,de
     107.  01:70EB                      	
     108.  01:70EB  3A 93 D3            	ld	a,(yship)
     109.  01:70EE  3D                  	dec	a
     110.  01:70EF  77                  	ld	(hl),a
     111.  01:70F0  23                  	inc hl
     112.  01:70F1  3A 8F D3            	ld	a,(xmap)
     113.  01:70F4  57                  	ld  d,a
     114.  01:70F5  3A 94 D3            	ld	a,(xship)
     115.  01:70F8  92                  	sub	a,d
     116.  01:70F9  77                  	ld	(hl),a		; xship_rel
     117.  01:70FA  23                  	inc hl
     118.  01:70FB  36 04               	ld	(hl),4		; shape 4 hard wired
     119.  01:70FD  4F                  	ld	c,a
     120.  01:70FE  23                  	inc hl
     121.  01:70FF  36 07               	ld	(hl),7
     122.  01:7101                      
     123.  01:7101  11 F9 FF            	ld  de,-7
     124.  01:7104  19                  	add hl,de
     125.  01:7105                      
     126.  01:7105  3A 93 D3            	ld	a,(yship)
     127.  01:7108  80                  	add a,b 
     128.  01:7109  77                  	ld	(hl),a
     129.  01:710A  23                  	inc hl
     130.  01:710B                      
     131.  01:710B  3A 8F D3            	ld	a,(xmap)
     132.  01:710E  57                  	ld  d,a
     133.  01:710F  3A 94 D3            	ld	a,(xship)
     134.  01:7112  92                  	sub	a,d
     135.  01:7113  80                  	add	a,b
     136.  01:7114  77                  	ld	(hl),a
     137.  01:7115  23                  	inc hl
     138.  01:7116  36 08               	ld	(hl),8		; shape 8 hard wired
     139.  01:7118  23                  	inc hl
     140.  01:7119  36 01               	ld	(hl),1
     141.  01:711B  C9                  	ret
      54   01:711C                      				
      55   01:711C                      opening_screen		
      56   01:711C  0E 00               		ld		c,0
      57   01:711E  11 00 00            		ld		de,0
      58   01:7121  CD A6 41            		call	_vdpsetvramwr
      59   01:7124  1E 07               		ld	e,7
      60   01:7126  3E 10               		ld	a, :_opening
      61   01:7128  57                  		ld	d,a
      62   01:7129  32 00 B0            2:		ld	(_kBank4),a
      63   01:712C  21 00 A0            		ld	hl,_opening
      64   01:712F  01 98 00            		ld	bc,0x98
      65   01:7132  3E 20               		ld	a,32
      66   01:7134  ED B3               1:		otir
      67   01:7136  3D                  		dec	a
      68   01:7137  20 FB               		jr	nz,1b
      69   01:7139  14                  		inc	d
      70   01:713A  7A                  		ld	a,d
      71   01:713B  1D                  		dec	e
      72   01:713C  20 EB               		jr	nz,2b
      73   01:713E  C9                  		ret
      74   01:713F                      		
      75   01:713F                      		
      76   01:713F  (00C1)              		align 0x100
      77   01:7200                      color_base:
      78   01:7200                      		repeat 4
      79   01:7200                    < 		ds	16,8
      80   01:7200                    < 		ds	16,3+64
      81   01:7200  08 (16)           < 		endrepeat
      82   01:7280                      		repeat 4
      83   01:7280                    < 		ds	16,13
      84   01:7280                    < 		ds	16,6+64
      85   01:7280  0D (16)           < 		endrepeat
      86   01:7300                      
      87   01:7300                      		repeat 4
      88   01:7300                    < 		ds	16,12
      89   01:7300                    < 		ds	16,6+64
      90   01:7300  0C (16)           < 		endrepeat
      91   01:7380                      		repeat 4
      92   01:7380                    < 		ds	16,10
      93   01:7380                    < 		ds	16,1+64
      94   01:7380  0A (16)           < 		endrepeat
      95   01:7400                      		repeat 4
      96   01:7400                    < 		ds	16,4
      97   01:7400                    < 		ds	16,9+64
      98   01:7400  04 (16)           < 		endrepeat
      99   01:7480                      		repeat 4
     100   01:7480                    < 		ds	16,12
     101   01:7480                    < 		ds	16,1+64
     102   01:7480  0C (16)           < 		endrepeat
     103   01:7500                      		repeat 4
     104   01:7500                    < 		ds	16,12
     105   01:7500                    < 		ds	16,5+64
     106   01:7500  0C (16)           < 		endrepeat
     107   01:7580                      		repeat 4
     108   01:7580                    < 		ds	16,10
     109   01:7580                    < 		ds	16,3+64
     110   01:7580  0A (16)           < 		endrepeat
     111   01:7600                      	
     112   01:7600  (00)                		page 0
     113   00:4000                      		
     114   00:4000                              org 4000h
     115   00:4000                              dw  4241h,START,0,0,0,0,0,0
     115   00:4000  41 42 46 49 00 00 00 00 00 00 00 00 00 00 00 00 
     116   00:4010                      
     117   00:4010                      	;-------------------------------------		
     118   00:4010                      
     119   00:4010                      		include "header.asm"
       1.  00:4010                      
       2.  00:4010                      
     120   00:4010                      		include "rominit64.asm"
       1.  00:4010                      
       2.  00:4010                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       3.  00:4010                      ; set pages and subslot
       4.  00:4010                      ;
       5.  00:4010                      
       6.  00:4010                      
       7.  00:4010  (00:0024)           ENASLT:			equ		024h
       8.  00:4010  (00:0138)           RSLREG:			equ		0138h
       9.  00:4010  (00:FCC1)           EXPTBL:			equ		0FCC1h	; Bios Slot / Expansion Slot
      10.  00:4010                      
      11.  00:4010                      
      12.  00:4010                      ; ----------------------------
      13.  00:4010                      ; pre-set main slot for page 3
      14.  00:4010                      ; and set sub-slot for page 3
      15.  00:4010                      ; ----------------------------
      16.  00:4010                      	macro	mainslot_setup n
      17.  00:4010                    < 	and		3
      18.  00:4010                    < [2]	rrca
      19.  00:4010                    < 	and		0xC0
      20.  00:4010                    < 	ld		c,a
      21.  00:4010                    < 	ld		a,d
      22.  00:4010                    < 	and		0x3F
      23.  00:4010                    < 	or		c
      24.  00:4010                    < 	ld		c,a					; Primary slot value with main slot in page 3
      25.  00:4010                    < 
      26.  00:4010                    < 	ld		a,b
      27.  00:4010                    < 	and		0x0C
      28.  00:4010                    < [2]	rrca
      29.  00:4010                    < 	and		3
      30.  00:4010                    < 	ld		b,a					; B = Expanded slot in page 3
      31.  00:4010                    < 	ld		a,c
      32.  00:4010                    < 	out		(0A8h),a			; Slot : Main Slot, xx, xx, Main slot
      33.  00:4010                    < 	ld		a,(0FFFFh)
      34.  00:4010                    < 	cpl
      35.  00:4010                    < 	if (n<=4)
      36.  00:4010                    < [n]	RLCA
      37.  00:4010                    < 	else
      38.  00:4010                    < [8-n] RRCA	
      39.  00:4010                    < 	endif
      40.  00:4010                    < 	and		0xFC
      41.  00:4010                    < 	or		b
      42.  00:4010                    < 	if (n<=4)
      43.  00:4010                    < [n]	RRCA
      44.  00:4010                    < 	else
      45.  00:4010                    < [8-n] RLCA
      46.  00:4010                    < 	endif
      47.  00:4010                    < 	ld		(0FFFFh),a		; Expanded slot selected
      48.  00:4010                    < 	ld		b,a				; save for later	
      49.  00:4010                    < 	endmacro
      50.  00:4010                      		
      51.  00:4010                      
      52.  00:4010                      ; ------------------------------
      53.  00:4010                      ; SEARCH_SLOT
      54.  00:4010                      ; look for the slot of our rom
      55.  00:4010                      ; active in page 1
      56.  00:4010                      ; ------------------------------
      57.  00:4010                      
      58.  00:4010                      search_slot:
      59.  00:4010  CD 38 01            	call	RSLREG
      60.  00:4013  0F 0F               [2]	rrca
      61.  00:4015  E6 03               	and		3
      62.  00:4017  4F                  	ld		c,a
      63.  00:4018  06 00               	ld		b,0
      64.  00:401A  21 C1 FC            	ld		hl,EXPTBL
      65.  00:401D  09                  	add		hl,bc
      66.  00:401E  7E                  	ld		a,(hl)
      67.  00:401F  E6 80               	and		080h
      68.  00:4021  B1                  	or		c
      69.  00:4022  4F                  	ld		c,a
      70.  00:4023  23 23 23 23         [4]	inc		hl
      71.  00:4027  7E                  	ld		a,(hl)
      72.  00:4028  E6 0C               	and		0Ch
      73.  00:402A  B1                  	or		c
      74.  00:402B  32 4D D3            	ld		(slotvar),a
      75.  00:402E  C9                  	ret
      76.  00:402F                      	
      77.  00:402F                      ; ------------------------------
      78.  00:402F                      ; look for the slot of ram
      79.  00:402F                      ; active in page 3
      80.  00:402F                      ; ------------------------------
      81.  00:402F                      
      82.  00:402F                      search_slotram:
      83.  00:402F  F3                  	di
      84.  00:4030  CD 38 01            	call	RSLREG
      85.  00:4033  07 07               [2]	rlca
      86.  00:4035  E6 03               	and		3
      87.  00:4037  4F                  	ld		c,a
      88.  00:4038  06 00               	ld		b,0
      89.  00:403A  21 C1 FC            	ld		hl,EXPTBL
      90.  00:403D  09                  	add		hl,bc
      91.  00:403E  7E                  	ld		a,(hl)
      92.  00:403F  E6 80               	and		080h
      93.  00:4041  28 0D               	jr		z,search_slotram0
      94.  00:4043  B1                  	or		c
      95.  00:4044  4F                  	ld		c,a
      96.  00:4045  23 23 23 23         [4]	inc		hl
      97.  00:4049  7E                  	ld		a,(hl)
      98.  00:404A  07 07 07 07         [4]	rlca
      99.  00:404E  E6 0C               	and		0Ch
     100.  00:4050                      search_slotram0:
     101.  00:4050  B1                  	or		c
     102.  00:4051  32 4E D3            	ld		(slotram),a
     103.  00:4054  C9                  	ret
     104.  00:4055                      	
     105.  00:4055                      ; ------------------------------
     106.  00:4055                      ; SETROMPAGE0
     107.  00:4055                      ; Set the chart in
     108.  00:4055                      ; Page 0
     109.  00:4055                      ; -----------------------------
     110.  00:4055                      
     111.  00:4055                      setrompage0:
     112.  00:4055  3A 4D D3            	ld		a,(slotvar)
     113.  00:4058  C3 7C 40            	jp		setslotpage0
     114.  00:405B                      
     115.  00:405B                      setrampage0:
     116.  00:405B  3A 4E D3            	ld		a,(slotram)
     117.  00:405E  C3 7C 40            	jp		setslotpage0
     118.  00:4061                      
     119.  00:4061                      setrompage2:
     120.  00:4061  3A 4D D3            	ld		a,(slotvar)
     121.  00:4064  C3 F2 40            	jp		setslotpage2
     122.  00:4067                      
     123.  00:4067                      setrampage2:
     124.  00:4067  3A 4E D3            	ld		a,(slotram)
     125.  00:406A  C3 F2 40            	jp		setslotpage2
     126.  00:406D                      	
     127.  00:406D                      setrompage3:
     128.  00:406D  3A 4D D3            	ld		a,(slotvar)
     129.  00:4070  C3 39 41            	jp		setslotpage3
     130.  00:4073                      
     131.  00:4073                      setrampage3:
     132.  00:4073  3A 4E D3            	ld		a,(slotram)
     133.  00:4076  C3 39 41            	jp		setslotpage3
     134.  00:4079                      	
     135.  00:4079                      ; ------------------------------
     136.  00:4079                      ; RECBIOS
     137.  00:4079                      ; set the bios ROM
     138.  00:4079                      ; -------------------------------
     139.  00:4079                      recbios:
     140.  00:4079  3A C1 FC            	ld		a,(EXPTBL)
     141.  00:407C                      
     142.  00:407C                      ; ---------------------------
     143.  00:407C                      ; SETSLOTPAGE0
     144.  00:407C                      ; Set the slot passed in A
     145.  00:407C                      ; at page 0 in the Z80 address space
     146.  00:407C                      ; A: Format FxxxSSPP
     147.  00:407C                      ; ----------------------------
     148.  00:407C                      
     149.  00:407C                      setslotpage0:
     150.  00:407C  F3                  	di
     151.  00:407D  47                  	ld		b,a					; B = Slot param in FxxxSSPP format
     152.  00:407E  DB A8               	in		a,(0A8h)
     153.  00:4080  E6 FC               	and		0xFC
     154.  00:4082  57                  	ld		d,a					; D = Primary slot value
     155.  00:4083  78                  	ld		a,b
     156.  00:4084  E6 03               	and		3
     157.  00:4086  B2                  	or		d
     158.  00:4087  57                  	ld		d,a		; D = Final Value for primary slot
     159.  00:4088  78                  	ld		a,b		; Check if expanded
     160.  00:4089  CB 7F               	bit		7,a
     161.  00:408B  28 22               	jr		z,1f	; Not Expanded
     162.  00:408D                      	mainslot_setup	0
     162.  00:408D  E6 03             >  and  3
     162.  00:408F  0F 0F             > [2] rrca
     162.  00:4091  E6 C0             >  and  0xC0
     162.  00:4093  4F                >  ld  c,a
     162.  00:4094  7A                >  ld  a,d
     162.  00:4095  E6 3F             >  and  0x3F
     162.  00:4097  B1                >  or  c
     162.  00:4098  4F                >  ld  c,a
     162.  00:4099                    > 
     162.  00:4099  78                >  ld  a,b
     162.  00:409A  E6 0C             >  and  0x0C
     162.  00:409C  0F 0F             > [2] rrca
     162.  00:409E  E6 03             >  and  3
     162.  00:40A0  47                >  ld  b,a
     162.  00:40A1  79                >  ld  a,c
     162.  00:40A2  D3 A8             >  out  (0A8h),a
     162.  00:40A4  3A FF FF          >  ld  a,(0FFFFh)
     162.  00:40A7  2F                >  cpl
     162.  00:40A8                    >  if (n<=4)
     162.  00:40A8                    > [n] RLCA
     162.  00:40A8                    >  else
     162.  00:40A8                    ~ [8-n] RRCA
     162.  00:40A8                    ~  endif
     162.  00:40A8  E6 FC             >  and  0xFC
     162.  00:40AA  B0                >  or  b
     162.  00:40AB                    >  if (n<=4)
     162.  00:40AB                    > [n] RRCA
     162.  00:40AB                    >  else
     162.  00:40AB                    ~ [8-n] RLCA
     162.  00:40AB                    ~  endif
     162.  00:40AB  32 FF FF          >  ld  (0FFFFh),a
     162.  00:40AE  47                >  ld  b,a
     163.  00:40AF  7A                  1:	ld		a,d				; A = Final value
     164.  00:40B0  D3 A8               	out		(0A8h),a		; Slot Final. Ram, rom c, rom c, Main
     165.  00:40B2  C9                  	ret
     166.  00:40B3                      
     167.  00:40B3                      ; ---------------------------
     168.  00:40B3                      ; SETSLOTPAGE1
     169.  00:40B3                      ; Set the slot passed in A
     170.  00:40B3                      ; at page 1 in the Z80 address space
     171.  00:40B3                      ; A: Format FxxxSSPP
     172.  00:40B3                      ; ----------------------------
     173.  00:40B3                      
     174.  00:40B3                      setslotpage1:
     175.  00:40B3  F3                  	di
     176.  00:40B4  47                  	ld		b,a					; B = Slot param in FxxxSSPP format
     177.  00:40B5  DB A8               	in		a,(0A8h)
     178.  00:40B7  0F 0F               [2]	RRCA
     179.  00:40B9  E6 FC               	and		0xFC
     180.  00:40BB  57                  	ld		d,a					; D = Primary slot value
     181.  00:40BC  78                  	ld		a,b
     182.  00:40BD  E6 03               	and		3
     183.  00:40BF  B2                  	or		d
     184.  00:40C0  07 07               [2]	RLCA
     185.  00:40C2  57                  	ld		d,a		; D = Final Value for primary slot
     186.  00:40C3  78                  	ld		a,b		; Check if expanded
     187.  00:40C4  CB 7F               	bit		7,a
     188.  00:40C6  28 26               	jr		z,1f	; Not Expanded
     189.  00:40C8                      	mainslot_setup	6
     189.  00:40C8  E6 03             >  and  3
     189.  00:40CA  0F 0F             > [2] rrca
     189.  00:40CC  E6 C0             >  and  0xC0
     189.  00:40CE  4F                >  ld  c,a
     189.  00:40CF  7A                >  ld  a,d
     189.  00:40D0  E6 3F             >  and  0x3F
     189.  00:40D2  B1                >  or  c
     189.  00:40D3  4F                >  ld  c,a
     189.  00:40D4                    > 
     189.  00:40D4  78                >  ld  a,b
     189.  00:40D5  E6 0C             >  and  0x0C
     189.  00:40D7  0F 0F             > [2] rrca
     189.  00:40D9  E6 03             >  and  3
     189.  00:40DB  47                >  ld  b,a
     189.  00:40DC  79                >  ld  a,c
     189.  00:40DD  D3 A8             >  out  (0A8h),a
     189.  00:40DF  3A FF FF          >  ld  a,(0FFFFh)
     189.  00:40E2  2F                >  cpl
     189.  00:40E3                    >  if (n<=4)
     189.  00:40E3                    ~ [n] RLCA
     189.  00:40E3                    ~  else
     189.  00:40E3  0F 0F             > [8-n] RRCA
     189.  00:40E5                    >  endif
     189.  00:40E5  E6 FC             >  and  0xFC
     189.  00:40E7  B0                >  or  b
     189.  00:40E8                    >  if (n<=4)
     189.  00:40E8                    ~ [n] RRCA
     189.  00:40E8                    ~  else
     189.  00:40E8  07 07             > [8-n] RLCA
     189.  00:40EA                    >  endif
     189.  00:40EA  32 FF FF          >  ld  (0FFFFh),a
     189.  00:40ED  47                >  ld  b,a
     190.  00:40EE  7A                  1:	ld		a,d				; A = Final value
     191.  00:40EF  D3 A8               	out		(0A8h),a		; Slot Final. Ram, rom c, rom c, Main
     192.  00:40F1  C9                  	ret
     193.  00:40F2                      	
     194.  00:40F2                      
     195.  00:40F2                      ; ---------------------------
     196.  00:40F2                      ; SETSLOTPAGE2
     197.  00:40F2                      ; Set the slot passed in A
     198.  00:40F2                      ; at page 2 in the Z80 address space
     199.  00:40F2                      ; A: Format FxxxSSPP
     200.  00:40F2                      ; ----------------------------
     201.  00:40F2                      
     202.  00:40F2                      setslotpage2:
     203.  00:40F2  F3                  	di
     204.  00:40F3  47                  	ld		b,a					; B = Slot param in FxxxSSPP format
     205.  00:40F4  DB A8               	in		a,(0A8h)
     206.  00:40F6  07 07 07 07         [4]	RLCA
     207.  00:40FA  E6 FC               	and		0xFC
     208.  00:40FC  57                  	ld		d,a					; D = Primary slot value
     209.  00:40FD  78                  	ld		a,b
     210.  00:40FE  E6 03               	and		3
     211.  00:4100  B2                  	or		d
     212.  00:4101  0F 0F 0F 0F         [4]	RRCA
     213.  00:4105  57                  	ld		d,a		; D = Final Value for primary slot
     214.  00:4106  78                  	ld		a,b		; Check if expanded
     215.  00:4107  CB 7F               	bit		7,a
     216.  00:4109  28 2A               	jr		z,1f	; Not Expanded
     217.  00:410B                      	mainslot_setup	4
     217.  00:410B  E6 03             >  and  3
     217.  00:410D  0F 0F             > [2] rrca
     217.  00:410F  E6 C0             >  and  0xC0
     217.  00:4111  4F                >  ld  c,a
     217.  00:4112  7A                >  ld  a,d
     217.  00:4113  E6 3F             >  and  0x3F
     217.  00:4115  B1                >  or  c
     217.  00:4116  4F                >  ld  c,a
     217.  00:4117                    > 
     217.  00:4117  78                >  ld  a,b
     217.  00:4118  E6 0C             >  and  0x0C
     217.  00:411A  0F 0F             > [2] rrca
     217.  00:411C  E6 03             >  and  3
     217.  00:411E  47                >  ld  b,a
     217.  00:411F  79                >  ld  a,c
     217.  00:4120  D3 A8             >  out  (0A8h),a
     217.  00:4122  3A FF FF          >  ld  a,(0FFFFh)
     217.  00:4125  2F                >  cpl
     217.  00:4126                    >  if (n<=4)
     217.  00:4126  07 07 07 07       > [n] RLCA
     217.  00:412A                    >  else
     217.  00:412A                    ~ [8-n] RRCA
     217.  00:412A                    ~  endif
     217.  00:412A  E6 FC             >  and  0xFC
     217.  00:412C  B0                >  or  b
     217.  00:412D                    >  if (n<=4)
     217.  00:412D  0F 0F 0F 0F       > [n] RRCA
     217.  00:4131                    >  else
     217.  00:4131                    ~ [8-n] RLCA
     217.  00:4131                    ~  endif
     217.  00:4131  32 FF FF          >  ld  (0FFFFh),a
     217.  00:4134  47                >  ld  b,a
     218.  00:4135  7A                  1:	ld		a,d				; A = Final value
     219.  00:4136  D3 A8               	out		(0A8h),a		; Slot Final. Ram, rom c, rom c, Main
     220.  00:4138  C9                  	ret
     221.  00:4139                      	
     222.  00:4139                      ; ---------------------------
     223.  00:4139                      ; SETSLOTPAGE3
     224.  00:4139                      ; Set the slot passed in A
     225.  00:4139                      ; at page 3 in the Z80 address space
     226.  00:4139                      ; A: Format FxxxSSPP
     227.  00:4139                      ; ----------------------------
     228.  00:4139                      	
     229.  00:4139                      setslotpage3:
     230.  00:4139  F3                  	di
     231.  00:413A  47                  	ld		b,a					; B = Slot param in FxxxSSPP format
     232.  00:413B  DB A8               	in		a,(0A8h)
     233.  00:413D  07 07               [2]	RLCA
     234.  00:413F  E6 FC               	and		0xFC
     235.  00:4141  57                  	ld		d,a					; D = Primary slot value
     236.  00:4142  78                  	ld		a,b
     237.  00:4143  E6 03               	and		3
     238.  00:4145  B2                  	or		d
     239.  00:4146  0F 0F               [2]	RRCA	
     240.  00:4148  57                  	ld		d,a		; D = Final Value for primary slot
     241.  00:4149  78                  	ld		a,b		; Check if expanded
     242.  00:414A  CB 7F               	bit		7,a
     243.  00:414C  28 26               	jr		z,1f	; Not Expanded
     244.  00:414E                      	mainslot_setup	2
     244.  00:414E  E6 03             >  and  3
     244.  00:4150  0F 0F             > [2] rrca
     244.  00:4152  E6 C0             >  and  0xC0
     244.  00:4154  4F                >  ld  c,a
     244.  00:4155  7A                >  ld  a,d
     244.  00:4156  E6 3F             >  and  0x3F
     244.  00:4158  B1                >  or  c
     244.  00:4159  4F                >  ld  c,a
     244.  00:415A                    > 
     244.  00:415A  78                >  ld  a,b
     244.  00:415B  E6 0C             >  and  0x0C
     244.  00:415D  0F 0F             > [2] rrca
     244.  00:415F  E6 03             >  and  3
     244.  00:4161  47                >  ld  b,a
     244.  00:4162  79                >  ld  a,c
     244.  00:4163  D3 A8             >  out  (0A8h),a
     244.  00:4165  3A FF FF          >  ld  a,(0FFFFh)
     244.  00:4168  2F                >  cpl
     244.  00:4169                    >  if (n<=4)
     244.  00:4169  07 07             > [n] RLCA
     244.  00:416B                    >  else
     244.  00:416B                    ~ [8-n] RRCA
     244.  00:416B                    ~  endif
     244.  00:416B  E6 FC             >  and  0xFC
     244.  00:416D  B0                >  or  b
     244.  00:416E                    >  if (n<=4)
     244.  00:416E  0F 0F             > [n] RRCA
     244.  00:4170                    >  else
     244.  00:4170                    ~ [8-n] RLCA
     244.  00:4170                    ~  endif
     244.  00:4170  32 FF FF          >  ld  (0FFFFh),a
     244.  00:4173  47                >  ld  b,a
     245.  00:4174  7A                  1:	ld		a,d				; A = Final value
     246.  00:4175  D3 A8               	out		(0A8h),a		; Slot Final. Ram, rom c, rom c, Main
     247.  00:4177  C9                  	ret
     248.  00:4178                      
     249.  00:4178                      	
     121   00:4178                      		include "vdpio.asm"
       1.  00:4178                      
       2.  00:4178                             
       3.  00:4178                      ;-------------------------------------
       4.  00:4178                      _cls:		
       5.  00:4178  11 00 00            		ld		de,0
       6.  00:417B  4B                  		ld		c,e
       7.  00:417C  F3                  		di
       8.  00:417D  CD A6 41            		call	_vdpsetvramwr
       9.  00:4180  01 00 00            		ld		bc,0x0000
      10.  00:4183                      ; 1:		ld		a,00100101B
      11.  00:4183  AF                  1:		xor		a
      12.  00:4184  D3 98               		out		(0x98),a
      13.  00:4186  0B                  		dec		bc
      14.  00:4187  78                  		ld		a,b
      15.  00:4188  B1                  		or		c
      16.  00:4189  20 F8               		jr	nz,1b
      17.  00:418B                      ; 1:		ld		a,00100101B
      18.  00:418B  AF                  1:		xor		a
      19.  00:418C  D3 98               		out		(0x98),a
      20.  00:418E  0B                  		dec		bc
      21.  00:418F  78                  		ld		a,b
      22.  00:4190  B1                  		or		c
      23.  00:4191  20 F8               		jr	nz,1b
      24.  00:4193  C9                  		ret
      25.  00:4194                      ;-------------------------------------
      26.  00:4194                      		
      27.  00:4194  (00:0099)           vdpport1 equ 0x99
      28.  00:4194  (00:009A)           vdpport2 equ 0x9A
      29.  00:4194                      
      30.  00:4194                      levelcolors:
      31.  00:4194                      	; incbin "palette.bin"
      32.  00:4194                      
      33.  00:4194                      _SetPalet:   
      34.  00:4194  F3                  	di
      35.  00:4195  AF                  	xor a 			;Set pointer to zero.
      36.  00:4196  D3 99               	out (vdpport1),a        
      37.  00:4198  3E 90               	ld  a,16 | 010000000B
      38.  00:419A  D3 99               	out (vdpport1),a
      39.  00:419C                      
      40.  00:419C  21 94 41            	ld  hl,levelcolors
      41.  00:419F  01 9A 20            	ld bc,vdpport2+32*256
      42.  00:41A2  ED B3               	otir
      43.  00:41A4  FB                  	ei
      44.  00:41A5  C9                  	ret
      45.  00:41A6                      
      46.  00:41A6                      ;Set VDP for writing at address CDE (17-bit) 
      47.  00:41A6                      
      48.  00:41A6                      _vdpsetvramwr:
      49.  00:41A6  79                  	ld a,c
      50.  00:41A7                      ;Set VDP for writing at address ADE (17-bit) ;
      51.  00:41A7  CB 02               	rlc d
      52.  00:41A9  17                  	rla
      53.  00:41AA  CB 02               	rlc d
      54.  00:41AC  17                  	rla
      55.  00:41AD  CB 3A               	srl d ; primo shift, il secondo dopo la out
      56.  00:41AF                      
      57.  00:41AF  D3 99               	out (0x99),a ;set bits 14-16
      58.  00:41B1  3E 8E               	ld a,14+128
      59.  00:41B3  D3 99               	out (0x99),a
      60.  00:41B5                      
      61.  00:41B5  CB 3A               	srl d ; secondo shift.     
      62.  00:41B7                      _vdpsetvramwr14
      63.  00:41B7  7B                  	ld a,e ;set bits 0-7
      64.  00:41B8  D3 99               	out (0x99),a
      65.  00:41BA  7A                  	ld a,d ;set bits 8-13
      66.  00:41BB  F6 40               	or 0x40 ; + write access
      67.  00:41BD  D3 99               	out (0x99),a
      68.  00:41BF  C9                  	ret
      69.  00:41C0                      	
      70.  00:41C0                      ;Set VDP port #98 to start reading at address CDE (17-bit) ;
      71.  00:41C0                      
      72.  00:41C0                      _vdpsetvramrd:
      73.  00:41C0  79                  	ld a,c
      74.  00:41C1                      ;Set VDP port #98 to start reading at address ADE (17-bit) ;
      75.  00:41C1  CB 02               	rlc d
      76.  00:41C3  17                  	rla
      77.  00:41C4  CB 02               	rlc d
      78.  00:41C6  17                  	rla
      79.  00:41C7  CB 3A               	srl d ; primo shift, il secondo dopo la out
      80.  00:41C9                      
      81.  00:41C9  D3 99               	out (0x99),a ;set bits 14-16
      82.  00:41CB  3E 8E               	ld a,14+128
      83.  00:41CD  D3 99               	out (0x99),a
      84.  00:41CF                      
      85.  00:41CF  CB 3A               	srl d ; secondo shift.            
      86.  00:41D1  7B                  	ld a,e ;set bits 0-7
      87.  00:41D2  D3 99               	out (0x99),a
      88.  00:41D4  7A                  	ld a,d ;set bits 8-13
      89.  00:41D5  E6 3F               	and 0x3F
      90.  00:41D7  D3 99               	out (0x99),a
      91.  00:41D9  C9                  	ret
      92.  00:41DA                      
      93.  00:41DA                      ;Display page E in screen 5
      94.  00:41DA                      _setpage:
      95.  00:41DA  7B                  	ld a,e
      96.  00:41DB  87 87 87 87 87      [5]	add a,a ;x32
      97.  00:41E0  F6 1F               	or	 00011111B
      98.  00:41E2  F3                  	di
      99.  00:41E3  D3 99               	out (0x99),a
     100.  00:41E5  3E 82               	ld a,2+128
     101.  00:41E7  D3 99               	out (0x99),a
     102.  00:41E9  FB                  	ei            
     103.  00:41EA  C9                  	ret
     104.  00:41EB                      
     105.  00:41EB  (00:005F)           chgmod        equ     0x005f      ;change graphic mode
     106.  00:41EB  (00:000C)           RDSLT         equ     0x000c      ;read address HL in slot A
     107.  00:41EB  (00:0156)           KILBUF        equ     0x0156      ;clear keyboard buffer
     108.  00:41EB                      
     109.  00:41EB                      set_scr:
     110.  00:41EB                      	
     111.  00:41EB                      	// sprites 16x16
     112.  00:41EB  3A E0 F3            	ld		a,(RG1SAV)
     113.  00:41EE  F6 02               	or		00000010B
     114.  00:41F0  32 E0 F3            	ld		(RG1SAV),a
     115.  00:41F3                      
     116.  00:41F3                      	// border color
     117.  00:41F3  AF                  	xor		a
     118.  00:41F4  32 E6 F3            	ld		(RG7SAV),a
     119.  00:41F7                      		
     120.  00:41F7                      	// enable sprites + TP
     121.  00:41F7  3A E7 FF            	ld		a,(RG8SAV)
     122.  00:41FA  F6 22               	or		00100010B
     123.  00:41FC  32 E7 FF            	ld		(RG8SAV),a
     124.  00:41FF                      		
     125.  00:41FF                      	// Set @50Hz (only PAL is supported)
     126.  00:41FF  3A 4F D3            	ld	a,(SEL_NTSC)
     127.  00:4202  A7                  	and 	a
     128.  00:4203  20 07               	jr		nz,1f
     129.  00:4205                      	
     130.  00:4205  3A E8 FF            	ld		a,(RG9SAV)		
     131.  00:4208  F6 02               	or		00000010B		; PAL
     132.  00:420A  18 05               	jr	2f
     133.  00:420C                      1:		
     134.  00:420C  3A E8 FF            	ld		a,(RG9SAV)		
     135.  00:420F  E6 FD               	and		11111101B		; NTSC
     136.  00:4211  32 E8 FF            2:	ld		(RG9SAV),a
     137.  00:4214                      
     138.  00:4214  3E 08               	ld  	a,8
     139.  00:4216  CD 5F 00            	call	chgmod
     140.  00:4219                      
     141.  00:4219  F3                  	di
     142.  00:421A  3A E8 FF            	ld		a,(RG9SAV)		
     143.  00:421D  E6 7F               	and		01111111B		; Set 192 lines
     144.  00:421F  32 E8 FF            	ld		(RG9SAV),a
     145.  00:4222  D3 99               	out		(0x99),a
     146.  00:4224  3E 89               	ld		a,128+9
     147.  00:4226  D3 99               	out		(0x99),a
     148.  00:4228  FB                  	ei
     149.  00:4229                      	
     150.  00:4229  C9                  	ret
     151.  00:422A                      
     152.  00:422A                      
     153.  00:422A                      _waitvdp:
     154.  00:422A  3E 02               	ld a,2
     155.  00:422C  D3 99               	out (0x99),a
     156.  00:422E  3E 8F               	ld a, 128+15
     157.  00:4230  D3 99               	out (0x99),a
     158.  00:4232                      	; push hl
     159.  00:4232                      	; pop hl
     160.  00:4232  DB 99               1:  in	a,(0x99)
     161.  00:4234  0F                  	rrca
     162.  00:4235  DA 32 42            	jp c,1b
     163.  00:4238                      
     164.  00:4238  C9                  	ret
     165.  00:4239                      
     166.  00:4239                      ; .inf:
     167.  00:4239                      	; ld	a,r			; random colour
     168.  00:4239                      	; out		(0x99),a
     169.  00:4239                      	; ld		a,7+128
     170.  00:4239                      	; out		(0x99),a
     171.  00:4239                      	; jp	1b
     172.  00:4239                      	
     122   00:4239                      		include "turbo.asm"
       1.  00:4239                      
       2.  00:4239  (00:000C)           rdslt	equ	0x000c
       3.  00:4239  (00:001C)           CALSLT	equ	0x001c
       4.  00:4239  (00:0180)           chgcpu	equ	0x0180	; change cpu mode
       5.  00:4239  (00:FCC1)           exttbl	equ	0xfcc1	; main rom slot
       6.  00:4239                      
       7.  00:4239                      ; Switch to r800 rom mode
       8.  00:4239                      	
       9.  00:4239                      _set_r800:
      10.  00:4239  DB AA               		in	a,(0aah)
      11.  00:423B  E6 F0               		and 011110000B			; upper 4 bits contain info to preserve
      12.  00:423D  F6 06               		or	6
      13.  00:423F  D3 AA               		out (0aah),a
      14.  00:4241  DB A9               		in	a,(0a9h)
      15.  00:4243  6F                  		ld	l,a
      16.  00:4244                      
      17.  00:4244  3A 2D 00            		ld	a,(0x002d)
      18.  00:4247  FE 03               		cp	3					; this is a TR
      19.  00:4249  7D                  		ld	a,l
      20.  00:424A  28 0E               		jr	z,set_turbo_tr
      21.  00:424C                      								; this is anything else
      22.  00:424C  E6 02               		and	0x02				; CTR
      23.  00:424E  C0                  		ret	nz					; if NZ, CTR is not pressed set the turbo
      24.  00:424F                      
      25.  00:424F  3A 80 01            		ld	A,(chgcpu)
      26.  00:4252  FE C3               		cp	0C3h
      27.  00:4254  3E 81               		ld	a,81h              ; R800 ROM mode or any other turbo
      28.  00:4256  CC 80 01            		call	z,chgcpu
      29.  00:4259  C9                  		ret
      30.  00:425A                      
      31.  00:425A                      set_turbo_tr
      32.  00:425A  E6 02               		and	0x02				; CTR
      33.  00:425C  C8                  		ret	z					; if Z, CTR is pressed -> do not set the turbo
      34.  00:425D  3E 81               		ld	a,81h              	; R800 ROM mode
      35.  00:425F  C3 80 01            		jp chgcpu
      36.  00:4262                      		
     123   00:4262                      		include "isr.asm"
       1.  00:4262                      
       2.  00:4262                      		; include "header.asm"
       3.  00:4262                      		
       4.  00:4262                      // MSX 1 
       5.  00:4262  (00:F3DF)           RG0SAV  equ 0xF3DF  
       6.  00:4262  (00:F3E0)           RG1SAV  equ 0xF3E0  
       7.  00:4262  (00:F3E1)           RG2SAV  equ 0xF3E1
       8.  00:4262  (00:F3E2)           RG3SAV  equ 0xF3E2
       9.  00:4262  (00:F3E3)           RG4SAV  equ 0xF3E3
      10.  00:4262  (00:F3E4)           RG5SAV  equ 0xF3E4
      11.  00:4262  (00:F3E5)           RG6SAV  equ 0xF3E5
      12.  00:4262  (00:F3E6)           RG7SAV  equ 0xF3E6
      13.  00:4262                      // MSX 2
      14.  00:4262  (00:FFE7)           RG8SAV  equ 0xFFE7 
      15.  00:4262  (00:FFE8)           RG9SAV  equ 0xFFE8 
      16.  00:4262  (00:FFE9)           RG10SAV equ 0xFFE9 
      17.  00:4262  (00:FFEA)           RG11SAV equ 0xFFEA 
      18.  00:4262  (00:FFEB)           RG12SAV equ 0xFFEB 
      19.  00:4262  (00:FFEC)           RG13SAV equ 0xFFEC 
      20.  00:4262  (00:FFED)           RG14SAV equ 0xFFED 
      21.  00:4262  (00:FFEE)           RG15SAV equ 0xFFEE 
      22.  00:4262  (00:FFEF)           RG16SAV equ 0xFFEF 
      23.  00:4262  (00:FFF0)           RG17SAV equ 0xFFF0 
      24.  00:4262  (00:FFF1)           RG18SAV equ 0xFFF1 
      25.  00:4262  (00:FFF2)           RG19SAV equ 0xFFF2 
      26.  00:4262  (00:FFF3)           RG20SAV equ 0xFFF3 
      27.  00:4262  (00:FFF4)           RG21SAV equ 0xFFF4 
      28.  00:4262  (00:FFF5)           RG22SAV equ 0xFFF5 
      29.  00:4262  (00:FFF7)           RG23SAV equ 0xFFF7 
      30.  00:4262                      
      31.  00:4262  (00:FC9E)           _jiffy: equ 0xFC9E 
      32.  00:4262                      
      33.  00:4262                      _fake_isr
      34.  00:4262  F5                  		push	af
      35.  00:4263  AF                  		xor	a 			; read S#0
      36.  00:4264  D3 99               		out (0x99),a
      37.  00:4266  3E 8F               		ld a,128+15
      38.  00:4268  D3 99               		out (0x99),a
      39.  00:426A                      		 
      40.  00:426A  DB 99               		in	a,(0x99)
      41.  00:426C  F1                  		pop	af
      42.  00:426D  FB                  		ei
      43.  00:426E  C9                  		ret
      44.  00:426F                      	
      45.  00:426F                      _isrinit:
      46.  00:426F  F3                  		di
      47.  00:4270  21 38 00            		ld	hl,0x0038
      48.  00:4273  36 C3               		ld	(hl),0xC3
      49.  00:4275  23                  		inc	hl
      50.  00:4276  36 AF               		ld	(hl),low _scroll
      51.  00:4278  23                  		inc	hl
      52.  00:4279  36 42               		ld	(hl),high _scroll
      53.  00:427B                      
      54.  00:427B                      ; set interrupt line
      55.  00:427B  3E A8               		LD    A,YSIZE
      56.  00:427D  D3 99               		out (0x99),a
      57.  00:427F  3E 93               		LD    A,19+128
      58.  00:4281  D3 99               		out (0x99),a
      59.  00:4283                      	
      60.  00:4283                      ; enable line interrupt
      61.  00:4283  3A DF F3            		LD    A,(RG0SAV)
      62.  00:4286  F6 10               		OR    00010000B
      63.  00:4288  32 DF F3            		LD    (RG0SAV),A
      64.  00:428B  D3 99               		out (0x99),a
      65.  00:428D  3E 80               		LD    A,0+128
      66.  00:428F  D3 99               		out (0x99),a
      67.  00:4291  FB                  		ei
      68.  00:4292  C9                  		ret
      69.  00:4293                      	
      70.  00:4293                      _intreset:
      71.  00:4293  F3                  		di
      72.  00:4294  21 38 00            		ld	hl,0x0038
      73.  00:4297  36 C3               		ld	(hl),0xC3
      74.  00:4299  23                  		inc	hl
      75.  00:429A  36 62               		ld	(hl),low _fake_isr
      76.  00:429C  23                  		inc	hl
      77.  00:429D  36 42               		ld	(hl),high _fake_isr
      78.  00:429F                      
      79.  00:429F                      ; disable line interrupt		
      80.  00:429F  3A DF F3            		LD    A,(RG0SAV)
      81.  00:42A2  E6 EF               		and    11101111B
      82.  00:42A4  32 DF F3            		LD    (RG0SAV),A
      83.  00:42A7  D3 99               		out (0x99),a
      84.  00:42A9  3E 80               		LD    A,0+128
      85.  00:42AB  D3 99               		out (0x99),a
      86.  00:42AD  FB                  		ei
      87.  00:42AE  C9                  		ret
      88.  00:42AF                      	
      89.  00:42AF                      ;;;;;;;;;;;;;;;;;;;;;;
      90.  00:42AF                      ; actual ISR handler
      91.  00:42AF                      ;;;;;;;;;;;;;;;;;;;;;;
      92.  00:42AF                      
      93.  00:42AF                      _scroll:
      94.  00:42AF  F5                  		push	af
      95.  00:42B0                      		
      96.  00:42B0  3E 01               		ld a,1 			; read S#1
      97.  00:42B2  D3 99               		out (0x99),a
      98.  00:42B4  3E 8F               		ld a,128+15
      99.  00:42B6  D3 99               		out (0x99),a
     100.  00:42B8                      		 
     101.  00:42B8  DB 99               		in	a,(0x99)
     102.  00:42BA  1F                  		rra
     103.  00:42BB  DA E5 42            		jp	c,lint	
     104.  00:42BE                      
     105.  00:42BE  AF                  		xor	a 			; read S#0
     106.  00:42BF  D3 99               		out (0x99),a
     107.  00:42C1  3E 8F               		ld a,128+15
     108.  00:42C3  D3 99               		out (0x99),a
     109.  00:42C5                      		 
     110.  00:42C5  DB 99               		in	a,(0x99)
     111.  00:42C7  07                  		rlca
     112.  00:42C8  DA 3A 43            		jp	c,vblank
     113.  00:42CB                      		
     114.  00:42CB  F1                  		pop	af			; none of them (?)
     115.  00:42CC  FB                  		ei
     116.  00:42CD  C9                  		ret
     117.  00:42CE                      	
     118.  00:42CE                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;	
     119.  00:42CE                      ; manage score bar at YSIZE
     120.  00:42CE                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;	
     121.  00:42CE                      waitHBLANK
     122.  00:42CE  3E 02               		ld a,2 				; read S#2
     123.  00:42D0  D3 99               		out (0x99),a
     124.  00:42D2  3E 8F               		ld a,128+15
     125.  00:42D4  D3 99               		out (0x99),a		; poll for HBLANK
     126.  00:42D6                      		 
     127.  00:42D6  DB 99               1:		in	a,(0x99)		; we are in HBLANK already, so wait until end of HBLANK
     128.  00:42D8  E6 20               		and	0x20
     129.  00:42DA  C2 D6 42            		jp	nz,1b			
     130.  00:42DD  DB 99               2:		in	a,(0x99)		; wait until end of the active area
     131.  00:42DF  E6 20               		and	0x20
     132.  00:42E1  CA DD 42            		jp	z,2b
     133.  00:42E4  C9                  		ret
     134.  00:42E5                      	
     135.  00:42E5                      lint:	
     136.  00:42E5                      		; call	waitHBLANK
     137.  00:42E5                      						; now we are at the start of HBLANK
     138.  00:42E5                      	
     139.  00:42E5                      		; ld	a,(RG1SAV)
     140.  00:42E5                      		; and	010111111B			; disable screen
     141.  00:42E5                      		; ld	(RG1SAV),a
     142.  00:42E5                      		; out	(0x99),a
     143.  00:42E5                      		; ld	a,1+128
     144.  00:42E5                      		; out	(0x99),a
     145.  00:42E5                      
     146.  00:42E5  3A E7 FF            		ld	a,(RG8SAV)
     147.  00:42E8  F6 02               		or	000000010B		; disable sprites
     148.  00:42EA  32 E7 FF            		ld	(RG8SAV),a
     149.  00:42ED  D3 99               		out	(0x99),a
     150.  00:42EF  3E 88               		ld	a,8+128
     151.  00:42F1  D3 99               		out	(0x99),a
     152.  00:42F3                      
     153.  00:42F3  3E 0A               		LD    A,mapHeight*16-(YSIZE-2)	; SCROLL DOWN
     154.  00:42F5  D3 99               		out (0x99),a
     155.  00:42F7  3E 97               		LD    A,23+128
     156.  00:42F9  D3 99               		out (0x99),a
     157.  00:42FB                      
     158.  00:42FB  3E 1F               		ld a,00011111B		; 0XX11111B
     159.  00:42FD  D3 99               		out (0x99),a
     160.  00:42FF  3E 82               		ld a,2+128			; R#2 
     161.  00:4301  D3 99               		out (0x99),a		; score bar in page 0
     162.  00:4303                      
     163.  00:4303  AF                  		xor		a
     164.  00:4304  D3 99               		out	(099h),a
     165.  00:4306  3E 92               		ld	a,18+128
     166.  00:4308  D3 99               		out	(099h),a		; set adjust 0,0
     167.  00:430A                      
     168.  00:430A                      		; call	waitHBLANK
     169.  00:430A                      		
     170.  00:430A                      		; ld	a,(RG1SAV)
     171.  00:430A                      		; or 	01000010B		; enable screen
     172.  00:430A                      		; ld	(RG1SAV),a
     173.  00:430A                      		; out	(0x99),a
     174.  00:430A                      		; ld	a,1+128
     175.  00:430A                      		; out	(0x99),a
     176.  00:430A                      	
     177.  00:430A  E5                  		push   hl         
     178.  00:430B  D5                  		push   de         
     179.  00:430C  C5                  		push   bc         
     180.  00:430D  D9                  		exx               
     181.  00:430E  08                  		ex     af,af'     
     182.  00:430F  E5                  		push   hl         
     183.  00:4310  D5                  		push   de         
     184.  00:4311  C5                  		push   bc         
     185.  00:4312  F5                  		push   af         
     186.  00:4313  FD E5               		push   iy         
     187.  00:4315  DD E5               		push   ix         
     188.  00:4317                      
     189.  00:4317                      		
     190.  00:4317  21 2A 43            		ld	hl,.exit
     191.  00:431A  E5                  		push	hl
     192.  00:431B  3A 8E D3            		ld		a,(dxmap)
     193.  00:431E  CB 07               		rlc a
     194.  00:4320  CA B9 6A            		jp	z,replay_route			;  output music data	
     195.  00:4323  D2 75 43            		jp	nc,_blank_line_lft		; >0 == dx
     196.  00:4326  DA 8D 43            		jp	 c,_blank_line_rgt		; <0 == sx
     197.  00:4329  E1                  1:		pop	hl
     198.  00:432A                      .exit:
     199.  00:432A                      		
     200.  00:432A  DD E1               		pop    ix         
     201.  00:432C  FD E1               		pop    iy         
     202.  00:432E  F1                  		pop    af         
     203.  00:432F  C1                  		pop    bc         
     204.  00:4330  D1                  		pop    de         
     205.  00:4331  E1                  		pop    hl         
     206.  00:4332  08                  		ex     af,af'     
     207.  00:4333  D9                  		exx               
     208.  00:4334  C1                  		pop    bc         
     209.  00:4335  D1                  		pop    de         
     210.  00:4336  E1                  		pop    hl         
     211.  00:4337                      
     212.  00:4337  F1                  		pop		af
     213.  00:4338  FB                  		ei
     214.  00:4339  C9                  		ret
     215.  00:433A                      
     216.  00:433A                      ;-------------------------------------		
     217.  00:433A                      
     218.  00:433A  (00:0000)           border_color	equ 	0;	00100101B
     219.  00:433A                      		
     220.  00:433A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;	
     221.  00:433A                      ;   manage normal vblank routine
     222.  00:433A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;	
     223.  00:433A                      
     224.  00:433A                      vblank:
     225.  00:433A  CD 39 44            		call	activate_window	
     226.  00:433D                      
     227.  00:433D  E5                  		push   hl         
     228.  00:433E  D5                  		push   de         
     229.  00:433F  C5                  		push   bc         
     230.  00:4340  D9                  		exx               
     231.  00:4341  08                  		ex     af,af'     
     232.  00:4342  E5                  		push   hl         
     233.  00:4343  D5                  		push   de         
     234.  00:4344  C5                  		push   bc         
     235.  00:4345  F5                  		push   af         
     236.  00:4346  FD E5               		push   iy         
     237.  00:4348  DD E5               		push   ix         
     238.  00:434A                      
     239.  00:434A                      		; ld	a,00011100B		; red
     240.  00:434A                      		; out		(0x99),a
     241.  00:434A                      		; ld		a,7+128
     242.  00:434A                      		; out		(0x99),a
     243.  00:434A                      
     244.  00:434A  CD 78 44            		call	changedir
     245.  00:434D                      				
     246.  00:434D  2A 9E FC            		ld	hl,(_jiffy)
     247.  00:4350  23                  		inc	hl
     248.  00:4351  22 9E FC            		ld	(_jiffy),hl
     249.  00:4354                      				
     250.  00:4354                      		; ld	a,00011100B		; red
     251.  00:4354                      		; out	(0x99),a
     252.  00:4354                      		; ld	a,7+128
     253.  00:4354                      		; out	(0x99),a
     254.  00:4354                      		
     255.  00:4354  CD 51 61            		call	replay_play			; calculate next output
     256.  00:4357                      
     257.  00:4357  AF                  		xor		a		; black
     258.  00:4358  D3 99               		out	(0x99),a
     259.  00:435A  3E 87               		ld	a,7+128
     260.  00:435C  D3 99               		out	(0x99),a
     261.  00:435E                      	
     262.  00:435E  DD E1               		pop    ix         
     263.  00:4360  FD E1               		pop    iy         
     264.  00:4362  F1                  		pop    af         
     265.  00:4363  C1                  		pop    bc         
     266.  00:4364  D1                  		pop    de         
     267.  00:4365  E1                  		pop    hl         
     268.  00:4366  08                  		ex     af,af'     
     269.  00:4367  D9                  		exx               
     270.  00:4368  C1                  		pop    bc         
     271.  00:4369  D1                  		pop    de         
     272.  00:436A  E1                  		pop    hl         
     273.  00:436B                      
     274.  00:436B  F1                  		pop		af
     275.  00:436C  FB                  		ei
     276.  00:436D  C9                  		ret
     277.  00:436E                      
     278.  00:436E                      ;-------------------------------------
     279.  00:436E                      .stand:
     280.  00:436E  CD 49 45            		call 	plot_enemy		
     281.  00:4371  CD C0 4E            		call	color_enemy
     282.  00:4374  C9                  		ret
     283.  00:4375                      ;-------------------------------------
     284.  00:4375                      
     285.  00:4375                      _blank_line_lft:
     286.  00:4375  3E 07               		ld	a,00000111B		; blue
     287.  00:4377  D3 99               		out	(0x99),a
     288.  00:4379  3E 87               		ld	a,7+128
     289.  00:437B  D3 99               		out	(0x99),a
     290.  00:437D                      
     291.  00:437D  1E 00               		ld	e,0
     292.  00:437F  CD 15 4B            		call	blank_line
     293.  00:4382  CD B9 6A            		call	replay_route		; first output data	
     294.  00:4385                      		
     295.  00:4385  AF                  		xor	a
     296.  00:4386  D3 99               		out	(0x99),a
     297.  00:4388  3E 87               		ld	a,7+128
     298.  00:438A  D3 99               		out	(0x99),a
     299.  00:438C  C9                  		ret
     300.  00:438D                      
     301.  00:438D                      ;-------------------------------------	
     302.  00:438D                      
     303.  00:438D                      _blank_line_rgt
     304.  00:438D  3E 07               		ld	a,00000111B		; blue
     305.  00:438F  D3 99               		out	(0x99),a
     306.  00:4391  3E 87               		ld	a,7+128
     307.  00:4393  D3 99               		out	(0x99),a
     308.  00:4395                      
     309.  00:4395  1E F0               		ld	e,240
     310.  00:4397  CD 15 4B            		call	blank_line
     311.  00:439A  CD B9 6A            		call	replay_route		; first output data	
     312.  00:439D                      
     313.  00:439D  AF                  		xor	a
     314.  00:439E  D3 99               		out	(0x99),a
     315.  00:43A0  3E 87               		ld	a,7+128
     316.  00:43A2  D3 99               		out	(0x99),a
     317.  00:43A4  C9                  		ret
     318.  00:43A5                      		
     319.  00:43A5                      ;-------------------------------------	
     320.  00:43A5                      		
     321.  00:43A5                      inc_xoffset
     322.  00:43A5  CD 59 4B            		call	plot_line_rgt1
     323.  00:43A8  CD B1 43            		call	.movex
     324.  00:43AB  CD 65 4B            		call	plot_line_rgt2
     325.  00:43AE                      				
     326.  00:43AE                      		; ld	a,00000010B		; blue
     327.  00:43AE                      		; out	(0x99),a
     328.  00:43AE                      		; ld	a,7+128
     329.  00:43AE                      		; out	(0x99),a
     330.  00:43AE                      		
     331.  00:43AE  C3 F6 43            		jp		newxmap
     332.  00:43B1                      		
     333.  00:43B1                      .movex
     334.  00:43B1  3A 82 D3            		ld		a,(_xoffset)
     335.  00:43B4  A7                  		and		a
     336.  00:43B5  20 0B               		jr		nz,.case1_15
     337.  00:43B7                      .case0
     338.  00:43B7  3A 80 D3            		ld 		a,(_displaypage)
     339.  00:43BA  EE 01               		xor		1
     340.  00:43BC  57                  		ld 		d,a
     341.  00:43BD  1E F0               		ld		e,240
     342.  00:43BF  C3 E8 4B            		jp		clrboder
     343.  00:43C2                      		
     344.  00:43C2                      .case1_15
     345.  00:43C2  87 87 87 87         [4]		add		a,a
     346.  00:43C6  5F                  		ld		e,a
     347.  00:43C7  D6 10               		sub		a,16
     348.  00:43C9  57                  		ld		d,a
     349.  00:43CA  C3 1A 4C            		jp		move_block
     350.  00:43CD                      
     351.  00:43CD                      
     352.  00:43CD                      ;-------------------------------------	
     353.  00:43CD                      	
     354.  00:43CD                      dec_xoffset
     355.  00:43CD  CD 49 4B            		call	plot_line_lft1
     356.  00:43D0  CD D9 43            		call	.movex
     357.  00:43D3  CD 51 4B            		call	plot_line_lft2
     358.  00:43D6                      				
     359.  00:43D6                      		; ld	a,00000011B		; blue
     360.  00:43D6                      		; out	(0x99),a
     361.  00:43D6                      		; ld	a,7+128
     362.  00:43D6                      		; out	(0x99),a
     363.  00:43D6                      
     364.  00:43D6  C3 F6 43            		jp		newxmap
     365.  00:43D9                      		
     366.  00:43D9                      .movex
     367.  00:43D9  3A 82 D3            		ld		a,(_xoffset)
     368.  00:43DC  FE 0F               		cp	15
     369.  00:43DE  20 0B               		jr		nz,.case0_14
     370.  00:43E0                      .case15
     371.  00:43E0  3A 80 D3            		ld 		a,(_displaypage)
     372.  00:43E3  EE 01               		xor		1
     373.  00:43E5  57                  		ld 		d,a
     374.  00:43E6  1E 00               		ld		e,0
     375.  00:43E8  C3 E8 4B            		jp		clrboder
     376.  00:43EB                      		
     377.  00:43EB                      .case0_14
     378.  00:43EB  87 87 87 87         [4]		add		a,a
     379.  00:43EF  5F                  		ld		e,a
     380.  00:43F0  C6 10               		add		a,16
     381.  00:43F2  57                  		ld		d,a
     382.  00:43F3  C3 1A 4C            		jp		move_block
     383.  00:43F6                      
     384.  00:43F6                      
     385.  00:43F6                      ;-------------------------------------
     386.  00:43F6                      newxmap
     387.  00:43F6  CD 49 45            		call 	plot_enemy		
     388.  00:43F9  CD C0 4E            		call	color_enemy
     389.  00:43FC                      
     390.  00:43FC  2A 91 D3            		ld		hl,(_xmapx4)
     391.  00:43FF  3A 8E D3            		ld		a,(dxmap)
     392.  00:4402  5F                  		ld		e,a
     393.  00:4403  87                  		add 	a,a
     394.  00:4404  9F                  		sbc 	a,a
     395.  00:4405  57                  		ld		d,a
     396.  00:4406  19                  		add 	hl,de
     397.  00:4407  22 91 D3            		ld		(_xmapx4),hl
     398.  00:440A                      		repeat 2
     399.  00:440A                    < 		sra		h
     400.  00:440A                    < 		rr  	l
     401.  00:440A                    < 		endrepeat
     401.  00:440A  CB 2C CB 1D CB 2C CB 1D 
     402.  00:4412  22 8F D3            		ld		(xmap),hl
     403.  00:4415  7D                  		ld 		a,l
     404.  00:4416  E6 0F               		and		15
     405.  00:4418  32 82 D3            		ld		(_xoffset),a
     406.  00:441B                      		repeat 4
     407.  00:441B                    < 		sra		h
     408.  00:441B                    < 		rr  	l
     409.  00:441B                    < 		endrepeat
     409.  00:441B  CB 2C CB 1D CB 2C CB 1D CB 2C CB 1D CB 2C CB 1D 
     410.  00:442B  7D                  		ld 		a,l
     411.  00:442C  E6 01               		and		1
     412.  00:442E  32 80 D3            		ld		(_displaypage),a
     413.  00:4431  11 CD C2            		ld		de,_levelmap
     414.  00:4434  19                  		add		hl,de
     415.  00:4435  22 7B D3            		ld		(_levelmap_pos),hl
     416.  00:4438  C9                  		ret
     417.  00:4439                      		
     418.  00:4439                      ;-------------------------------------
     419.  00:4439                      
     420.  00:4439                      activate_window	
     421.  00:4439  3A 80 D3            		ld	a,(_displaypage)
     422.  00:443C  87 87 87 87 87      [5]		add a,a 			; x32
     423.  00:4441  F6 1F               		or	00011111B
     424.  00:4443  D3 99               		out (0x99),a
     425.  00:4445  3E 82               		ld a,2+128
     426.  00:4447  D3 99               		out (0x99),a
     427.  00:4449                      		
     428.  00:4449  3A 83 D3            		LD    A,(_yoffset)		; SCROLL DOWN
     429.  00:444C  D3 99               		out (0x99),a
     430.  00:444E  C6 A6               		add    A,YSIZE-2
     431.  00:4450  6F                  		ld		l,a
     432.  00:4451  3E 97               		LD    A,23+128
     433.  00:4453  D3 99               		out (0x99),a
     434.  00:4455                      
     435.  00:4455  7D                  		ld    a,l
     436.  00:4456  D3 99               		out (0x99),a			; set interrupt line
     437.  00:4458  3E 93               		LD    A,19+128
     438.  00:445A  D3 99               		out (0x99),a
     439.  00:445C                      		
     440.  00:445C  3A 82 D3            		ld	a,(_xoffset)		; set R#18 only if not scrolling
     441.  00:445F  C6 F8               		add	a,-8
     442.  00:4461  E6 0F               		and	0Fh
     443.  00:4463  D3 99               		out	(099h),a
     444.  00:4465  3E 92               		ld	a,18+128
     445.  00:4467  D3 99               		out	(099h),a
     446.  00:4469                      
     447.  00:4469  3A E7 FF            		ld	a,(RG8SAV)		; enable sprites
     448.  00:446C  E6 FD               		and	11111101B
     449.  00:446E  32 E7 FF            		ld	(RG8SAV),a
     450.  00:4471  D3 99               		out	(0x99),a
     451.  00:4473  3E 88               		ld	a,8+128
     452.  00:4475  D3 99               		out	(0x99),a
     453.  00:4477                      
     454.  00:4477  C9                  		ret
     455.  00:4478                      			
     456.  00:4478                      ;-------------------------------------
     457.  00:4478                      	
     458.  00:4478                      changedir:
     459.  00:4478  3A 8D D3            		ld		a,(_dxmap)
     460.  00:447B  E6 80               		and		128
     461.  00:447D  47                  		ld		b,a
     462.  00:447E  23                  		inc		hl
     463.  00:447F  3A 8E D3            		ld		a,(dxmap)		; dxmap
     464.  00:4482  4F                  		ld		c,a
     465.  00:4483  E6 80               		and		128
     466.  00:4485  A8                  		xor		b				; compare signs
     467.  00:4486  CA B8 44            		jp		z,nodirchange
     468.  00:4489  32 8C D3            		ld		(_dxchng),a		; a<>0
     469.  00:448C  CB 79               		bit		7,c
     470.  00:448E  28 14               		jr		z,.right
     471.  00:4490                      .left
     472.  00:4490  CD 49 4B            		call	plot_line_lft1
     473.  00:4493  3A 80 D3            		ld 		a,(_displaypage)
     474.  00:4496  EE 01               		xor		1
     475.  00:4498  57                  		ld 		d,a
     476.  00:4499  1E 00               		ld		e,0
     477.  00:449B  CD E8 4B            		call	clrboder
     478.  00:449E  CD 51 4B            		call	plot_line_lft2
     479.  00:44A1  C3 F6 43            		jp		newxmap
     480.  00:44A4                      
     481.  00:44A4                      .right
     482.  00:44A4  CD 59 4B            		call	plot_line_rgt1
     483.  00:44A7  3A 80 D3            		ld 		a,(_displaypage)
     484.  00:44AA  EE 01               		xor		1
     485.  00:44AC  57                  		ld 		d,a
     486.  00:44AD  1E F0               		ld		e,240
     487.  00:44AF  CD E8 4B            		call	clrboder
     488.  00:44B2  CD 65 4B            		call	plot_line_rgt2
     489.  00:44B5  C3 F6 43            		jp		newxmap
     490.  00:44B8                      
     491.  00:44B8                      nodirchange:
     492.  00:44B8  3A 8C D3            		ld		a,(_dxchng)
     493.  00:44BB  A7                  		and		a
     494.  00:44BC  20 08               		jr		nz,1f
     495.  00:44BE  CB 79               		bit		7,c
     496.  00:44C0  CA A5 43            		jp		z,inc_xoffset
     497.  00:44C3  C3 CD 43            		jp		dec_xoffset
     498.  00:44C6                      	
     499.  00:44C6  AF                  1:		xor	a
     500.  00:44C7  32 8C D3            		ld		(_dxchng),a
     501.  00:44CA  CB 79               		bit		7,c
     502.  00:44CC  CA DF 44            		jp		z,.right
     503.  00:44CF                      .left
     504.  00:44CF  CD 49 4B            		call	plot_line_lft1
     505.  00:44D2  1E E0               		ld		e,240-16
     506.  00:44D4  16 F0               		ld		d,240
     507.  00:44D6  CD 1A 4C            		call	move_block
     508.  00:44D9  CD 51 4B            		call	plot_line_lft2
     509.  00:44DC  C3 F6 43            		jp		newxmap
     510.  00:44DF                      
     511.  00:44DF                      .right
     512.  00:44DF  CD 59 4B            		call	plot_line_rgt1
     513.  00:44E2  1E 10               		ld		e,16
     514.  00:44E4  16 00               		ld		d,0
     515.  00:44E6  CD 1A 4C            		call	move_block
     516.  00:44E9  CD 65 4B            		call	plot_line_rgt2
     517.  00:44EC  C3 F6 43            		jp		newxmap
     518.  00:44EF                      
     519.  00:44EF                      ;-------------------------------------
     124   00:44EF                      		
     125   00:44EF                      		include checkkbd.asm
       1.  00:44EF                      
       2.  00:44EF                      ; // Line Bit_7 Bit_6 Bit_5 Bit_4 Bit_3 Bit_2 Bit_1 Bit_0
       3.  00:44EF                      ; // 0 "7" "6" "5" "4" "3" "2" "1" "0"
       4.  00:44EF                      ; // 1 ";" "]" "[" "\" "=" "-" "9" "8"
       5.  00:44EF                      ; // 2 "B" "A" ??? "/" "." "," "'" "`"
       6.  00:44EF                      ; // 3 "J" "I" "H" "G" "F" "E" "D" "C"
       7.  00:44EF                      ; // 4 "R" "Q" "P" "O" "N" "M" "L" "K"
       8.  00:44EF                      ; // 5 "Z" "Y" "X" "W" "V" "U" "T" "S"
       9.  00:44EF                      ; // 6 F3 F2 F1 CODE CAP GRAPH CTRL SHIFT
      10.  00:44EF                      ; // 7 RET SEL BS STOP TAB ESC F5 F4
      11.  00:44EF                      ; // 8 RIGHT DOWN UP LEFT DEL INS HOME SPACE
      12.  00:44EF                      
      13.  00:44EF                      checkkbd:
      14.  00:44EF  F3                  		di
      15.  00:44F0  DB AA               		in	a,(0aah)
      16.  00:44F2  E6 F0               		and 011110000B			; upper 4 bits contain info to preserve
      17.  00:44F4  B3                  		or	e
      18.  00:44F5  D3 AA               		out (0aah),a
      19.  00:44F7  DB A9               		in	a,(0a9h)
      20.  00:44F9  6F                  		ld	l,a
      21.  00:44FA  FB                  		ei
      22.  00:44FB  C9                  		ret
     126   00:44FC                      		include sprts.asm
       1.  00:44FC                      
       2.  00:44FC                      _hw_sprite_init:
       3.  00:44FC                      
       4.  00:44FC  0E 00               		ld		c,0
       5.  00:44FE  11 00 F0            		ld		de,0F000h
       6.  00:4501  CD A6 41            		call	_vdpsetvramwr
       7.  00:4504  21 00 AB            		ld		hl,sprtdata
       8.  00:4507  01 98 00            		ld		bc,0x0098
       9.  00:450A  3E 08               		ld		a,8
      10.  00:450C  ED B3               1:		otir
      11.  00:450E  3D                  		dec	a
      12.  00:450F  20 FB               		jr	nz,1b
      13.  00:4511                      
      14.  00:4511  0E 00               		ld		c,0
      15.  00:4513  11 00 FA            		ld		de,0FA00h
      16.  00:4516  CD A6 41            		call	_vdpsetvramwr
      17.  00:4519  3E D8               		ld		a,0xD8
      18.  00:451B  D3 98               		out 	(0x98),a
      19.  00:451D                      
      20.  00:451D  C9                  		ret
      21.  00:451E                      
      22.  00:451E                      		
      23.  00:451E                      	; load static colors 
      24.  00:451E                      load_colors:
      25.  00:451E  0E 00               	ld		c,0
      26.  00:4520  11 00 F8            	ld		de,0FA00h-512
      27.  00:4523  CD A6 41            	call	_vdpsetvramwr
      28.  00:4526                      
      29.  00:4526  CD 31 45            	call	3f
      30.  00:4529                      	
      31.  00:4529  0E 00               	ld		c,0
      32.  00:452B  11 00 FC            	ld		de,0FE00h-512
      33.  00:452E  CD A6 41            	call	_vdpsetvramwr
      34.  00:4531                      3:				
      35.  00:4531  0E 20               	ld	c,32
      36.  00:4533  06 10               2:	ld	b,16
      37.  00:4535  3E 0F               	ld	a,15
      38.  00:4537  D3 98               1:	out	(0x98),a
      39.  00:4539  10 FC               	djnz 1b		
      40.  00:453B  0D                  	dec	c
      41.  00:453C  C2 33 45            	jp	nz,2b
      42.  00:453F                      		
      43.  00:453F                      
      44.  00:453F  C9                  	ret
      45.  00:4540                      
      46.  00:4540                      
     127   00:4540                      		include sat_update.asm
       1.  00:4540                      
       2.  00:4540                      ; _plot_enemy:
       3.  00:4540                      
       4.  00:4540                      ; __sat_update
       5.  00:4540                      	; ld		c,0
       6.  00:4540                      	; ld		de,0FA00h
       7.  00:4540                      	; call	_vdpsetvramwr
       8.  00:4540                      	; ld		hl,_sat
       9.  00:4540                      	; ld		bc,0x8098
      10.  00:4540                      ; 1:	outi
      11.  00:4540                      	; ld	a,(_xoffset)		; set R#18 only if not scrolling
      12.  00:4540                      	; add	a,(hl)
      13.  00:4540                      	; out (0x98),a
      14.  00:4540                      	; inc hl
      15.  00:4540                      ; [2]	outi
      16.  00:4540                      	; djnz 1b
      17.  00:4540                      	; ret
      18.  00:4540                      	
      19.  00:4540                      set_manta:	
      20.  00:4540  01 98 0C            	ld	bc,0x98+4*3*256
      21.  00:4543  21 9F D3            	ld  hl,ram_sat
      22.  00:4546  ED B3               	otir
      23.  00:4548  C9                  	ret
      24.  00:4549                      	
      25.  00:4549                      plot_enemy:
      26.  00:4549  3A 9E D3            	ld	a,(flip_flop)
      27.  00:454C  EE 01               	xor	1
      28.  00:454E  32 9E D3            	ld	(flip_flop),a
      29.  00:4551  C2 1A 46            	jp nz, reverseplot_enemy
      30.  00:4554                      	
      31.  00:4554                      directplot_enemy:
      32.  00:4554                      	; R#5=0xF7 -> sat = FA000
      33.  00:4554  3E F7               	ld 		a,0xF7
      34.  00:4556  D3 99               	out (0x99),a
      35.  00:4558  3E 85               	ld 		a,128+5
      36.  00:455A  D3 99               	out (0x99),a
      37.  00:455C                      	
      38.  00:455C  0E 00               	ld		c,0
      39.  00:455E  11 00 FA            	ld		de,0FA00h	;+4*3	; 3 positions for main ship and its shadow
      40.  00:4561  CD A6 41            	call	_vdpsetvramwr
      41.  00:4564  CD 40 45            	call	set_manta	
      42.  00:4567                      
      43.  00:4567  DD 21 AB D3         	ld	ix,any_object
      44.  00:456B                      
      45.  00:456B                      ; process MS bullets and enemy bullets
      46.  00:456B                      
      47.  00:456B  01 98 05            	ld	bc,0x98+256*(max_bullets + max_enem_bullets)
      48.  00:456E                      	
      49.  00:456E  DD CB 07 46         1:	bit 0,(ix+enemy_data.status)
      50.  00:4572  CA F8 45            	jp	z,.spriteoff1
      51.  00:4575                      	
      52.  00:4575  DD 6E 01            	ld	l,(ix+enemy_data.x+0)
      53.  00:4578  DD 66 02            	ld	h,(ix+enemy_data.x+1)
      54.  00:457B  ED 5B 8F D3         	ld	de,(xmap)
      55.  00:457F  AF                  	xor a
      56.  00:4580  ED 52               	sbc hl,de				; dx = enemy.x - xmap
      57.  00:4582  FA F8 45            	jp	m,.spriteoff1		; dx <0
      58.  00:4585                      
      59.  00:4585  B4                  	or	h
      60.  00:4586  C2 F8 45            	jp	nz,.spriteoff1		; dx >255
      61.  00:4589                      
      62.  00:4589  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
      63.  00:458C  85                  	add	a,l
      64.  00:458D  DA F8 45            	jp	c,.spriteoff1		; remove if off screen i.e. dx + _xoffset > 255
      65.  00:4590  FE F0               	cp	240
      66.  00:4592  D2 F8 45            	jp	nc,.spriteoff1		; remove if dx + _xoffset > 240
      67.  00:4595                      	
      68.  00:4595  DD 56 00            	ld	d,(ix+enemy_data.y)	; write Y
      69.  00:4598  ED 51               	out (c),d
      70.  00:459A  ED 79               	out (c),a				; write X
      71.  00:459C  DD 7E 0A            	ld	a,(ix+enemy_data.frame)
      72.  00:459F  D3 98               	out (0x98),a			; write shape
      73.  00:45A1  ED 79               	out (c),a				; write crap
      74.  00:45A3                      	
      75.  00:45A3                      .next1
      76.  00:45A3  11 0F 00            	ld	de,enemy_data
      77.  00:45A6  DD 19               	add ix,de
      78.  00:45A8  10 C4               	djnz	1b
      79.  00:45AA                      
      80.  00:45AA                      ; process two layer enemies
      81.  00:45AA                      
      82.  00:45AA  06 0C               	ld	b,max_enem 
      83.  00:45AC  DD CB 07 46         1:	bit 0,(ix+enemy_data.status)
      84.  00:45B0  CA 05 46            	jp	z,.spriteoff2
      85.  00:45B3                      
      86.  00:45B3  DD 6E 01            	ld	l,(ix+enemy_data.x+0)
      87.  00:45B6  DD 66 02            	ld	h,(ix+enemy_data.x+1)
      88.  00:45B9  ED 5B 8F D3         	ld	de,(xmap)
      89.  00:45BD  AF                  	xor a
      90.  00:45BE  ED 52               	sbc hl,de				; dx = enemy.x - xmap
      91.  00:45C0  FA 05 46            	jp	m,.spriteoff2		; dx <0
      92.  00:45C3                      
      93.  00:45C3  B4                  	or	h
      94.  00:45C4  C2 05 46            	jp	nz,.spriteoff2		; dx >255
      95.  00:45C7                      
      96.  00:45C7  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
      97.  00:45CA  85                  	add	a,l
      98.  00:45CB  DA 05 46            	jp	c,.spriteoff2		; remove if off screen i.e. dx + _xoffset > 255
      99.  00:45CE  FE F0               	cp	240
     100.  00:45D0  D2 05 46            	jp	nc,.spriteoff2		; remove if dx + _xoffset > 240
     101.  00:45D3                      	
     102.  00:45D3  DD 56 00            	ld	d,(ix+enemy_data.y)	
     103.  00:45D6  ED 51               	out (c),d				; write Y
     104.  00:45D8  6F                  	ld  l,a
     105.  00:45D9  D3 98               	out (0x98),a			; write X
     106.  00:45DB                      
     107.  00:45DB  DD 7E 0A            	ld	a,(ix+enemy_data.frame)
     108.  00:45DE  D3 98               	out (0x98),a			; write shape
     109.  00:45E0  ED 79               	out (c),a				; write crap
     110.  00:45E2                      
     111.  00:45E2  ED 51               	out (c),d				; write Y
     112.  00:45E4  ED 69               	out (c),l				; write X
     113.  00:45E6  C6 04               	add	a,4
     114.  00:45E8  D3 98               	out (0x98),a			; write shape
     115.  00:45EA  ED 79               	out (c),a				; write crap
     116.  00:45EC                      	
     117.  00:45EC                      .next2
     118.  00:45EC  11 0F 00            	ld	de,enemy_data
     119.  00:45EF  DD 19               	add ix,de
     120.  00:45F1  10 B9               	djnz	1b
     121.  00:45F3                      	
     122.  00:45F3  3E D8               	ld	a,0xD8
     123.  00:45F5  D3 98               	out (0x98),a			; SAT terminator
     124.  00:45F7  C9                  	ret
     125.  00:45F8                      
     126.  00:45F8                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     127.  00:45F8                      	
     128.  00:45F8                      .spriteoff1
     129.  00:45F8  3E D9               	ld	a,0xD9
     130.  00:45FA                      [4]	out (c),a				; write crap
     130.  00:45FA  ED 79 ED 79 ED 79 ED 79 
     131.  00:4602  C3 A3 45            	jp	.next1
     132.  00:4605                      
     133.  00:4605                      .spriteoff2
     134.  00:4605  3E D9               	ld	a,0xD9
     135.  00:4607                      [8]	out (c),a				; write crap
     135.  00:4607  ED 79 ED 79 ED 79 ED 79 ED 79 ED 79 ED 79 ED 79 
     136.  00:4617  C3 EC 45            	jp	.next2
     137.  00:461A                      
     138.  00:461A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     139.  00:461A                      
     140.  00:461A                      reverseplot_enemy:
     141.  00:461A                      	; R#5=0xFF -> sat = FE000
     142.  00:461A  3E FF               	ld 		a,0xFF
     143.  00:461C  D3 99               	out (0x99),a
     144.  00:461E  3E 85               	ld 		a,128+5
     145.  00:4620  D3 99               	out (0x99),a
     146.  00:4622                      
     147.  00:4622  0E 00               	ld		c,0
     148.  00:4624  11 00 FE            	ld		de,0FE00h	;+4*3	; 3 positions for main ship and its shadow
     149.  00:4627  CD A6 41            	call	_vdpsetvramwr
     150.  00:462A                      
     151.  00:462A  DD 21 9B D4         	ld	ix,enemies+(max_enem-1)*enemy_data
     152.  00:462E                      
     153.  00:462E                      ; process two layer enemies
     154.  00:462E                      
     155.  00:462E  01 98 0C            	ld	bc,0x98+256*max_enem
     156.  00:4631                      	
     157.  00:4631  DD CB 07 46         1:	bit 0,(ix+enemy_data.status)
     158.  00:4635  CA CB 46            	jp	z,.spriteoff2
     159.  00:4638                      	
     160.  00:4638  DD 6E 01            	ld	l,(ix+enemy_data.x+0)
     161.  00:463B  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     162.  00:463E  ED 5B 8F D3         	ld	de,(xmap)
     163.  00:4642  AF                  	xor a
     164.  00:4643  ED 52               	sbc hl,de				; dx = enemy.x - xmap
     165.  00:4645  FA CB 46            	jp	m,.spriteoff2		; dx <0
     166.  00:4648                      
     167.  00:4648  B4                  	or	h
     168.  00:4649  C2 CB 46            	jp	nz,.spriteoff2		; dx >255
     169.  00:464C                      
     170.  00:464C  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
     171.  00:464F  85                  	add	a,l
     172.  00:4650  DA CB 46            	jp	c,.spriteoff2		; remove if off screen i.e. dx + _xoffset > 255
     173.  00:4653  FE F0               	cp	240
     174.  00:4655  D2 CB 46            	jp	nc,.spriteoff2		; remove if dx + _xoffset > 240
     175.  00:4658  DD 56 00            	ld	d,(ix+enemy_data.y)	
     176.  00:465B  ED 51               	out (c),d				; write Y
     177.  00:465D  6F                  	ld  l,a
     178.  00:465E  D3 98               	out (0x98),a			; write X
     179.  00:4660                      
     180.  00:4660  DD 7E 0A            	ld	a,(ix+enemy_data.frame)
     181.  00:4663  D3 98               	out (0x98),a			; write shape
     182.  00:4665  ED 79               	out (c),a				; write crap
     183.  00:4667                      
     184.  00:4667  ED 51               	out (c),d				; write Y
     185.  00:4669  ED 69               	out (c),l				; write X
     186.  00:466B  C6 04               	add	a,4
     187.  00:466D  D3 98               	out (0x98),a			; write shape
     188.  00:466F  ED 79               	out (c),a				; write crap
     189.  00:4671                      	
     190.  00:4671                      .next2
     191.  00:4671  11 F1 FF            	ld	de,-enemy_data
     192.  00:4674  DD 19               	add ix,de
     193.  00:4676  10 B9               	djnz	1b
     194.  00:4678                      
     195.  00:4678                      ; process one layer enemies
     196.  00:4678                      
     197.  00:4678  06 05               	ld	b,max_bullets + max_enem_bullets 
     198.  00:467A  DD CB 07 46         1:	bit 0,(ix+enemy_data.status)
     199.  00:467E  CA BE 46            	jp	z,.spriteoff1
     200.  00:4681                      
     201.  00:4681  DD 6E 01            	ld	l,(ix+enemy_data.x+0)
     202.  00:4684  DD 66 02            	ld	h,(ix+enemy_data.x+1)
     203.  00:4687  ED 5B 8F D3         	ld	de,(xmap)
     204.  00:468B  AF                  	xor a
     205.  00:468C  ED 52               	sbc hl,de				; dx = enemy.x - xmap
     206.  00:468E  FA BE 46            	jp	m,.spriteoff1		; dx <0
     207.  00:4691                      
     208.  00:4691  B4                  	or	h
     209.  00:4692  C2 BE 46            	jp	nz,.spriteoff1		; dx >255
     210.  00:4695                      
     211.  00:4695  3A 82 D3            	ld	a,(_xoffset)		; compensate R#18 
     212.  00:4698  85                  	add	a,l
     213.  00:4699  DA BE 46            	jp	c,.spriteoff1		; remove if off screen i.e. dx + _xoffset > 255
     214.  00:469C  FE F0               	cp	240
     215.  00:469E  D2 BE 46            	jp	nc,.spriteoff1		; remove if dx + _xoffset > 240
     216.  00:46A1                      	
     217.  00:46A1  DD 56 00            	ld	d,(ix+enemy_data.y)	
     218.  00:46A4  ED 51               	out (c),d				; write Y
     219.  00:46A6  ED 79               	out (c),a			; write X
     220.  00:46A8                      
     221.  00:46A8  DD 7E 0A            	ld	a,(ix+enemy_data.frame)
     222.  00:46AB  D3 98               	out (0x98),a			; write shape
     223.  00:46AD  ED 79               	out (c),a				; write crap
     224.  00:46AF                      
     225.  00:46AF                      .next1
     226.  00:46AF  11 F1 FF            	ld	de,-enemy_data
     227.  00:46B2  DD 19               	add ix,de
     228.  00:46B4  10 C4               	djnz	1b
     229.  00:46B6                      
     230.  00:46B6  CD 40 45            	call	set_manta	
     231.  00:46B9                      	
     232.  00:46B9  3E D8               	ld	a,0xD8
     233.  00:46BB  D3 98               	out (0x98),a			; SAT terminator
     234.  00:46BD  C9                  	ret
     235.  00:46BE                      	
     236.  00:46BE                      	
     237.  00:46BE                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     238.  00:46BE                      	
     239.  00:46BE                      .spriteoff1
     240.  00:46BE  3E D9               	ld	a,0xD9
     241.  00:46C0                      [4]	out (c),a				; write crap
     241.  00:46C0  ED 79 ED 79 ED 79 ED 79 
     242.  00:46C8  C3 AF 46            	jp	.next1
     243.  00:46CB                      
     244.  00:46CB                      .spriteoff2
     245.  00:46CB  3E D9               	ld	a,0xD9
     246.  00:46CD                      [8]	out (c),a				; write crap
     246.  00:46CD  ED 79 ED 79 ED 79 ED 79 ED 79 ED 79 ED 79 ED 79 
     247.  00:46DD  C3 71 46            	jp	.next2
     248.  00:46E0                      
     249.  00:46E0                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     128   00:46E0                      		include collision_tst.asm
       1.  00:46E0  (0020)              	align 0x100
       2.  00:4700                      sprite_collision_windows:
       3.  00:4700  00 (12)             	ds	3*4				; first 3 frames are missing
       4.  00:470C                      	include sprite_collision_window.asm
       1:  00:470C                      
       2:  00:470C                       ; xoff			db	0 
       3:  00:470C                       ; yoff			db	0 
       4:  00:470C                       ; xsize		db	0 
       5:  00:470C                       ; ysize		db	0 
       6:  00:470C                      
       7:  00:470C                      sprite_0:
       8:  00:470C                      sprite_1:
       9:  00:470C                      sprite_2:
      10:  00:470C                      sprite_3:
      11:  00:470C  03 03 0A 0B             defb  3, 3,10,11 
      12:  00:4710                      sprite_4:
      13:  00:4710  00 00 10 10             defb  0, 0,16,16 
      14:  00:4714                      sprite_5:
      15:  00:4714  00 00 10 10             defb  0, 0,16,16 
      16:  00:4718                      sprite_6:
      17:  00:4718  00 00 10 0F             defb  0, 0,16,15 
      18:  00:471C                      sprite_7:
      19:  00:471C  00 00 10 10             defb  0, 0,16,16 
      20:  00:4720                      sprite_8:
      21:  00:4720  04 01 08 0E             defb  4, 1, 8,14 
      22:  00:4724                      sprite_9:
      23:  00:4724  04 03 08 0B             defb  4, 3, 8,11 
      24:  00:4728                      sprite_10:
      25:  00:4728  04 05 08 07             defb  4, 5, 8, 7 
      26:  00:472C                      sprite_11:
      27:  00:472C  04 06 08 05             defb  4, 6, 8, 5 
      28:  00:4730                      sprite_12:
      29:  00:4730  04 07 08 02             defb  4, 7, 8, 2 
      30:  00:4734                      sprite_13:
      31:  00:4734  04 06 08 05             defb  4, 6, 8, 5 
      32:  00:4738                      sprite_14:
      33:  00:4738  04 05 08 07             defb  4, 5, 8, 7 
      34:  00:473C                      sprite_15:
      35:  00:473C  04 03 08 0B             defb  4, 3, 8,11 
      36:  00:4740                      sprite_16:
      37:  00:4740  00 00 10 0F             defb  0, 0,16,15 
      38:  00:4744                      sprite_17:
      39:  00:4744  00 01 10 0F             defb  0, 1,16,15 
      40:  00:4748                      sprite_18:
      41:  00:4748  00 00 10 0F             defb  0, 0,16,15 
      42:  00:474C                      sprite_19:
      43:  00:474C  00 01 10 0F             defb  0, 1,16,15 
      44:  00:4750                      sprite_20:
      45:  00:4750  00 00 10 0F             defb  0, 0,16,15 
      46:  00:4754                      sprite_21:
      47:  00:4754  00 03 10 0D             defb  0, 3,16,13 
      48:  00:4758                      sprite_22:
      49:  00:4758  00 00 10 0F             defb  0, 0,16,15 
      50:  00:475C                      sprite_23:
      51:  00:475C  00 03 10 0D             defb  0, 3,16,13 
      52:  00:4760                      sprite_24:
      53:  00:4760  00 00 10 10             defb  0, 0,16,16 
      54:  00:4764                      sprite_25:
      55:  00:4764  00 00 10 10             defb  0, 0,16,16 
      56:  00:4768                      sprite_26:
      57:  00:4768  00 00 10 10             defb  0, 0,16,16 
      58:  00:476C                      sprite_27:
      59:  00:476C  00 00 10 10             defb  0, 0,16,16 
      60:  00:4770                      sprite_28:
      61:  00:4770  00 00 10 0F             defb  0, 0,16,15 
      62:  00:4774                      sprite_29:
      63:  00:4774  00 01 10 0F             defb  0, 1,16,15 
      64:  00:4778                      sprite_30:
      65:  00:4778  00 00 10 0F             defb  0, 0,16,15 
      66:  00:477C                      sprite_31:
      67:  00:477C  00 01 10 0F             defb  0, 1,16,15 
      68:  00:4780                      sprite_32:
      69:  00:4780  00 00 10 0F             defb  0, 0,16,15 
      70:  00:4784                      sprite_33:
      71:  00:4784  00 00 10 10             defb  0, 0,16,16 
      72:  00:4788                      sprite_34:
      73:  00:4788  00 00 10 0F             defb  0, 0,16,15 
      74:  00:478C                      sprite_35:
      75:  00:478C  00 00 10 10             defb  0, 0,16,16 
      76:  00:4790                      sprite_36:
      77:  00:4790  00 00 10 10             defb  0, 0,16,16 
      78:  00:4794                      sprite_37:
      79:  00:4794  00 00 10 10             defb  0, 0,16,16 
      80:  00:4798                      sprite_38:
      81:  00:4798  00 00 10 10             defb  0, 0,16,16 
      82:  00:479C                      sprite_39:
      83:  00:479C  00 00 10 10             defb  0, 0,16,16 
      84:  00:47A0                      sprite_40:
      85:  00:47A0  00 00 10 0F             defb  0, 0,16,15 
      86:  00:47A4                      sprite_41:
      87:  00:47A4  00 01 10 0F             defb  0, 1,16,15 
      88:  00:47A8                      sprite_42:
      89:  00:47A8  00 00 10 0F             defb  0, 0,16,15 
      90:  00:47AC                      sprite_43:
      91:  00:47AC  00 01 10 0F             defb  0, 1,16,15 
      92:  00:47B0                      sprite_44:
      93:  00:47B0  00 00 10 0F             defb  0, 0,16,15 
      94:  00:47B4                      sprite_45:
      95:  00:47B4  00 01 10 0F             defb  0, 1,16,15 
      96:  00:47B8                      sprite_46:
      97:  00:47B8  00 00 10 0F             defb  0, 0,16,15 
      98:  00:47BC                      sprite_47:
      99:  00:47BC  00 01 10 0F             defb  0, 1,16,15 
     100:  00:47C0                      sprite_48:
     101:  00:47C0  00 00 10 0F             defb  0, 0,16,15 
     102:  00:47C4                      sprite_49:
     103:  00:47C4  00 00 10 10             defb  0, 0,16,16 
     104:  00:47C8                      sprite_50:
     105:  00:47C8  00 00 10 0F             defb  0, 0,16,15 
     106:  00:47CC                      sprite_51:
     107:  00:47CC  00 00 10 10             defb  0, 0,16,16 
     108:  00:47D0                      sprite_52:
     109:  00:47D0  00 01 10 0D             defb  0, 1,16,13 
     110:  00:47D4                      sprite_53:
     111:  00:47D4  00 01 10 0E             defb  0, 1,16,14 
     112:  00:47D8                      sprite_54:
     113:  00:47D8  00 01 10 0D             defb  0, 1,16,13 
     114:  00:47DC                      sprite_55:
     115:  00:47DC  00 01 10 0E             defb  0, 1,16,14 
     116:  00:47E0                      sprite_56:
     117:  00:47E0  00 03 10 09             defb  0, 3,16, 9 
     118:  00:47E4                      sprite_57:
     119:  00:47E4  00 03 10 0A             defb  0, 3,16,10 
     120:  00:47E8                      sprite_58:
     121:  00:47E8  00 03 10 09             defb  0, 3,16, 9 
     122:  00:47EC                      sprite_59:
     123:  00:47EC  00 03 10 0A             defb  0, 3,16,10 
     124:  00:47F0                      sprite_60:
     125:  00:47F0  00 05 10 05             defb  0, 5,16, 5 
     126:  00:47F4                      sprite_61:
     127:  00:47F4  00 06 10 05             defb  0, 6,16, 5 
     128:  00:47F8                      sprite_62:
     129:  00:47F8  00 05 10 05             defb  0, 5,16, 5 
     130:  00:47FC                      sprite_63:
     131:  00:47FC  00 06 10 05             defb  0, 6,16, 5 
       5.  00:4800                      
       6.  00:4800                      ;	in: 
       7.  00:4800                      ;		IX-> current sprite
       8.  00:4800                      ;		(ix+enemy_data.frame) = frame in the SPT
       9.  00:4800                      ;	out;
      10.  00:4800                      ;		IX -> xoff,yoff,xsize,ysize are set
      11.  00:4800                      	
      12.  00:4800                      set_size:
      13.  00:4800  08                   	ex	af,af'
      14.  00:4801  DD 7E 0A            	ld	a,(ix+enemy_data.frame)
      15.  00:4804  D9                  	exx
      16.  00:4805  E6 FC               	and	%11111100
      17.  00:4807  6F                  	ld	l,a
      18.  00:4808  26 47               	ld	h,high sprite_collision_windows		
      19.  00:480A  7E                  	ld	a,(hl)
      20.  00:480B  DD 77 03            	ld	(ix+enemy_data.xoff),a
      21.  00:480E  23                  	inc	hl
      22.  00:480F  7E                  	ld	a,(hl)
      23.  00:4810  DD 77 04            	ld	(ix+enemy_data.yoff),a
      24.  00:4813  23                  	inc	hl
      25.  00:4814  7E                  	ld	a,(hl)
      26.  00:4815  DD 77 05            	ld	(ix+enemy_data.xsize),a
      27.  00:4818  23                  	inc	hl
      28.  00:4819  7E                  	ld	a,(hl)
      29.  00:481A  DD 77 06            	ld	(ix+enemy_data.ysize),a
      30.  00:481D  D9                  	exx
      31.  00:481E  08                  	ex		af,af'
      32.  00:481F  C9                  	ret
      33.  00:4820                      
      34.  00:4820                      ;	in: 
      35.  00:4820                      ;		IY-> current sprite
      36.  00:4820                      ;		(iY+enemy_data.frame) = frame in the SPT
      37.  00:4820                      ;	out;
      38.  00:4820                      ;		IY -> xoff,yoff,xsize,ysize are set
      39.  00:4820                      	
      40.  00:4820                      set_size2:
      41.  00:4820  08                   	ex	af,af'
      42.  00:4821  FD 7E 0A            	ld	a,(iy+enemy_data.frame)
      43.  00:4824  D9                  	exx
      44.  00:4825  E6 FC               	and	%11111100
      45.  00:4827  6F                  	ld	l,a
      46.  00:4828  26 47               	ld	h,high sprite_collision_windows		
      47.  00:482A  7E                  	ld	a,(hl)
      48.  00:482B  FD 77 03            	ld	(iy+enemy_data.xoff),a
      49.  00:482E  23                  	inc	hl
      50.  00:482F  7E                  	ld	a,(hl)
      51.  00:4830  FD 77 04            	ld	(iy+enemy_data.yoff),a
      52.  00:4833  23                  	inc	hl
      53.  00:4834  7E                  	ld	a,(hl)
      54.  00:4835  FD 77 05            	ld	(iy+enemy_data.xsize),a
      55.  00:4838  23                  	inc	hl
      56.  00:4839  7E                  	ld	a,(hl)
      57.  00:483A  FD 77 06            	ld	(iy+enemy_data.ysize),a
      58.  00:483D  D9                  	exx
      59.  00:483E  08                  	ex		af,af'
      60.  00:483F  C9                  	ret
      61.  00:4840                      	
      62.  00:4840                      
      63.  00:4840                      ;	in: 
      64.  00:4840                      ;		IX-> current bullet
      65.  00:4840                      ;		(iY+enemy_data.frame) = frame in the SPT
      66.  00:4840                      ;		xship,yship,ms_ysize,ms_xoff ecc ecc
      67.  00:4840                      ;	out:
      68.  00:4840                      ;		Carry set = MS is hit
      69.  00:4840                      ;
      70.  00:4840                      test_collision_enemy_bullets:
      71.  00:4840                      	
      72.  00:4840  DD 7E 00            	ld  a,(ix+enemy_data.y)
      73.  00:4843  DD 86 04            	add a,(ix+enemy_data.yoff)
      74.  00:4846  47                  	ld  b,a
      75.  00:4847  DD 4E 06            	ld  c,(ix+enemy_data.ysize)
      76.  00:484A                      	
      77.  00:484A                      	;[minx(h) maxx(h) miny(h) maxy(h)]
      78.  00:484A                      	
      79.  00:484A  3A 93 D3            	ld  a,(yship)
      80.  00:484D  FD 86 02            	add	a,(iy+2)
      81.  00:4850  57                  	ld  d,a
      82.  00:4851                      	
      83.  00:4851  FD 7E 03            	ld	a,(iy+3)
      84.  00:4854  FD 96 02            	sub	a,(iy+2)
      85.  00:4857  3C                  	inc	a
      86.  00:4858  5F                  	ld  e,a 		; 	ms_ysize
      87.  00:4859                      	
      88.  00:4859  CD DF 48            	call	CollisionCheck_8b
      89.  00:485C  D0                  	ret nc
      90.  00:485D                      	
      91.  00:485D                      	;[minx(h) maxx(h) miny(h) maxy(h)]
      92.  00:485D                      	
      93.  00:485D  DD 6E 01            	ld l,(ix+enemy_data.x)
      94.  00:4860  DD 66 02            	ld h,(ix+enemy_data.x+1)
      95.  00:4863  16 00               	ld d,0
      96.  00:4865  DD 5E 03            	ld e,(ix+enemy_data.xoff)
      97.  00:4868  19                  	add hl,de
      98.  00:4869  EB                  	ex de,hl
      99.  00:486A                      	
     100.  00:486A  44                  	ld b,h
     101.  00:486B  2A 94 D3            	ld hl,(xship)
     102.  00:486E  FD 4E 00            	ld c,(iy+0) ;	ms_xoff
     103.  00:4871  09                  	add hl,bc
     104.  00:4872                      
     105.  00:4872  DD 4E 05            	ld c,(ix+enemy_data.xsize)
     106.  00:4875                      	
     107.  00:4875  FD 7E 01            	ld	a,(iy+1)
     108.  00:4878  FD 96 00            	sub	a,(iy+0)
     109.  00:487B  3C                  	inc	a
     110.  00:487C  47                  	ld  b,a 		; ms_xsize
     111.  00:487D                      
     112.  00:487D  C3 CF 48            	jp CalcCollision
     113.  00:4880                      	; call CalcCollision
     114.  00:4880                      	; ret 
     115.  00:4880                      	
     116.  00:4880                      ;	in: 
     117.  00:4880                      ;		ix -> current enemy
     118.  00:4880                      ;	out;
     119.  00:4880                      ; 		Carry set = collision
     120.  00:4880                      	
     121.  00:4880                      test_collision_msbullets:
     122.  00:4880                      
     123.  00:4880  FD 21 AB D3             ld  iy,ms_bullets
     124.  00:4884  11 0F 00            	ld  de,enemy_data
     125.  00:4887  06 02                   ld  b,max_bullets
     126.  00:4889  A7                      and	a
     127.  00:488A                      	
     128.  00:488A  D9                  1:	exx
     129.  00:488B                          
     130.  00:488B  FD CB 07 46         	bit 0,(iy+enemy_data.status)
     131.  00:488F  C4 99 48            	call	nz,test_collision
     132.  00:4892  D8                  	ret	c
     133.  00:4893                      	
     134.  00:4893  D9                  	exx
     135.  00:4894  FD 19                   add iy,de
     136.  00:4896  10 F2                   djnz   1b
     137.  00:4898  C9                  	ret
     138.  00:4899                      	
     139.  00:4899                      
     140.  00:4899                      ; struct enemy_data
     141.  00:4899                      ; y               db  0
     142.  00:4899                      ; x               dw  0
     143.  00:4899                      ; xoff			db	0
     144.  00:4899                      ; yoff			db	0
     145.  00:4899                      ; xsize			db	0
     146.  00:4899                      ; ysize			db	0
     147.  00:4899                      ; status          db  0
     148.  00:4899                      ; cntr            db  0
     149.  00:4899                      ; kind            db  0
     150.  00:4899                      ; frame			db	0
     151.  00:4899                      ; color			db	0
     152.  00:4899                      ; speed           dw  0
     153.  00:4899                      ; ends
     154.  00:4899                      
     155.  00:4899                      
     156.  00:4899                      ; IN: 
     157.  00:4899                      ; 	ix -> object 1
     158.  00:4899                      ; 	iy -> object 2
     159.  00:4899                      ;
     160.  00:4899                      ; OUT: 
     161.  00:4899                      ; Carry set = collision
     162.  00:4899                      
     163.  00:4899                      test_collision:
     164.  00:4899  DD 7E 00            	ld  a,(ix+enemy_data.y)
     165.  00:489C  DD 86 04            	add a,(ix+enemy_data.yoff)
     166.  00:489F  47                  	ld  b,a
     167.  00:48A0  DD 4E 06            	ld  c,(ix+enemy_data.ysize)
     168.  00:48A3                      	
     169.  00:48A3  FD 7E 00            	ld  a,(iy+enemy_data.y)
     170.  00:48A6  FD 86 04            	add	a,(iy+enemy_data.yoff)
     171.  00:48A9  57                  	ld  d,a
     172.  00:48AA  FD 5E 06            	ld  e,(iy+enemy_data.ysize)
     173.  00:48AD                      	
     174.  00:48AD  CD DF 48            	call	CollisionCheck_8b
     175.  00:48B0  D0                  	ret nc
     176.  00:48B1                      	
     177.  00:48B1  DD 6E 01            	ld l,(ix+enemy_data.x)
     178.  00:48B4  DD 66 02            	ld h,(ix+enemy_data.x+1)
     179.  00:48B7  16 00               	ld d,0
     180.  00:48B9  42                  	ld b,d
     181.  00:48BA  DD 5E 03            	ld e,(ix+enemy_data.xoff)
     182.  00:48BD  19                  	add hl,de
     183.  00:48BE  EB                  	ex de,hl
     184.  00:48BF                      	
     185.  00:48BF  FD 6E 01            	ld l,(iy+enemy_data.x)
     186.  00:48C2  FD 66 02            	ld h,(iy+enemy_data.x+1)
     187.  00:48C5  FD 4E 03            	ld c,(iy+enemy_data.xoff)
     188.  00:48C8  09                  	add hl,bc
     189.  00:48C9                      
     190.  00:48C9  DD 4E 05            	ld c,(ix+enemy_data.xsize)
     191.  00:48CC  FD 46 05            	ld b,(iy+enemy_data.xsize)
     192.  00:48CF                      
     193.  00:48CF                      	; call CalcCollision
     194.  00:48CF                      	; ret 
     195.  00:48CF                      
     196.  00:48CF                      ; CalcCollision
     197.  00:48CF                      ;
     198.  00:48CF                      ; 1D collision check
     199.  00:48CF                      ;
     200.  00:48CF                      ; IN: 
     201.  00:48CF                      ; 	DE = Location object 1
     202.  00:48CF                      ; 	C = Size object 1
     203.  00:48CF                      ; 	HL = Location object 2
     204.  00:48CF                      ; 	B = Size object 2
     205.  00:48CF                      ; OUT: 
     206.  00:48CF                      ; Carry set = collision
     207.  00:48CF                      ;
     208.  00:48CF                      CalcCollision:
     209.  00:48CF  AF                  	xor a
     210.  00:48D0  ED 52               	sbc hl,de		; x2-x1
     211.  00:48D2  57                  	ld  d,a
     212.  00:48D3  38 04               	jr  c,.switch 	; jump if x2<x1
     213.  00:48D5                      	
     214.  00:48D5                      					; x2>=x1
     215.  00:48D5  59                  	ld  e,c
     216.  00:48D6  ED 52               	sbc hl,de		; C == x2-x1<dx1	
     217.  00:48D8  C9                  	ret
     218.  00:48D9                      
     219.  00:48D9                      
     220.  00:48D9                      .switch:			; x2-x1<0
     221.  00:48D9  57                  	ld	d,a
     222.  00:48DA  58                  	ld	e,b
     223.  00:48DB  AF                  	xor	a
     224.  00:48DC  ED 52               	sbc hl,de		; x2-x1 - dx2
     225.  00:48DE  C9                  	ret				; C == x1-x2<dx2
     226.  00:48DF                      
     227.  00:48DF                      ;
     228.  00:48DF                      ; CollisionCheck
     229.  00:48DF                      ;
     230.  00:48DF                      ;   Calculates whether a collision occurs between two objects
     231.  00:48DF                      ;   of a certain size
     232.  00:48DF                      ;
     233.  00:48DF                      ; IN: b = coordinate of object 1
     234.  00:48DF                      ;     c = size of object 1
     235.  00:48DF                      ;     d = coordinate of object 2
     236.  00:48DF                      ;     e = size of object 2
     237.  00:48DF                      ; OUT: Carry set if collision
     238.  00:48DF                      ; CHANGES: AF
     239.  00:48DF                      ;
     240.  00:48DF                      CollisionCheck_8b:
     241.  00:48DF  7A                          ld      a,d             ; get x2                       [5]
     242.  00:48E0  90                          sub     b               ; calculate x2-x1              [5]
     243.  00:48E1  38 02                       jr      c,.other        ; jump if x2<x1                [13/8]
     244.  00:48E3  91                          sub     c               ; compare with size 1          [5]
     245.  00:48E4  C9                          ret                     ; return result                [11]
     246.  00:48E5                      .other:
     247.  00:48E5  ED 44                       neg                     ; use negative value           [10]
     248.  00:48E7  93                          sub     e               ; compare with size 1          [5]
     249.  00:48E8  C9                          ret                     ; return result                [11]
     250.  00:48E9                      
     251.  00:48E9                      
     252.  00:48E9                      	
     253.  00:48E9                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     254.  00:48E9                      ; check_obj_collision
     255.  00:48E9                      ; (obj *obj1,                          DE
     256.  00:48E9                      ;  obj *obj2);                         BC
     257.  00:48E9                      ;
     258.  00:48E9                      ; obj->
     259.  00:48E9                      ;    dw x,y
     260.  00:48E9                      ;    db dx,dy
     261.  00:48E9                      ;
     262.  00:48E9                      ; if collision 
     263.  00:48E9                      ;	return HL = -1 
     264.  00:48E9                      ; else 
     265.  00:48E9                      ;	return HL = 0
     266.  00:48E9                      
     267.  00:48E9                      	struct obj_data
     268.  00:48E9                    < y               db  0
     269.  00:48E9                    < x               dw  0
     270.  00:48E9                    < xoff			db	0
     271.  00:48E9                    < yoff			db	0
     272.  00:48E9                    < xsize			db	0
     273.  00:48E9                    < ysize			db	0
     274.  00:48E9                    <     ends
     275.  00:48E9                      
     276.  00:48E9                      
     277.  00:48E9                      _check_obj_collision:
     278.  00:48E9                      
     279.  00:48E9                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     280.  00:48E9                      
     281.  00:48E9  D5                  	push de
     282.  00:48EA  DD E1               	pop ix		; ix   -> obj_data1
     283.  00:48EC  C5                  	push bc
     284.  00:48ED  FD E1               	pop iy		; iy   -> obj_data1
     285.  00:48EF                      
     286.  00:48EF                      check_obj_collision_8_16:
     287.  00:48EF                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     288.  00:48EF                      
     289.  00:48EF  DD 7E 00            	ld  a,(ix+obj_data.y)        ; TEST Y
     290.  00:48F2  DD 86 04            	add	a,(ix+obj_data.yoff)
     291.  00:48F5  6F                  	ld	l,a				; HL=vertical pos. object 1 + 256 (i.e. Y1+256)
     292.  00:48F6  26 01               	ld	h,1
     293.  00:48F8                      	
     294.  00:48F8                      	
     295.  00:48F8  FD 7E 00            	ld  a,(iy+obj_data.y)
     296.  00:48FB  FD 86 04            	add	a,(iy+obj_data.yoff)
     297.  00:48FE  5F                  	ld	e,a		    	; DE=vertical pos. object 2 + 256 (i.e. Y2+256)
     298.  00:48FF  54                  	ld	d,h               
     299.  00:4900                      
     300.  00:4900  FD 46 06            	ld      b,(iy+obj_data.ysize)    ; B=number of pixels, object 2 (i.e. Ysize2)
     301.  00:4903                      
     302.  00:4903  AF                  	xor      a
     303.  00:4904  ED 52               	sbc     hl,de
     304.  00:4906  30 08               	jr      nc,1f       ; if HL<DE swap objects
     305.  00:4908                      
     306.  00:4908                      swap_objects_y:
     307.  00:4908                      
     308.  00:4908  DD 46 06            	ld      b,(ix+obj_data.ysize)    ; B=number of pixels, object 1 (i.e. Ysize1)
     309.  00:490B                      
     310.  00:490B  EB                  	ex      de,hl
     311.  00:490C  67                  	ld      h,a			; NB: A is 0
     312.  00:490D  6F                  	ld      l,a
     313.  00:490E  ED 52               	sbc     hl,de       ; HL = - HL
     314.  00:4910                      
     315.  00:4910  B4                  1:	or      h			; NB: A was 0
     316.  00:4911  20 30               	jr      nz,9f       ; Delta Y>256 == test failed (NB: CF = 0)
     317.  00:4913                      
     318.  00:4913  7D                  	ld      a,l         ; A = abs(Y2+256-(Y1+256)); B = (Y2>Y1) ? Ysize1 : Ysize2;
     319.  00:4914  B8                  	cp      b
     320.  00:4915  30 2C               	jr      nc,9f       ; delta Y> B == test failed
     321.  00:4917                      
     322.  00:4917                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     323.  00:4917  06 01               	ld	b,1
     324.  00:4919                      
     325.  00:4919  DD 6E 01            	ld  l,(ix+obj_data.x)        ; TEST X
     326.  00:491C  DD 66 02            	ld  h,(ix+obj_data.x+1)
     327.  00:491F  DD 4E 03            	ld	c,(ix+obj_data.xoff)
     328.  00:4922  09                  	add	hl,bc		    ; HL=x pos. object 1 + 256 (i.e. X1+256)
     329.  00:4923                      
     330.  00:4923  FD 5E 01            	ld  e,(iy+obj_data.x)
     331.  00:4926  FD 56 02            	ld  d,(iy+obj_data.x+1)
     332.  00:4929  FD 4E 03            	ld	c,(iy+obj_data.xoff)
     333.  00:492C  09                  	add	hl,bc		    ; DE=x pos. object 2 + 256 (i.e. X2+256)
     334.  00:492D  EB                  	ex	de,hl               
     335.  00:492E                      
     336.  00:492E  FD 46 05            	ld      b,(iy+obj_data.xsize)    ; Xsize2 in b
     337.  00:4931                      
     338.  00:4931  AF                  	xor      a
     339.  00:4932  ED 52               	sbc     hl,de       ; x1-x2
     340.  00:4934  30 08               	jr      nc,1f       ; if (x1-x2>=0) swap objects (NB CF=0)
     341.  00:4936                      
     342.  00:4936                      swap_objects_x:
     343.  00:4936                      
     344.  00:4936  DD 46 05            	ld      b,(ix+obj_data.xsize)    ; Xsize1 in b
     345.  00:4939                      
     346.  00:4939  EB                  	ex      de,hl
     347.  00:493A  67                  	ld      h,a			; NB: A is 0
     348.  00:493B  6F                  	ld      l,a
     349.  00:493C  ED 52               	sbc     hl,de       ; hl=x1-x2
     350.  00:493E                      
     351.  00:493E  B4                  1:	or      h
     352.  00:493F  20 02               	jr      nz,9f       ; if delta X>256 the test on X failed (NB CF=0)
     353.  00:4941                      
     354.  00:4941  7D                  	ld      a,l
     355.  00:4942  B8                  	cp      b           ; CF holds the test result on X
     356.  00:4943                      
     357.  00:4943                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     358.  00:4943                      
     359.  00:4943                      9:              
     360.  00:4943  ED 62               	sbc     hl,hl       ; return hl = -1 if obj1 and obj2 collide
     361.  00:4945                      
     362.  00:4945  C9                  	ret
     363.  00:4946                      
     364.  00:4946                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     365.  00:4946                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     366.  00:4946                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     367.  00:4946                      
     368.  00:4946                      	
     369.  00:4946                      	
     370.  00:4946                      	
     129   00:4946                      		
     130   00:4946                      ;-------------------------------------
     131   00:4946                      ; Entry point
     132   00:4946                      ;-------------------------------------
     133   00:4946                      START:
     134   00:4946  1E 06               		ld e,6
     135   00:4948  CD EF 44            		call	checkkbd
     136   00:494B  3E 01               		ld	a,1
     137   00:494D  CB 0D               		rrc	l				; shift
     138   00:494F  D2 53 49            		jp	nc,_ntsc
     139   00:4952  AF                  		xor	a
     140   00:4953  32 4F D3            _ntsc:	ld	(SEL_NTSC),a	; if set NSTC, if reset PAL
     141   00:4956                      
     142   00:4956  CD D2 50            		call 	rand8_init								
     143   00:4959  CD EB 41            		call	set_scr
     144   00:495C                      
     145   00:495C  1E 06               		ld e,6
     146   00:495E  CD EF 44            		call	checkkbd
     147   00:4961  E6 02               		and	00000010B		; CRTL
     148   00:4963  C4 39 42            		call nz,_set_r800	; if CRTL is pressed do not test for turbo
     149   00:4966                      		
     150   00:4966                      ;-------------------------------------
     151   00:4966                      ;   Power-up routine for 32K ROM
     152   00:4966                      ;   set pages and sub slot
     153   00:4966                      ;-------------------------------------
     154   00:4966  CD 10 40                    call    search_slot
     155   00:4969  CD 2F 40                    call    search_slotram
     156   00:496C  CD 61 40            		call	setrompage2
     157   00:496F  CD 5B 40            		call	setrampage0
     158   00:4972                      
     159   00:4972  CD 93 42            		call	_intreset
     160   00:4975                      
     161   00:4975  AF                  		xor	a
     162   00:4976  32 00 50            		ld	(_kBank1),a
     163   00:4979  3C                  		inc	a
     164   00:497A  32 00 70            		ld	(_kBank2),a
     165   00:497D                      		
     166   00:497D  CD 1C 71            		call	opening_screen
     167   00:4980  1E 08               1:		ld e,8
     168   00:4982  CD EF 44            		call	checkkbd
     169   00:4985  E6 01               		and		00000001B
     170   00:4987  20 F7               		jr		nz,1b
     171   00:4989                      
     172   00:4989  CD 78 41            		call	_cls
     173   00:498C  3E 0F               		ld	a, :sprtdata
     174   00:498E  32 00 B0            		ld	(_kBank4),a
     175   00:4991  CD FC 44            		call 	_hw_sprite_init
     176   00:4994                      
     177   00:4994  3E 18               		ld	a, :_scorebar
     178   00:4996  32 00 B0            		ld	(_kBank4),a
     179   00:4999  0E 00               		ld		c,0
     180   00:499B  11 00 B3            		ld		de,256*(mapHeight*16+3)
     181   00:499E  CD A6 41            		call	_vdpsetvramwr
     182   00:49A1  21 00 A0            		ld		hl,_scorebar
     183   00:49A4  01 98 00            		ld		bc,0x0098
     184   00:49A7  3E 18               		ld		a,24
     185   00:49A9  ED B3               1:		otir
     186   00:49AB  3D                  		dec	a
     187   00:49AC  20 FB               		jr	nz,1b
     188   00:49AE                      		
     189   00:49AE                      	;--- initialise demo song
     190   00:49AE  01 CD 02            		ld	bc,	_levelmap-ttreplayRAM
     191   00:49B1  21 00 C0            		ld	hl,	ttreplayRAM
     192   00:49B4  11 01 C0            		ld	de,	ttreplayRAM+1
     193   00:49B7  36 00               		ld	(hl),0
     194   00:49B9  ED B0               		ldir
     195   00:49BB                      	
     196   00:49BB  3E 0E               		ld	a,:demo_song
     197   00:49BD                      		setpage_a
     197   00:49BD  32 00 90          >   ld (_kBank3),a
     197   00:49C0  3C                >   inc a
     197   00:49C1  32 00 B0          >   ld (_kBank4),a
     198   00:49C4                      		
     199   00:49C4  01 32 14            		ld	bc,	end_demo_song-musbuff
     200   00:49C7  21 00 80            		ld	hl,	demo_song
     201   00:49CA  11 40 00            		ld	de,	musbuff
     202   00:49CD  ED B0               		ldir
     203   00:49CF                      			
     204   00:49CF  CD 00 60            		call	replay_init
     205   00:49D2  21 40 00            		ld		hl,musbuff
     206   00:49D5  CD 5A 60            		call	replay_loadsong
     207   00:49D8                      
     208   00:49D8  1E 00               		ld		e,0
     209   00:49DA  CD DA 41                    call	_setpage
     210   00:49DD                      		
     211   00:49DD                      		
     212   00:49DD  3E 0F               		ld	a, :_level
     213   00:49DF  32 00 90            		ld	(_kBank3),a
     214   00:49E2                      		
     215   00:49E2  21 00 A0            		ld		hl,_level
     216   00:49E5  11 CD C2            		ld		de,_levelmap
     217   00:49E8  01 00 0B            		ld		bc,mapWidth*mapHeight
     218   00:49EB  ED B0               		ldir
     219   00:49ED                      				
     220   00:49ED                      		
     221   00:49ED  21 00 00            		ld		hl,0
     222   00:49F0  7C                  		ld		a,h
     223   00:49F1  32 9E D3            		ld		(flip_flop),a
     224   00:49F4  32 78 D3            		ld		(_ymappos),a
     225   00:49F7  22 79 D3            		ld		(_xmappos),hl
     226   00:49FA                      		
     227   00:49FA  22 74 D3            		ld		(_nframes),hl
     228   00:49FD  32 7F D3            		ld		(_currentpage),a
     229   00:4A00  22 5B D3            		ld		(_mcdx),hl
     230   00:4A03  32 59 D3            		ld		(_mcframe),a
     231   00:4A06                      		
     232   00:4A06  32 83 D3            		ld		(_yoffset),a		;  0 tutto su
     233   00:4A09                      
     234   00:4A09  21 CD C2            		ld		hl,_levelmap
     235   00:4A0C  22 7B D3            		ld		(_levelmap_pos),hl
     236   00:4A0F                      								
     237   00:4A0F  AF                  		xor a
     238   00:4A10  32 96 D3            		ld	(aniframe),a
     239   00:4A13  32 99 D3            		ld	(anispeed),a
     240   00:4A16  32 97 D3            		ld	(ms_state),a
     241   00:4A19  3C                  		inc a
     242   00:4A1A  32 98 D3            		ld	(old_aniframe),a		; old_aniframe!=aniframe
     243   00:4A1D                      	
     244   00:4A1D  21 00 00            		ld		hl,0
     245   00:4A20  22 8F D3            		ld		(xmap),hl
     246   00:4A23  22 91 D3            		ld		(_xmapx4),hl
     247   00:4A26  01 78 00            		ld		bc,xship_rel
     248   00:4A29  09                  		add 	hl,bc
     249   00:4A2A  22 94 D3            		ld		(xship),hl
     250   00:4A2D  3E 50               		ld		a,80
     251   00:4A2F  32 93 D3            		ld		(yship),a
     252   00:4A32  3E 01               		ld		a,1
     253   00:4A34  32 8E D3            		ld		(dxmap),a		; moving right
     254   00:4A37  32 8D D3            		ld		(_dxmap),a		; moving right
     255   00:4A3A                      
     256   00:4A3A  CD 06 51            		call 	npc_init								
     257   00:4A3D  CD 1E 45            		call 	load_colors
     258   00:4A40                      		
     259   00:4A40  AF                  		xor		a
     260   00:4A41  32 80 D3            		ld		(_displaypage),a		
     261   00:4A44  CD BC 4B            		call	init_page0
     262   00:4A47                      
     263   00:4A47  3E 06               		ld		a,6
     264   00:4A49  32 86 D3            		ld		(cur_level),a
     265   00:4A4C                      
     266   00:4A4C  CD 6F 42            		call	_isrinit
     267   00:4A4F                      		
     268   00:4A4F                      main_loop: 
     269   00:4A4F                      				
     270   00:4A4F  21 00 00            		ld	hl,0
     271   00:4A52  22 9E FC            		ld	(_jiffy),hl
     272   00:4A55                      
     273   00:4A55                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     274   00:4A55                      ; run ms FSM and place its sprites in the SAT in RAM
     275   00:4A55  CD 43 6C            		call	ms_ctrl
     276   00:4A58                      		
     277   00:4A58                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     278   00:4A58                      ; place MS in the SAT and test for collision
     279   00:4A58  CD 5C 70            		call	put_ms_sprt
     280   00:4A5B  3A 9C D3            		ld		a,(god_mode)
     281   00:4A5E  A7                  		and 	a
     282   00:4A5F                      		; call	z,test_obstacles
     283   00:4A5F                      
     284   00:4A5F                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     285   00:4A5F                      ; run NCPS FSM
     286   00:4A5F                      
     287   00:4A5F  CD 4C 51            		call	wave_timer
     288   00:4A62  CD 9A 54            		call	npc_loop
     289   00:4A65  CD 39 5A            		call	enemy_bullet_loop
     290   00:4A68                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     291   00:4A68                      ; run MS bullets FSM
     292   00:4A68  CD 09 70            		call	bullet_loop
     293   00:4A6B                      
     294   00:4A6B                      		; ld	a,00100101B			; random colour
     295   00:4A6B                      		; out		(0x99),a
     296   00:4A6B                      		; ld		a,7+128
     297   00:4A6B                      		; out		(0x99),a
     298   00:4A6B                      		
     299   00:4A6B                      		; call	_waitvdp
     300   00:4A6B                      		
     301   00:4A6B                      		; xor		a
     302   00:4A6B                      		; out		(0x99),a
     303   00:4A6B                      		; ld		a,7+128
     304   00:4A6B                      		; out		(0x99),a
     305   00:4A6B                      		
     306   00:4A6B  3A 9E FC            1:		ld	a,(_jiffy)		; wait for vblank (and not for linit)
     307   00:4A6E  B7                  		or	a
     308   00:4A6F  28 FA               		jr	z,1b
     309   00:4A71                      	
     310   00:4A71                      
     311   00:4A71  2A 8F D3            		ld	hl,(xmap)
     312   00:4A74  01 78 00            		ld	bc,xship_rel
     313   00:4A77  09                  		add hl,bc
     314   00:4A78  22 94 D3            		ld	(xship),hl
     315   00:4A7B                      
     316   00:4A7B  3A 8E D3            		ld		a,(dxmap)
     317   00:4A7E  32 8D D3            		ld		(_dxmap),a
     318   00:4A81                      
     319   00:4A81  C3 4F 4A            		jp      main_loop
     320   00:4A84                      
     321   00:4A84                      ;-------------------------------------
     322   00:4A84                      AFXPLAY:
     323   00:4A84  C9                  		ret
     324   00:4A85                      ;	include vuitpakker.asm
     325   00:4A85                      	include print.asm
       1.  00:4A85                      
       2.  00:4A85                      	
       3.  00:4A85                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       4.  00:4A85                      
       5.  00:4A85                      _print_probe
       6.  00:4A85  3A 60 D3            	ld	a,(_mcprobeb)
       7.  00:4A88  5F                  	ld	e,a
       8.  00:4A89  16 00               	ld	d,0
       9.  00:4A8B  21 C0 07            	ld	hl,32*(64-2)
      10.  00:4A8E  19                  	add	hl,de
      11.  00:4A8F  EB                  	ex	de,hl
      12.  00:4A90  21 C0 05            	ld	hl,2*(23*32+0)
      13.  00:4A93                      	; call 	plot_foreground
      14.  00:4A93                      	
      15.  00:4A93  ED 5B 61 D3         	ld	de,(_ticxframe)
      16.  00:4A97  16 00               	ld	d,0
      17.  00:4A99  01 62 D3            	ld	bc,_buffer
      18.  00:4A9C  CD EE 4A            	call	int2ascii
      19.  00:4A9F                      	
      20.  00:4A9F  3A 64 D3            	ld	a,(_buffer+2)
      21.  00:4AA2  5F                  	ld	e,a
      22.  00:4AA3  16 00               	ld	d,0
      23.  00:4AA5  21 90 07            	ld	hl,32*(64-2)-'0'
      24.  00:4AA8  19                  	add	hl,de
      25.  00:4AA9  EB                  	ex	de,hl
      26.  00:4AAA  21 80 05            	ld	hl,2*(22*32)
      27.  00:4AAD                      	; call 	plot_foreground
      28.  00:4AAD                      
      29.  00:4AAD  3A 65 D3            	ld	a,(_buffer+3)
      30.  00:4AB0  5F                  	ld	e,a
      31.  00:4AB1  16 00               	ld	d,0
      32.  00:4AB3  21 90 07            	ld	hl,32*(64-2)-'0'
      33.  00:4AB6  19                  	add	hl,de
      34.  00:4AB7  EB                  	ex	de,hl
      35.  00:4AB8  21 82 05            	ld	hl,2*(22*32+1)
      36.  00:4ABB                      	; call 	plot_foreground
      37.  00:4ABB                      
      38.  00:4ABB  3A 66 D3            	ld	a,(_buffer+4)
      39.  00:4ABE  5F                  	ld	e,a
      40.  00:4ABF  16 00               	ld	d,0
      41.  00:4AC1  21 90 07            	ld	hl,32*(64-2)-'0'
      42.  00:4AC4  19                  	add	hl,de
      43.  00:4AC5  EB                  	ex	de,hl
      44.  00:4AC6  21 84 05            	ld	hl,2*(22*32+2)
      45.  00:4AC9                      	; call 	plot_foreground
      46.  00:4AC9  C9                  	ret
      47.  00:4ACA                      	
      48.  00:4ACA                      	
      49.  00:4ACA                      _print_fps:
      50.  00:4ACA  3A 65 D3            	ld	a,(_buffer+3)
      51.  00:4ACD  5F                  	ld	e,a
      52.  00:4ACE  16 00               	ld	d,0
      53.  00:4AD0  21 90 07            	ld	hl,32*(64-2)-'0'
      54.  00:4AD3  19                  	add	hl,de
      55.  00:4AD4  EB                  	ex	de,hl
      56.  00:4AD5                      	
      57.  00:4AD5  21 FC 05            	ld	hl,2*(23*32+30)
      58.  00:4AD8                      	; call 	plot_foreground
      59.  00:4AD8                      
      60.  00:4AD8  3A 66 D3            	ld	a,(_buffer+4)
      61.  00:4ADB  5F                  	ld	e,a
      62.  00:4ADC  16 00               	ld	d,0
      63.  00:4ADE  21 90 07            	ld	hl,32*(64-2)-'0'
      64.  00:4AE1  19                  	add	hl,de
      65.  00:4AE2  EB                  	ex	de,hl
      66.  00:4AE3                      	
      67.  00:4AE3  21 FE 05            	ld	hl,2*(23*32+31)
      68.  00:4AE6                      	; call 	plot_foreground
      69.  00:4AE6  C9                  	ret
      70.  00:4AE7                      
      71.  00:4AE7                      ;-------------------------------------
      72.  00:4AE7                      _compute_fps:
      73.  00:4AE7  ED 5B 72 D3         	ld	de,(_fps)
      74.  00:4AEB  01 62 D3            	ld	bc,_buffer
      75.  00:4AEE                      
      76.  00:4AEE                      int2ascii:
      77.  00:4AEE                      	
      78.  00:4AEE                      ; in de input 
      79.  00:4AEE                      ; in bc output
      80.  00:4AEE                      
      81.  00:4AEE  EB                  	ex  de,hl
      82.  00:4AEF  59                  	ld  e,c
      83.  00:4AF0  50                  	ld  d,b
      84.  00:4AF1                      
      85.  00:4AF1                      Num2asc:
      86.  00:4AF1  01 F0 D8            	ld  bc,-10000
      87.  00:4AF4  CD 0A 4B            	call    Num1
      88.  00:4AF7  01 18 FC            	ld  bc,-1000
      89.  00:4AFA  CD 0A 4B            	call    Num1
      90.  00:4AFD  01 9C FF            	ld  bc,-100
      91.  00:4B00  CD 0A 4B            	call    Num1
      92.  00:4B03  0E F6               	ld  c,-10
      93.  00:4B05  CD 0A 4B            	call    Num1
      94.  00:4B08  0E FF               	ld  c,-1
      95.  00:4B0A                      
      96.  00:4B0A                      Num1:   
      97.  00:4B0A  3E 2F               	ld  a,'0'-1  ; '0' in the tileset
      98.  00:4B0C                      
      99.  00:4B0C                      Num2:   
     100.  00:4B0C  3C                  	inc a
     101.  00:4B0D  09                  	add hl,bc
     102.  00:4B0E  38 FC               	jr  c,Num2
     103.  00:4B10  ED 42               	sbc hl,bc
     104.  00:4B12                      
     105.  00:4B12  12                  	ld  (de),a
     106.  00:4B13  13                  	inc de
     107.  00:4B14  C9                  	ret
     326   00:4B15                      	include plot_line.asm
       1.  00:4B15                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       2.  00:4B15                      ; no input
       3.  00:4B15                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       4.  00:4B15                      
       5.  00:4B15                      	
       6.  00:4B15                      
       7.  00:4B15                      blank_line:
       8.  00:4B15  F3                  	di
       9.  00:4B16  3E 24               	ld 		a, 36
      10.  00:4B18  D3 99               	out 	(0x99),a
      11.  00:4B1A  3E 91               	ld 		a, 17+128
      12.  00:4B1C  D3 99               	out 	(0x99),a
      13.  00:4B1E                      
      14.  00:4B1E  CD 2A 42            	call _waitvdp		; no need ATM
      15.  00:4B21                      	
      16.  00:4B21  3A 82 D3            	ld		a,(_xoffset)
      17.  00:4B24  83                  	add		a,e
      18.  00:4B25  D3 9B               	out 	(0x9B), a 			; dx
      19.  00:4B27  AF                  	xor a
      20.  00:4B28  D3 9B               	out 	(0x9B), a			; dx (high)
      21.  00:4B2A                      	
      22.  00:4B2A  D3 9B               	out 	(0x9B), a			; dy
      23.  00:4B2C  3A 80 D3            	ld 		a,(_displaypage)	; destination page
      24.  00:4B2F  D3 9B               	out 	(0x9B), a			; dy (high-> page 0 or 1)
      25.  00:4B31                      	
      26.  00:4B31  3E 01               	ld		a,1
      27.  00:4B33  D3 9B               	out 	(0x9B), a			; x block size
      28.  00:4B35  AF                  	xor a
      29.  00:4B36  D3 9B               	out 	(0x9B), a
      30.  00:4B38                      
      31.  00:4B38  3E B0               	ld		a,mapHeight*16
      32.  00:4B3A  D3 9B               	out 	(0x9B), a			; y block size
      33.  00:4B3C  AF                  	xor a
      34.  00:4B3D  D3 9B               	out 	(0x9B), a
      35.  00:4B3F                      
      36.  00:4B3F  D3 9B               	out 	(0x9B), a			; color
      37.  00:4B41  D3 9B               	out 	(0x9B), a
      38.  00:4B43                      
      39.  00:4B43  3E C0               	ld		a,11000000B
      40.  00:4B45  D3 9B               	out 	(0x9B), a		; command HMMV
      41.  00:4B47  FB                  	ei
      42.  00:4B48  C9                  	ret
      43.  00:4B49                      
      44.  00:4B49                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      45.  00:4B49                      ; no input
      46.  00:4B49                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      47.  00:4B49                      
      48.  00:4B49                      plot_line_lft1:
      49.  00:4B49  2A 7B D3            	ld	hl,(_levelmap_pos)
      50.  00:4B4C  1E 00               	ld	e,0
      51.  00:4B4E  C3 5A 4C            	jp plot_line1
      52.  00:4B51                      plot_line_lft2:
      53.  00:4B51  2A 7B D3            	ld	hl,(_levelmap_pos)
      54.  00:4B54  1E 00               	ld	e,0
      55.  00:4B56  C3 71 4C            	jp plot_line2
      56.  00:4B59                      
      57.  00:4B59                      
      58.  00:4B59                      ; plot_line_lft:
      59.  00:4B59                      	; ld	hl,(_levelmap_pos)
      60.  00:4B59                      	; ld	e,0
      61.  00:4B59                      	; jp plot_line
      62.  00:4B59                      	
      63.  00:4B59                      plot_line_rgt1:
      64.  00:4B59  2A 7B D3            	ld	hl,(_levelmap_pos)
      65.  00:4B5C  11 0F 00            	ld	de,15
      66.  00:4B5F  19                  	add	hl,de
      67.  00:4B60  1E F0               	ld	e,240
      68.  00:4B62  C3 5A 4C            	jp plot_line1
      69.  00:4B65                      plot_line_rgt2:
      70.  00:4B65  2A 7B D3            	ld	hl,(_levelmap_pos)
      71.  00:4B68  11 0F 00            	ld	de,15
      72.  00:4B6B  19                  	add	hl,de
      73.  00:4B6C  1E F0               	ld	e,240
      74.  00:4B6E  C3 71 4C            	jp plot_line2
      75.  00:4B71                      	
      76.  00:4B71                      ; plot_line_rgt:
      77.  00:4B71                      	; ld	hl,(_levelmap_pos)
      78.  00:4B71                      	; ld	de,15
      79.  00:4B71                      	; add	hl,de
      80.  00:4B71                      	; ld	e,240
      81.  00:4B71                      	; jp plot_line
      82.  00:4B71                      	
      83.  00:4B71                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      84.  00:4B71                      ; input
      85.  00:4B71                      ; de = y,x configured in window map 256x256
      86.  00:4B71                      ; a  tile to be plot
      87.  00:4B71                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      88.  00:4B71                      plot_tile:
      89.  00:4B71  D5                  		push	de
      90.  00:4B72  D9                  		exx
      91.  00:4B73  D1                  		pop		de
      92.  00:4B74                      		
      93.  00:4B74  67                  		ld	h,a
      94.  00:4B75  07 07 07            [3]		rlca
      95.  00:4B78  E6 07               		and	00000111B
      96.  00:4B7A  C6 04               		add	a,:_tiles0
      97.  00:4B7C  32 00 B0            		ld	(_kBank4),a
      98.  00:4B7F  7C                  		ld	a,h
      99.  00:4B80  E6 1F               		and	00011111B
     100.  00:4B82  C6 A0               		add	a,high _tiles0
     101.  00:4B84  67                  		ld	h,a
     102.  00:4B85  2E 00               		ld	l,0
     103.  00:4B87                      
     104.  00:4B87  3A 80 D3            		ld	a,(_displaypage)
     105.  00:4B8A                      					; de = y*256+x
     106.  00:4B8A  CB 02               		rlc d		; set VDP for writing at address ADE (17-bit) ;
     107.  00:4B8C  17                  		rla
     108.  00:4B8D  CB 02               		rlc d
     109.  00:4B8F  17                  		rla
     110.  00:4B90  CB 3A               		srl d 		 ; first shift
     111.  00:4B92  F3                  		di
     112.  00:4B93  D3 99               		out (0x99),a	; set bits 14-16
     113.  00:4B95  3E 8E               		ld a,14+128
     114.  00:4B97  D3 99               		out (0x99),a
     115.  00:4B99  FB                  		ei
     116.  00:4B9A  CB 3A               		srl d 		 ;  second shift.     
     117.  00:4B9C  CB F2               		set 6,d		 ;  write access
     118.  00:4B9E                      
     119.  00:4B9E  01 98 10            		ld	bc,16*256+0x98
     120.  00:4BA1                      	
     121.  00:4BA1  C5                  2:		push	bc
     122.  00:4BA2  06 10               		ld	b,16
     123.  00:4BA4  F3                  		di
     124.  00:4BA5  7B                  1:		ld a,e 		;set bits 0-7
     125.  00:4BA6  D3 99               		out (0x99),a
     126.  00:4BA8  7A                  		ld a,d 		;set bits 8-13
     127.  00:4BA9  D3 99               		out (0x99),a
     128.  00:4BAB  14                  		inc	d
     129.  00:4BAC  ED A3               		outi
     130.  00:4BAE  C2 A5 4B            		jp nz,1b
     131.  00:4BB1  FB                  		ei
     132.  00:4BB2  3E F0               		ld	a,-16
     133.  00:4BB4  82                  		add	a,d
     134.  00:4BB5  57                  		ld	d,a
     135.  00:4BB6  1C                  		inc	e
     136.  00:4BB7  C1                  		pop	bc
     137.  00:4BB8  10 E7               		djnz 2b
     138.  00:4BBA  D9                  		exx
     139.  00:4BBB  C9                  		ret
     140.  00:4BBC                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     141.  00:4BBC                      ; 		
     142.  00:4BBC                      init_page0:
     143.  00:4BBC  3A 80 D3            		ld		a,(_displaypage)
     144.  00:4BBF  57                  		ld		d,a
     145.  00:4BC0  1E F0               		ld		e,240
     146.  00:4BC2  CD E8 4B            		call	clrboder
     147.  00:4BC5  2A 7B D3            		ld		hl,(_levelmap_pos)
     148.  00:4BC8  11 00 00            		ld		de,0x0000			; e=x=0, d=y=0
     149.  00:4BCB                      		
     150.  00:4BCB  06 0B               		ld		b,11
     151.  00:4BCD  C5                  2:		push	bc
     152.  00:4BCE  06 0F               		ld		b,15
     153.  00:4BD0  7E                  1:		ld		a,(hl)
     154.  00:4BD1  CD 71 4B            		call 	plot_tile
     155.  00:4BD4  23                  		inc		hl
     156.  00:4BD5  3E 10               		ld	a,16
     157.  00:4BD7  83                  		add	a,e
     158.  00:4BD8  5F                  		ld	e,a
     159.  00:4BD9  10 F5               		djnz	1b
     160.  00:4BDB                      				
     161.  00:4BDB  58                  		ld	e,b
     162.  00:4BDC  3E 10               		ld	a,16
     163.  00:4BDE  82                  		add	a,d
     164.  00:4BDF  57                  		ld	d,a
     165.  00:4BE0  01 F1 00            		ld	bc,mapWidth-15
     166.  00:4BE3  09                  		add	hl,bc
     167.  00:4BE4  C1                  		pop	bc
     168.  00:4BE5  10 E6               		djnz	2b
     169.  00:4BE7  C9                  		ret
     170.  00:4BE8                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     171.  00:4BE8                      ; 		
     172.  00:4BE8                      ; init_page1:
     173.  00:4BE8                      		; ld		a,(_displaypage)
     174.  00:4BE8                      		; ld		d,a
     175.  00:4BE8                      		; ld		e,0
     176.  00:4BE8                      		; call	clrboder
     177.  00:4BE8                      		; ld		hl,(_levelmap_pos)
     178.  00:4BE8                      		; ld		de,0x0010			; e=x=16, d=y=0
     179.  00:4BE8                      		
     180.  00:4BE8                      		; ld		b,11
     181.  00:4BE8                      ; 2:		push	bc
     182.  00:4BE8                      		; ld		b,15
     183.  00:4BE8                      ; 1:		ld		a,(hl)
     184.  00:4BE8                      		; call 	plot_tile
     185.  00:4BE8                      		; inc		hl
     186.  00:4BE8                      		; ld	a,16
     187.  00:4BE8                      		; add	a,e
     188.  00:4BE8                      		; ld	e,a
     189.  00:4BE8                      		; djnz	1b
     190.  00:4BE8                      		
     191.  00:4BE8                      		; ld	e,0x10
     192.  00:4BE8                      		; ld	a,e
     193.  00:4BE8                      		; add	a,d
     194.  00:4BE8                      		; ld	d,a
     195.  00:4BE8                      		; ld	bc,mapWidth-15
     196.  00:4BE8                      		; add	hl,bc
     197.  00:4BE8                      		; pop	bc
     198.  00:4BE8                      		; djnz	2b
     199.  00:4BE8                      		; ret
     200.  00:4BE8                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     201.  00:4BE8                      ; input
     202.  00:4BE8                      ; d = page
     203.  00:4BE8                      ; e = dx
     204.  00:4BE8                      ; l = background color
     205.  00:4BE8                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     206.  00:4BE8                      		
     207.  00:4BE8                      clrboder:
     208.  00:4BE8  F3                  	di
     209.  00:4BE9  3E 24               	ld 		a, 36
     210.  00:4BEB  D3 99               	out 	(0x99),a
     211.  00:4BED  3E 91               	ld 		a, 17+128
     212.  00:4BEF  D3 99               	out 	(0x99),a
     213.  00:4BF1                      	
     214.  00:4BF1  CD 2A 42            	call _waitvdp
     215.  00:4BF4                      	
     216.  00:4BF4  7B                  	ld		a,e
     217.  00:4BF5  D3 9B               	out 	(0x9B), a 			; dx
     218.  00:4BF7  AF                  	xor		a
     219.  00:4BF8  D3 9B               	out 	(0x9B), a			; dx (high)
     220.  00:4BFA                      	
     221.  00:4BFA  D3 9B               	out 	(0x9B), a			; dy
     222.  00:4BFC  7A                  	ld 		a,d					; destination page
     223.  00:4BFD  D3 9B               	out 	(0x9B), a			; dy (high-> page 0 or 1)
     224.  00:4BFF                      	
     225.  00:4BFF  3E 10               	ld a,16
     226.  00:4C01  D3 9B               	out 	(0x9B), a			; x block size
     227.  00:4C03  AF                  	xor	a
     228.  00:4C04  D3 9B               	out 	(0x9B), a
     229.  00:4C06                      
     230.  00:4C06  3E B0               	ld		a,mapHeight*16
     231.  00:4C08  D3 9B               	out 	(0x9B), a			; y block size
     232.  00:4C0A  AF                  	xor a
     233.  00:4C0B  D3 9B               	out 	(0x9B), a
     234.  00:4C0D                      
     235.  00:4C0D  3E 00               	ld		a,border_color
     236.  00:4C0F  D3 9B               	out 	(0x9B), a			; color
     237.  00:4C11  AF                  	xor a
     238.  00:4C12  D3 9B               	out 	(0x9B), a
     239.  00:4C14                      
     240.  00:4C14  3E C0               	ld		a,11000000B
     241.  00:4C16  D3 9B               	out 	(0x9B), a		; command HMMV
     242.  00:4C18  FB                  	ei
     243.  00:4C19  C9                  	ret
     244.  00:4C1A                      
     245.  00:4C1A                      
     246.  00:4C1A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     247.  00:4C1A                      ; input
     248.  00:4C1A                      ; e = sx	from not _displaypage
     249.  00:4C1A                      ; d = dx	to _displaypage
     250.  00:4C1A                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     251.  00:4C1A                      
     252.  00:4C1A                      move_block:
     253.  00:4C1A  F3                  	di
     254.  00:4C1B  3E 20               	ld 		a, 32
     255.  00:4C1D  D3 99               	out 	(0x99),a
     256.  00:4C1F  3E 91               	ld 		a, 17+128
     257.  00:4C21  D3 99               	out 	(0x99),a
     258.  00:4C23                      
     259.  00:4C23  0E 9B               	ld 		c, 0x9B
     260.  00:4C25                      	
     261.  00:4C25  CD 2A 42            	call _waitvdp		; no need ATM
     262.  00:4C28                      	
     263.  00:4C28  ED 59               	out		(c), e 		; sx
     264.  00:4C2A  AF                  	xor a
     265.  00:4C2B  D3 9B               	out		(0x9B), a 	; sx (high)
     266.  00:4C2D                      	
     267.  00:4C2D  D3 9B               	out		(0x9B), a 	; sy
     268.  00:4C2F  3A 80 D3            	ld 		a,(_displaypage)	; source page
     269.  00:4C32  D3 9B               	out 	(0x9B), a 	; sy 	(high-> page 0 or 1)
     270.  00:4C34                      
     271.  00:4C34  ED 51               	out 	(c), d 		; dx
     272.  00:4C36  AF                  	xor a
     273.  00:4C37  D3 9B               	out 	(0x9B), a	; dx (high)
     274.  00:4C39                      	
     275.  00:4C39  D3 9B               	out 	(0x9B), a 		; dy
     276.  00:4C3B  3A 80 D3            	ld 		a,(_displaypage)	; destination page
     277.  00:4C3E  EE 01               	xor	1				
     278.  00:4C40  D3 9B               	out 	(0x9B), a	; dy 	(high-> page 0 or 1)
     279.  00:4C42                      
     280.  00:4C42  3E 10               	ld 		a,16 		; block size
     281.  00:4C44  D3 9B               	out 	(0x9B), a
     282.  00:4C46  AF                  	xor a
     283.  00:4C47  D3 9B               	out 	(0x9B), a	
     284.  00:4C49  3E B0               	ld		a,mapHeight*16
     285.  00:4C4B  D3 9B               	out 	(0x9B), a
     286.  00:4C4D  AF                  	xor		a
     287.  00:4C4E  D3 9B               	out 	(0x9B), a
     288.  00:4C50  D3 9B               	out 	(0x9B), a
     289.  00:4C52  D3 9B               	out 	(0x9B), a
     290.  00:4C54                      
     291.  00:4C54  3E D0               	ld		a,11010000B
     292.  00:4C56  D3 9B               	out 	(0x9B), a		; command HMMM
     293.  00:4C58  FB                  	ei
     294.  00:4C59  C9                  	ret
     295.  00:4C5A                      	
     327   00:4C5A                      	include plot_line2.asm
       1.  00:4C5A                      plot_line1:
       2.  00:4C5A  3A 82 D3            	ld	a,(_xoffset)
       3.  00:4C5D  83                  	add a,e
       4.  00:4C5E  5F                  	ld	e,a		; de = y*256+x
       5.  00:4C5F                      
       6.  00:4C5F  3A 80 D3            	ld	a,(_displaypage)
       7.  00:4C62  87 87               [2] add a,a
       8.  00:4C64  F3                  	di
       9.  00:4C65  D3 99               	out (0x99),a 	; set bits 14-16
      10.  00:4C67  3E 8E               	ld a,14+128
      11.  00:4C69  D3 99               	out (0x99),a
      12.  00:4C6B  FB                  	ei
      13.  00:4C6C  16 40               	ld	d,0x40		; write access
      14.  00:4C6E  C3 B2 4C            	jp	_1stblock	; trace 16 pixels
      15.  00:4C71                      
      16.  00:4C71                      plot_line2:
      17.  00:4C71  24                  	inc	h
      18.  00:4C72  3A 82 D3            	ld	a,(_xoffset)
      19.  00:4C75  83                  	add a,e
      20.  00:4C76  5F                  	ld	e,a		; de = y*256+x
      21.  00:4C77                      
      22.  00:4C77  3A 80 D3            	ld	a,(_displaypage)
      23.  00:4C7A  87 87               [2] add a,a
      24.  00:4C7C  F3                  	di
      25.  00:4C7D  D3 99               	out (0x99),a 	; set bits 14-16
      26.  00:4C7F  3E 8E               	ld a,14+128
      27.  00:4C81  D3 99               	out (0x99),a
      28.  00:4C83  FB                  	ei
      29.  00:4C84  16 50               	ld	d,0x50		; write access
      30.  00:4C86  CD 0A 4D            	call	_2nd	; trace 48 pixels
      31.  00:4C89                      	
      32.  00:4C89  3A 80 D3            	ld	a,(_displaypage)
      33.  00:4C8C  87 87               [2] add a,a
      34.  00:4C8E  F6 01               	or	1
      35.  00:4C90  F3                  	di
      36.  00:4C91  D3 99               	out (0x99),a 	; set bits 14-16
      37.  00:4C93  3E 8E               	ld a,14+128
      38.  00:4C95  D3 99               	out (0x99),a
      39.  00:4C97  FB                  	ei
      40.  00:4C98  16 40               	ld	d,0x40		; write access
      41.  00:4C9A  CD DD 4C            	call	_1st	; trace 64 pixels
      42.  00:4C9D                      	
      43.  00:4C9D  3A 80 D3            	ld	a,(_displaypage)
      44.  00:4CA0  87 87               [2] add a,a
      45.  00:4CA2  F6 02               	or	2
      46.  00:4CA4  F3                  	di
      47.  00:4CA5  D3 99               	out (0x99),a 	; set bits 14-16
      48.  00:4CA7  3E 8E               	ld a,14+128
      49.  00:4CA9  D3 99               	out (0x99),a
      50.  00:4CAB  FB                  	ei
      51.  00:4CAC  16 40               	ld	d,0x40		; write access
      52.  00:4CAE  CD 0A 4D            	call	_2nd	; trace 48 pixels
      53.  00:4CB1                      
      54.  00:4CB1  C9                  	ret
      55.  00:4CB2                      
      56.  00:4CB2                      
      57.  00:4CB2                      ; plot_line:
      58.  00:4CB2                      	; ld	a,(_xoffset)
      59.  00:4CB2                      	; add a,e
      60.  00:4CB2                      	; ld	e,a		; de = y*256+x
      61.  00:4CB2                      
      62.  00:4CB2                      	; ld	a,(_displaypage)
      63.  00:4CB2                      ; [2] add a,a
      64.  00:4CB2                      	; di
      65.  00:4CB2                      	; out (0x99),a 	; set bits 14-16
      66.  00:4CB2                      	; ld a,14+128
      67.  00:4CB2                      	; out (0x99),a
      68.  00:4CB2                      	; ei
      69.  00:4CB2                      	; ld	d,0x40		; write access
      70.  00:4CB2                      	; call	_1st
      71.  00:4CB2                      	
      72.  00:4CB2                      	; ld	a,(_displaypage)
      73.  00:4CB2                      ; [2] add a,a
      74.  00:4CB2                      	; or	1
      75.  00:4CB2                      	; di
      76.  00:4CB2                      	; out (0x99),a 	; set bits 14-16
      77.  00:4CB2                      	; ld a,14+128
      78.  00:4CB2                      	; out (0x99),a
      79.  00:4CB2                      	; ei
      80.  00:4CB2                      	; ld	d,0x40		; write access
      81.  00:4CB2                      	; call	_1st	
      82.  00:4CB2                      	
      83.  00:4CB2                      	; ld	a,(_displaypage)
      84.  00:4CB2                      ; [2] add a,a
      85.  00:4CB2                      	; or	2
      86.  00:4CB2                      	; di
      87.  00:4CB2                      	; out (0x99),a 	; set bits 14-16
      88.  00:4CB2                      	; ld a,14+128
      89.  00:4CB2                      	; out (0x99),a
      90.  00:4CB2                      	; ei
      91.  00:4CB2                      	; ld	d,0x40		; write access
      92.  00:4CB2                      	; call	_2nd
      93.  00:4CB2                      
      94.  00:4CB2                      	; ret
      95.  00:4CB2                      	
      96.  00:4CB2                      _1stblock:
      97.  00:4CB2                      ; hl ->   Map in RAM
      98.  00:4CB2  7E                  	ld	a,(hl)
      99.  00:4CB3  07 07 07            [3]	rlca
     100.  00:4CB6  E6 07               	and	00000111B
     101.  00:4CB8  C6 04               	add	a,:_tiles0
     102.  00:4CBA  32 00 B0            	ld	(_kBank4),a
     103.  00:4CBD  7E                  	ld	a,(hl)
     104.  00:4CBE  E6 1F               	and	00011111B
     105.  00:4CC0  C6 A0               	add	a,high _tiles0
     106.  00:4CC2  67                  	ld	h,a
     107.  00:4CC3  3A 82 D3            	ld	a,(_xoffset)
     108.  00:4CC6  87 87 87 87         [4]	add	a,a
     109.  00:4CCA  6F                  	ld	l,a
     110.  00:4CCB                      
     111.  00:4CCB                      	; hl -> tile column
     112.  00:4CCB                      
     113.  00:4CCB  01 98 10            	ld	bc,16*256+0x98
     114.  00:4CCE  F3                  	di
     115.  00:4CCF  7B                  1:	ld a,e 		;set bits 0-7
     116.  00:4CD0  D3 99               	out (0x99),a
     117.  00:4CD2  7A                  	ld a,d 		;set bits 8-13
     118.  00:4CD3  D3 99               	out (0x99),a
     119.  00:4CD5  14                  	inc	d
     120.  00:4CD6  ED A3               	outi
     121.  00:4CD8  C2 CF 4C            	jp	nz,1b
     122.  00:4CDB  FB                  	ei
     123.  00:4CDC  C9                  	ret
     124.  00:4CDD                      	
     125.  00:4CDD                      _1st:
     126.  00:4CDD                      ; hl ->   Map in RAM
     127.  00:4CDD  E5                  	push	hl
     128.  00:4CDE                      		
     129.  00:4CDE  7E                  	ld	a,(hl)
     130.  00:4CDF  07 07 07            [3]	rlca
     131.  00:4CE2  E6 07               	and	00000111B
     132.  00:4CE4  C6 04               	add	a,:_tiles0
     133.  00:4CE6  32 00 B0            	ld	(_kBank4),a
     134.  00:4CE9  7E                  	ld	a,(hl)
     135.  00:4CEA  E6 1F               	and	00011111B
     136.  00:4CEC  C6 A0               	add	a,high _tiles0
     137.  00:4CEE  67                  	ld	h,a
     138.  00:4CEF  3A 82 D3            	ld	a,(_xoffset)
     139.  00:4CF2  87 87 87 87         [4]	add	a,a
     140.  00:4CF6  6F                  	ld	l,a
     141.  00:4CF7                      
     142.  00:4CF7                      	; hl -> tile column
     143.  00:4CF7                      
     144.  00:4CF7  01 98 10            	ld	bc,16*256+0x98
     145.  00:4CFA  F3                  	di
     146.  00:4CFB  7B                  1:	ld a,e 		;set bits 0-7
     147.  00:4CFC  D3 99               	out (0x99),a
     148.  00:4CFE  7A                  	ld a,d 		;set bits 8-13
     149.  00:4CFF  D3 99               	out (0x99),a
     150.  00:4D01  14                  	inc	d
     151.  00:4D02  ED A3               	outi
     152.  00:4D04  C2 FB 4C            	jp	nz,1b
     153.  00:4D07  FB                  	ei
     154.  00:4D08                      	
     155.  00:4D08  E1                  	pop	hl
     156.  00:4D09  24                  	inc h
     157.  00:4D0A                      _2nd:
     158.  00:4D0A                      	repeat 3
     159.  00:4D0A                    < 	push	hl
     160.  00:4D0A                    < 		
     161.  00:4D0A                    < 	ld	a,(hl)
     162.  00:4D0A                    < [3]	rlca
     163.  00:4D0A                    < 	and	00000111B
     164.  00:4D0A                    < 	add	a,:_tiles0
     165.  00:4D0A                    < 	ld	(_kBank4),a
     166.  00:4D0A                    < 	ld	a,(hl)
     167.  00:4D0A                    < 	and	00011111B
     168.  00:4D0A                    < 	add	a,high _tiles0
     169.  00:4D0A                    < 	ld	h,a
     170.  00:4D0A                    < 	ld	a,(_xoffset)
     171.  00:4D0A                    < [4]	add	a,a
     172.  00:4D0A                    < 	ld	l,a
     173.  00:4D0A                    < 
     174.  00:4D0A                    < 	; hl -> tile column
     175.  00:4D0A                    < 
     176.  00:4D0A                    < 	ld	bc,16*256+0x98
     177.  00:4D0A                    < 	di
     178.  00:4D0A                    < 1:	ld a,e 		;set bits 0-7
     179.  00:4D0A                    < 	out (0x99),a
     180.  00:4D0A                    < 	ld a,d 		;set bits 8-13
     181.  00:4D0A                    < 	out (0x99),a
     182.  00:4D0A                    < 	inc	d
     183.  00:4D0A                    < 	outi
     184.  00:4D0A                    < 	jp	nz,1b
     185.  00:4D0A                    < 	ei
     186.  00:4D0A                    < 	
     187.  00:4D0A                    < 	pop	hl
     188.  00:4D0A                    < 	inc h
     189.  00:4D0A                    < 	endrepeat
     189.  00:4D0A  E5 7E 07 07 07 E6 07 C6 04 32 00 B0 7E E6 1F C6 
     189.  00:4D1A  A0 67 3A 82 D3 87 87 87 87 6F 01 98 10 F3 7B D3 
     189.  00:4D2A  99 7A D3 99 14 ED A3 C2 28 4D FB E1 24 E5 7E 07 
     189.  00:4D3A  07 07 E6 07 C6 04 32 00 B0 7E E6 1F C6 A0 67 3A 
     189.  00:4D4A  82 D3 87 87 87 87 6F 01 98 10 F3 7B D3 99 7A D3 
     189.  00:4D5A  99 14 ED A3 C2 55 4D FB E1 24 E5 7E 07 07 07 E6 
     189.  00:4D6A  07 C6 04 32 00 B0 7E E6 1F C6 A0 67 3A 82 D3 87 
     189.  00:4D7A  87 87 87 6F 01 98 10 F3 7B D3 99 7A D3 99 14 ED 
     189.  00:4D8A  A3 C2 82 4D FB E1 24 
     190.  00:4D91  C9                  	ret
     191.  00:4D92                      	
     328   00:4D92                      	include color_update.asm
       1.  00:4D92                      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       2.  00:4D92                      ; update main ship
       3.  00:4D92                      ;
       4.  00:4D92                      	
       5.  00:4D92                      _plot_spt:
       6.  00:4D92  0E 00               		ld		c,0
       7.  00:4D94  11 00 F0            		ld		de,0F000h
       8.  00:4D97  CD A6 41            		call	_vdpsetvramwr
       9.  00:4D9A  3E 02               		ld	a, :ms_spt
      10.  00:4D9C  32 00 90            		ld	(_kBank3),a
      11.  00:4D9F                      
      12.  00:4D9F  2A 96 D3            		ld	hl,(aniframe)
      13.  00:4DA2  7D                  		ld	a,l
      14.  00:4DA3  BC                  		cp	h
      15.  00:4DA4  C8                  		ret	z
      16.  00:4DA5  32 98 D3            		ld	(old_aniframe),a
      17.  00:4DA8  21 E1 4F            		ld	hl,ms_ani
      18.  00:4DAB  4F                  		ld	c,a
      19.  00:4DAC  06 00               		ld	b,0
      20.  00:4DAE  09                  		add	hl,bc
      21.  00:4DAF  6E                  		ld	l,(hl)
      22.  00:4DB0  60                  		ld	h,b
      23.  00:4DB1  29                  		add hl,hl
      24.  00:4DB2  29                  		add hl,hl
      25.  00:4DB3  29                  		add hl,hl
      26.  00:4DB4  29                  		add hl,hl
      27.  00:4DB5  29                  		add hl,hl
      28.  00:4DB6  5D                  		ld	e,l
      29.  00:4DB7  54                  		ld	d,h
      30.  00:4DB8  29                  		add	hl,hl
      31.  00:4DB9  19                  		add	hl,de
      32.  00:4DBA  11 00 80            		ld	de,ms_spt
      33.  00:4DBD  19                  		add hl,de
      34.  00:4DBE  0E 98               		ld	c,0x98
      35.  00:4DC0                      [96]	outi
      35.  00:4DC0  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4DD0  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4DE0  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4DF0  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E00  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E10  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E20  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E30  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E40  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E50  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E60  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      35.  00:4E70  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
      36.  00:4E80  C9                  		ret
      37.  00:4E81                      	
      38.  00:4E81                      manta_color
      39.  00:4E81  0D (16)             		ds	16,13
      40.  00:4E91  46 (16)             		ds	16,6+64
      41.  00:4EA1  00 (16)             		ds	16,0
      42.  00:4EB1                      
      43.  00:4EB1                      set_manta_color
      44.  00:4EB1  7B                  		ld a,e 					; set bits 0-7
      45.  00:4EB2  D3 99               		out (0x99),a
      46.  00:4EB4  7A                  		ld a,d 					; set bits 8-13 with write access
      47.  00:4EB5  D3 99               		out (0x99),a
      48.  00:4EB7                      		
      49.  00:4EB7  01 98 30            		ld	bc,0x98+16*3*256
      50.  00:4EBA  21 81 4E            		ld  hl,manta_color
      51.  00:4EBD  ED B3               		otir
      52.  00:4EBF                      		
      53.  00:4EBF  C9                  		ret
      54.  00:4EC0                      	
      55.  00:4EC0                      
      56.  00:4EC0                      
      57.  00:4EC0                      color_enemy:
      58.  00:4EC0  CD 92 4D            		call 	_plot_spt
      59.  00:4EC3  3A 9E D3            		ld	a,(flip_flop)
      60.  00:4EC6  E6 01               		and	1
      61.  00:4EC8  C2 56 4F            		jp nz, reversecolor_enemy
      62.  00:4ECB                      	
      63.  00:4ECB                      directcolor_enemy		
      64.  00:4ECB                      		
      65.  00:4ECB  3E 03               		ld	a,3
      66.  00:4ECD  D3 99               		out (0x99),a 		;set bits 14-16 of F800h
      67.  00:4ECF  3E 8E               		ld a,14+128
      68.  00:4ED1  D3 99               		out (0x99),a
      69.  00:4ED3                      		
      70.  00:4ED3  11 00 78            		ld		de,07800h	; F800h 3 positions  for bullets and manta
      71.  00:4ED6                      		
      72.  00:4ED6  CD B1 4E            		call	set_manta_color
      73.  00:4ED9                      
      74.  00:4ED9  11 80 78            		ld		de,16*(3+max_bullets+max_enem_bullets)+07800h	; F800h 6 positions for bullets
      75.  00:4EDC                      		
      76.  00:4EDC  DD 21 F6 D3         		ld	ix,enemies		; process two layer enemies
      77.  00:4EE0                      
      78.  00:4EE0  01 98 0C            		ld	bc,256*max_enem+0x98
      79.  00:4EE3                      		
      80.  00:4EE3  DD CB 07 46         1:		bit	0,(ix+enemy_data.status)
      81.  00:4EE7  CA 47 4F            		jp	z,.next
      82.  00:4EEA                      		
      83.  00:4EEA  DD 7E 0A            		ld	a,(ix+enemy_data.frame)
      84.  00:4EED  DD BE 0B            		cp  (ix+enemy_data.color)
      85.  00:4EF0  CA 47 4F            		jp	z,.next
      86.  00:4EF3                      		
      87.  00:4EF3  DD 77 0B            		ld   (ix+enemy_data.color),a
      88.  00:4EF6                      		
      89.  00:4EF6  6F                  		ld	l,a					; color x 4
      90.  00:4EF7  26 00               		ld	h,0
      91.  00:4EF9  29 29               [2]		add hl,hl				; color x 16
      92.  00:4EFB                      		
      93.  00:4EFB  3E 72               		ld	a,high color_base	; nb: the first 16 patterns reserved to mship, explosions and bullets
      94.  00:4EFD  84                  		add	a,h
      95.  00:4EFE  67                  		ld	h,a
      96.  00:4EFF                      		
      97.  00:4EFF  7B                  		ld a,e 					; set bits 0-7
      98.  00:4F00  D3 99               		out (0x99),a
      99.  00:4F02  7A                  		ld a,d 					; set bits 8-13 with write access
     100.  00:4F03  D3 99               		out (0x99),a
     101.  00:4F05  78                  		ld	a,b
     102.  00:4F06                      [32]	outi
     102.  00:4F06  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     102.  00:4F16  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     102.  00:4F26  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     102.  00:4F36  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     103.  00:4F46  47                  		ld b,a
     104.  00:4F47                      
     105.  00:4F47                      .next
     106.  00:4F47  C5                  		push bc
     107.  00:4F48  01 0F 00            		ld	bc,enemy_data
     108.  00:4F4B  DD 09               		add ix,bc
     109.  00:4F4D  C1                  		pop bc
     110.  00:4F4E  21 20 00            		ld hl,32
     111.  00:4F51  19                  		add hl,de
     112.  00:4F52  EB                  		ex de,hl
     113.  00:4F53                      		
     114.  00:4F53  10 8E               		djnz	1b
     115.  00:4F55  C9                  		ret
     116.  00:4F56                      
     117.  00:4F56                      reversecolor_enemy:
     118.  00:4F56  11 00 7C            		ld		de,07C00h	; FC00h 6 positions for bullets
     119.  00:4F59                      
     120.  00:4F59  3E 03               		ld	a,3
     121.  00:4F5B  D3 99               		out (0x99),a 		;set bits 14-16 of F800h
     122.  00:4F5D  3E 8E               		ld a,14+128
     123.  00:4F5F  D3 99               		out (0x99),a
     124.  00:4F61                      		
     125.  00:4F61  DD 21 9B D4         		ld	ix,enemies+(max_enem-1)*enemy_data
     126.  00:4F65                      		
     127.  00:4F65  01 98 0C            		ld	bc,0x98+256*max_enem
     128.  00:4F68                      		
     129.  00:4F68  DD CB 07 46         1:		bit	0,(ix+enemy_data.status)
     130.  00:4F6C  CA CC 4F            		jp	z,.next
     131.  00:4F6F                      		
     132.  00:4F6F  DD 7E 0A            		ld	a,(ix+enemy_data.frame)
     133.  00:4F72  DD BE 0C            		cp  (ix+enemy_data.color2)
     134.  00:4F75  CA CC 4F            		jp	z,.next
     135.  00:4F78                      		
     136.  00:4F78  DD 77 0C            		ld   (ix+enemy_data.color2),a
     137.  00:4F7B                      		
     138.  00:4F7B  6F                  		ld	l,a					; color x 4
     139.  00:4F7C  26 00               		ld	h,0
     140.  00:4F7E  29 29               [2]		add hl,hl				; color x 16
     141.  00:4F80                      		
     142.  00:4F80  3E 72               		ld	a,high color_base	; nb: the first 16 patterns reserved to mship, explosions and bullets
     143.  00:4F82  84                  		add	a,h
     144.  00:4F83  67                  		ld	h,a
     145.  00:4F84                      		
     146.  00:4F84  7B                  		ld a,e 					; set bits 0-7
     147.  00:4F85  D3 99               		out (0x99),a
     148.  00:4F87  7A                  		ld a,d 					; set bits 8-13 with write access
     149.  00:4F88  D3 99               		out (0x99),a
     150.  00:4F8A  78                  		ld	a,b
     151.  00:4F8B                      [32]	outi
     151.  00:4F8B  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     151.  00:4F9B  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     151.  00:4FAB  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     151.  00:4FBB  ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 ED A3 
     152.  00:4FCB  47                  		ld b,a
     153.  00:4FCC                      
     154.  00:4FCC                      .next
     155.  00:4FCC  C5                  		push bc
     156.  00:4FCD  01 F1 FF            		ld	bc,-enemy_data
     157.  00:4FD0  DD 09               		add ix,bc
     158.  00:4FD2  C1                  		pop bc
     159.  00:4FD3  21 20 00            		ld hl,32
     160.  00:4FD6  19                  		add hl,de
     161.  00:4FD7  EB                  		ex de,hl
     162.  00:4FD8                      		
     163.  00:4FD8  10 8E               		djnz	1b
     164.  00:4FDA                      
     165.  00:4FDA  11 D0 7D            		ld		de,07C00h+16*(2*max_enem+max_bullets + max_enem_bullets)	; FC00h 6 positions for bullets
     166.  00:4FDD                      
     167.  00:4FDD  CD B1 4E            		call	set_manta_color
     168.  00:4FE0  C9                  		ret
     329   00:4FE1                      	
     330   00:4FE1                      ;-------------------------------------
     331   00:4FE1                      	
     332   00:4FE1                      	; page 0,1	
     333   00:4FE1                      ; _metatable:
     334   00:4FE1                      	; incbin 	metatable.bin
     335   00:4FE1                      	
     336   00:4FE1                      	; page 1
     337   00:4FE1                      ; _backmap:
     338   00:4FE1                      	; incbin	backmap.bin
     339   00:4FE1                      
     340   00:4FE1                      	; include hwsprites.asm
     341   00:4FE1                      	
     342   00:4FE1                      	; include mainhero_LMMM.asm
     343   00:4FE1                      	; include probe_level.asm
     344   00:4FE1                      	
     345   00:4FE1                      
     346   00:4FE1  (18)                	page 24
     347   18:A000                      _scorebar:	
     348   18:A000  (1800)              	incbin scorebar.bin
     349   18:B800                      	
     350   18:B800  (04)                	page 4
     351   04:A000                      _tiles0:
     352   04:A000  (2000)              	incbin "tiles.bin",0x0000,0x2000
     353   04:C000  (05)                	page 5
     354   05:A000  (2000)              	incbin "tiles.bin",0x2000,0x2000
     355   05:C000  (06)                	page 6
     356   06:A000  (2000)              	incbin "tiles.bin",0x4000,0x2000
     357   06:C000  (07)                	page 7
     358   07:A000  (2000)              	incbin "tiles.bin",0x6000,0x2000
     359   07:C000  (08)                	page 8
     360   08:A000  (2000)              	incbin "tiles.bin",0x8000,0x2000
     361   08:C000  (09)                	page 9
     362   09:A000  (2000)              	incbin "tiles.bin",0xA000,0x2000
     363   09:C000  (0A)                	page 10
     364   0A:A000  (2000)              	incbin "tiles.bin",0xC000,0x2000
     365   0A:C000  (0B)                	page 11
     366   0B:A000  (1300)              	incbin "tiles.bin",0xE000;,0x2000
     367   0B:B300                      	
     368   0B:B300  (10)                	page 16
     369   10:A000                      _opening:
     370   10:A000  (2000)              	incbin "opening.bin",0x0000,0x2000
     371   10:C000  (11)                	page 17
     372   11:A000  (2000)              	incbin "opening.bin",0x2000,0x2000
     373   11:C000  (12)                	page 18
     374   12:A000  (2000)              	incbin "opening.bin",0x4000,0x2000
     375   12:C000  (13)                	page 19
     376   13:A000  (2000)              	incbin "opening.bin",0x6000,0x2000
     377   13:C000  (14)                	page 20
     378   14:A000  (2000)              	incbin "opening.bin",0x8000,0x2000
     379   14:C000  (15)                	page 21
     380   15:A000  (2000)              	incbin "opening.bin",0xA000,0x2000
     381   15:C000  (16)                	page 22
     382   16:A000  (0000)              	incbin "opening.bin",0xC000;,0x2000
     383   16:A000  (17)                	page 23
     384   17:A000                      	; incbin "opening.bin",0xE000;,,0x2000
     385   17:A000                      	
     386   17:A000  (0F)                	page 15
     387   0F:A000                      _level:
     388   0F:A000  (0B00)              	incbin "datamap.bin"
     389   0F:AB00  (0F)                	page 15
     390   0F:AB00                      sprtdata:
     391   0F:AB00  (0800)              	incbin 	uridium_revA.bin
     392   0F:B300                      	
     393   0F:B300                      	page 14,15
     394   0E:8000                      demo_song:
     395   0E:8000                      	org 0x0040
     396   0E:0040                      	include	"demosong.asm"
       1.  0E:0040                      ; Compiled using tt_compile.exe V0.3 [12-04-2015]
       2.  0E:0040                      ; Copyright 2015 Richard Cornelisse
       3.  0E:0040                      
       4.  0E:0040                      ; Song: Usas Stage1        - Konami     
       5.  0E:0040                      ; By:   Arr. by Gryzor87        (c) 2013
       6.  0E:0040                      
       7.  0E:0040                      ;	org $c000
       8.  0E:0040                      
       9.  0E:0040                      ; [ Song start data ]
      10.  0E:0040  09                  	db $09				; Initial song speed.
      11.  0E:0041  A9 00               	dw .waveform_start 		; Start of the waveform data.
      12.  0E:0043  49 02               	dw .instrument_start 		; Start of the instrument data.
      13.  0E:0045                      
      14.  0E:0045                      ; [ Song order pointer list ]
      15.  0E:0045                      .restart:
      16.  0E:0045                      		dw .track_0,.track_1,.track_2,.track_3,.track_4,.track_5,.track_6,.track_7		; Sequence step 0 /pattern 0
      16.  0E:0045  2A 05 8A 05 C3 05 F1 05 23 06 5F 06 A1 06 FB 06 
      17.  0E:0055                      		dw .track_8,.track_9,.track_10,.track_11,.track_12,.track_13,.track_14,.track_15		; Sequence step 1 /pattern 1
      17.  0E:0055  2C 07 8D 07 C1 07 EA 07 16 08 4D 08 80 08 E2 08 
      18.  0E:0065                      		dw .track_16,.track_17,.track_18,.track_19,.track_20,.track_21,.track_22,.track_23		; Sequence step 2 /pattern 2
      18.  0E:0065  1A 09 86 09 C2 09 04 0A 40 0A 86 0A C0 0A 1B 0B 
      19.  0E:0075                      		dw .track_16,.track_24,.track_25,.track_26,.track_27,.track_28,.track_29,.track_30		; Sequence step 3 /pattern 3
      19.  0E:0075  1A 09 60 0B 95 0B D0 0B 05 0C 46 0C 85 0C EC 0C 
      20.  0E:0085                      		dw .track_8,.track_31,.track_32,.track_33,.track_34,.track_35,.track_36,.track_37		; Sequence step 4 /pattern 4
      20.  0E:0085  2C 07 24 0D 53 0D 84 0D B3 0D EF 0D 2E 0E 80 0E 
      21.  0E:0095                      		dw .track_38,.track_39,.track_40,.track_41,.track_42,.track_43,.track_44,.track_45		; Sequence step 5 /pattern 5
      21.  0E:0095  B4 0E 10 0F 47 0F 6E 0F A2 0F D6 0F 1A 10 68 10 
      22.  0E:00A5  00 00 45 00         		dw 0x0000, .restart			; End of sequence delimiter + restart address.
      23.  0E:00A9                      
      24.  0E:00A9                      .waveform_start:
      25.  0E:00A9                      	db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00	; Waveform 0(was 0)
      25.  0E:00A9  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      25.  0E:00B9  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      26.  0E:00C9                      	db $80,$B0,$C0,$10,$1A,$2A,$2C,$1A,$00,$E0,$D0,$E0,$22,$53,$70,$75,$70,$31,$EA,$80,$88,$8A,$8C,$8E,$00,$7F,$75,$73,$62,$00,$C0,$90	; Waveform 1(was 1)
      26.  0E:00C9  80 B0 C0 10 1A 2A 2C 1A 00 E0 D0 E0 22 53 70 75 
      26.  0E:00D9  70 31 EA 80 88 8A 8C 8E 00 7F 75 73 62 00 C0 90 
      27.  0E:00E9                      	db $30,$50,$50,$30,$00,$00,$10,$40,$60,$70,$60,$30,$F0,$E0,$E0,$00,$20,$20,$10,$C0,$A0,$90,$A0,$C0,$00,$00,$D0,$B0,$B0,$D0,$00,$00	; Waveform 2(was 2)
      27.  0E:00E9  30 50 50 30 00 00 10 40 60 70 60 30 F0 E0 E0 00 
      27.  0E:00F9  20 20 10 C0 A0 90 A0 C0 00 00 D0 B0 B0 D0 00 00 
      28.  0E:0109                      	db $17,$77,$47,$5F,$27,$E7,$A7,$2F,$6F,$B7,$FF,$E7,$1F,$0F,$4F,$DF,$EF,$F7,$E7,$CF,$E7,$67,$47,$DF,$17,$97,$B7,$EF,$DF,$D7,$E7,$FF	; Waveform 3(was 4)
      28.  0E:0109  17 77 47 5F 27 E7 A7 2F 6F B7 FF E7 1F 0F 4F DF 
      28.  0E:0119  EF F7 E7 CF E7 67 47 DF 17 97 B7 EF DF D7 E7 FF 
      29.  0E:0129                      	db $00,$40,$7F,$40,$01,$C0,$81,$C0,$01,$40,$7F,$40,$01,$C0,$01,$40,$01,$E0,$01,$20,$01,$F0,$01,$10,$01,$FF,$FF,$FF,$FF,$40,$40,$40	; Waveform 4(was 5)
      29.  0E:0129  00 40 7F 40 01 C0 81 C0 01 40 7F 40 01 C0 01 40 
      29.  0E:0139  01 E0 01 20 01 F0 01 10 01 FF FF FF FF 40 40 40 
      30.  0E:0149                      	db $00,$19,$31,$47,$5A,$6A,$75,$7D,$7F,$7D,$75,$6A,$5A,$47,$31,$19,$00,$E0,$C0,$A0,$80,$A0,$C0,$E0,$00,$20,$40,$60,$7F,$60,$40,$20	; Waveform 5(was 6)
      30.  0E:0149  00 19 31 47 5A 6A 75 7D 7F 7D 75 6A 5A 47 31 19 
      30.  0E:0159  00 E0 C0 A0 80 A0 C0 E0 00 20 40 60 7F 60 40 20 
      31.  0E:0169                      	db $00,$4E,$62,$6D,$75,$7A,$7D,$7E,$7F,$7E,$7D,$7A,$75,$6D,$62,$4E,$00,$B1,$9D,$92,$8A,$85,$82,$81,$80,$81,$82,$85,$8A,$92,$9D,$B1	; Waveform 6(was 7)
      31.  0E:0169  00 4E 62 6D 75 7A 7D 7E 7F 7E 7D 7A 75 6D 62 4E 
      31.  0E:0179  00 B1 9D 92 8A 85 82 81 80 81 82 85 8A 92 9D B1 
      32.  0E:0189                      	db $00,$F0,$E0,$D0,$C0,$B0,$A0,$90,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$80,$7F,$70,$60,$50,$40,$30,$20,$10	; Waveform 7(was 10)
      32.  0E:0189  00 F0 E0 D0 C0 B0 A0 90 80 80 80 80 80 80 80 80 
      32.  0E:0199  80 80 80 80 80 80 80 80 7F 70 60 50 40 30 20 10 
      33.  0E:01A9                      	db $01,$2A,$40,$50,$5C,$68,$70,$78,$7F,$78,$70,$68,$5C,$50,$40,$2A,$FF,$D6,$C0,$B0,$A4,$98,$90,$88,$81,$88,$90,$98,$A4,$B0,$C0,$D6	; Waveform 8(was 11)
      33.  0E:01A9  01 2A 40 50 5C 68 70 78 7F 78 70 68 5C 50 40 2A 
      33.  0E:01B9  FF D6 C0 B0 A4 98 90 88 81 88 90 98 A4 B0 C0 D6 
      34.  0E:01C9                      	db $4F,$5F,$67,$6F,$77,$77,$77,$77,$77,$6F,$5F,$4F,$3F,$27,$17,$07,$F7,$E7,$D7,$C7,$AF,$97,$87,$87,$87,$87,$87,$87,$8F,$97,$9F,$AF	; Waveform 9(was 12)
      34.  0E:01C9  4F 5F 67 6F 77 77 77 77 77 6F 5F 4F 3F 27 17 07 
      34.  0E:01D9  F7 E7 D7 C7 AF 97 87 87 87 87 87 87 8F 97 9F AF 
      35.  0E:01E9                      	db $00,$F0,$E0,$D0,$C0,$B0,$A0,$90,$80,$70,$60,$50,$40,$30,$20,$10,$00,$F0,$E0,$D0,$C0,$B0,$A0,$90,$80,$70,$60,$50,$40,$30,$20,$10	; Waveform 10(was 14)
      35.  0E:01E9  00 F0 E0 D0 C0 B0 A0 90 80 70 60 50 40 30 20 10 
      35.  0E:01F9  00 F0 E0 D0 C0 B0 A0 90 80 70 60 50 40 30 20 10 
      36.  0E:0209                      	db $00,$F8,$F0,$E8,$E0,$D8,$D0,$C8,$C0,$B8,$B0,$A8,$A0,$98,$90,$20,$00,$E0,$C0,$A0,$80,$A0,$C0,$E0,$00,$20,$40,$60,$7F,$60,$40,$20	; Waveform 11(was 16)
      36.  0E:0209  00 F8 F0 E8 E0 D8 D0 C8 C0 B8 B0 A8 A0 98 90 20 
      36.  0E:0219  00 E0 C0 A0 80 A0 C0 E0 00 20 40 60 7F 60 40 20 
      37.  0E:0229                      	db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$11,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF	; Waveform 12(was 31)
      37.  0E:0229  FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 11 
      37.  0E:0239  FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 
      38.  0E:0249                      
      39.  0E:0249                      .instrument_start:
      40.  0E:0249  87 02               	dw .ins_1
      41.  0E:024B  8E 02               	dw .ins_2
      42.  0E:024D  BF 02               	dw .ins_3
      43.  0E:024F  C8 02               	dw .ins_4
      44.  0E:0251  D3 02               	dw .ins_5
      45.  0E:0253  D3 02               	dw .ins_6
      46.  0E:0255  E5 02               	dw .ins_7
      47.  0E:0257  02 03               	dw .ins_8
      48.  0E:0259  17 03               	dw .ins_9
      49.  0E:025B  66 03               	dw .ins_10
      50.  0E:025D  91 03               	dw .ins_11
      51.  0E:025F  BC 03               	dw .ins_12
      52.  0E:0261  D1 03               	dw .ins_13
      53.  0E:0263  EE 03               	dw .ins_14
      54.  0E:0265  03 04               	dw .ins_15
      55.  0E:0267  2E 04               	dw .ins_16
      56.  0E:0269  43 04               	dw .ins_17
      57.  0E:026B  43 04               	dw .ins_18
      58.  0E:026D  5A 04               	dw .ins_19
      59.  0E:026F  5A 04               	dw .ins_20
      60.  0E:0271  6F 04               	dw .ins_21
      61.  0E:0273  81 04               	dw .ins_22
      62.  0E:0275  81 04               	dw .ins_23
      63.  0E:0277  81 04               	dw .ins_24
      64.  0E:0279  D8 04               	dw .ins_25
      65.  0E:027B  D8 04               	dw .ins_26
      66.  0E:027D  03 05               	dw .ins_27
      67.  0E:027F  19 05               	dw .ins_28
      68.  0E:0281  19 05               	dw .ins_29
      69.  0E:0283  19 05               	dw .ins_30
      70.  0E:0285  19 05               	dw .ins_31
      71.  0E:0287                      .ins_1:						; BD POW Solid    
      72.  0E:0287  00                  		db 0					; Waveform (was 0)
      73.  0E:0288  11 0F               		db $11,$0F
      74.  0E:028A                      .rst_i1:
      75.  0E:028A  89 00               		db $89,$00
      76.  0E:028C  8A 02               		dw .rst_i1
      77.  0E:028E                      .ins_2:						; SD POW Solid    
      78.  0E:028E  00                  		db 0					; Waveform (was 0)
      79.  0E:028F  11 0F               		db $11,$0F
      80.  0E:0291  85 0F FF FF         		db $85,$0F,$FF,$FF
      81.  0E:0295  A5 0E 07 FF FF      		db $A5,$0E,$07,$FF,$FF
      82.  0E:029A  85 0D FF FF         		db $85,$0D,$FF,$FF
      83.  0E:029E  A5 0D 09 FF FF      		db $A5,$0D,$09,$FF,$FF
      84.  0E:02A3  85 0C FF FF         		db $85,$0C,$FF,$FF
      85.  0E:02A7  85 0C FF FF         		db $85,$0C,$FF,$FF
      86.  0E:02AB  85 0B 07 00         		db $85,$0B,$07,$00
      87.  0E:02AF  81 0B               		db $81,$0B
      88.  0E:02B1  81 0A               		db $81,$0A
      89.  0E:02B3  81 0A               		db $81,$0A
      90.  0E:02B5  81 08               		db $81,$08
      91.  0E:02B7  81 06               		db $81,$06
      92.  0E:02B9  81 05               		db $81,$05
      93.  0E:02BB                      .rst_i2:
      94.  0E:02BB  89 02               		db $89,$02
      95.  0E:02BD  BB 02               		dw .rst_i2
      96.  0E:02BF                      .ins_3:						; HH close So HI  
      97.  0E:02BF  00                  		db 0					; Waveform (was 0)
      98.  0E:02C0  91 0E               		db $91,$0E
      99.  0E:02C2  91 06               		db $91,$06
     100.  0E:02C4                      .rst_i3:
     101.  0E:02C4  99 00               		db $99,$00
     102.  0E:02C6  C4 02               		dw .rst_i3
     103.  0E:02C8                      .ins_4:						; HH open Solid   
     104.  0E:02C8  00                  		db 0					; Waveform (was 0)
     105.  0E:02C9  91 0E               		db $91,$0E
     106.  0E:02CB  91 0E               		db $91,$0E
     107.  0E:02CD  91 0C               		db $91,$0C
     108.  0E:02CF                      .rst_i4:
     109.  0E:02CF  9B FF               		db $9B,$FF
     110.  0E:02D1  CF 02               		dw .rst_i4
     111.  0E:02D3                      .ins_5:						; Ride Cymbal     
     112.  0E:02D3                      .ins_6:						; Tom             
     113.  0E:02D3  00                  		db 0					; Waveform (was 0)
     114.  0E:02D4  15 0F 2F 00         		db $15,$0F,$2F,$00
     115.  0E:02D8  15 0E 2F 00         		db $15,$0E,$2F,$00
     116.  0E:02DC                      .rst_i6:
     117.  0E:02DC  14 2F 00            		db $14,$2F,$00
     118.  0E:02DF  1F FF 2F 00         		db $1F,$FF,$2F,$00
     119.  0E:02E3  DC 02               		dw .rst_i6
     120.  0E:02E5                      .ins_7:						; PSG Attack      
     121.  0E:02E5  00                  		db 0					; Waveform (was 0)
     122.  0E:02E6  11 0E               		db $11,$0E
     123.  0E:02E8  11 0C               		db $11,$0C
     124.  0E:02EA  11 0C               		db $11,$0C
     125.  0E:02EC  11 0C               		db $11,$0C
     126.  0E:02EE  11 0C               		db $11,$0C
     127.  0E:02F0  11 0C               		db $11,$0C
     128.  0E:02F2  11 0C               		db $11,$0C
     129.  0E:02F4  11 0A               		db $11,$0A
     130.  0E:02F6                      .rst_i7:
     131.  0E:02F6  11 09               		db $11,$09
     132.  0E:02F8  11 0A               		db $11,$0A
     133.  0E:02FA  11 0A               		db $11,$0A
     134.  0E:02FC  11 0A               		db $11,$0A
     135.  0E:02FE  19 0A               		db $19,$0A
     136.  0E:0300  F6 02               		dw .rst_i7
     137.  0E:0302                      .ins_8:						; PSG Lead        
     138.  0E:0302  00                  		db 0					; Waveform (was 0)
     139.  0E:0303  11 0A               		db $11,$0A
     140.  0E:0305  11 0B               		db $11,$0B
     141.  0E:0307  11 0C               		db $11,$0C
     142.  0E:0309  11 0D               		db $11,$0D
     143.  0E:030B  11 0E               		db $11,$0E
     144.  0E:030D  11 0F               		db $11,$0F
     145.  0E:030F  11 0F               		db $11,$0F
     146.  0E:0311  11 0F               		db $11,$0F
     147.  0E:0313                      .rst_i8:
     148.  0E:0313  19 0F               		db $19,$0F
     149.  0E:0315  13 03               		dw .rst_i8
     150.  0E:0317                      .ins_9:						; PGS String snake
     151.  0E:0317  00                  		db 0					; Waveform (was 0)
     152.  0E:0318  11 0A               		db $11,$0A
     153.  0E:031A  11 0B               		db $11,$0B
     154.  0E:031C  11 0C               		db $11,$0C
     155.  0E:031E  11 0D               		db $11,$0D
     156.  0E:0320  11 0E               		db $11,$0E
     157.  0E:0322  11 0F               		db $11,$0F
     158.  0E:0324  11 0F               		db $11,$0F
     159.  0E:0326  11 0F               		db $11,$0F
     160.  0E:0328  11 0F               		db $11,$0F
     161.  0E:032A  11 0F               		db $11,$0F
     162.  0E:032C  11 0F               		db $11,$0F
     163.  0E:032E  11 0F               		db $11,$0F
     164.  0E:0330  11 0E               		db $11,$0E
     165.  0E:0332  11 0E               		db $11,$0E
     166.  0E:0334  11 0E               		db $11,$0E
     167.  0E:0336  11 0E               		db $11,$0E
     168.  0E:0338  11 0E               		db $11,$0E
     169.  0E:033A  11 0D               		db $11,$0D
     170.  0E:033C  11 0D               		db $11,$0D
     171.  0E:033E  11 0D               		db $11,$0D
     172.  0E:0340                      .rst_i9:
     173.  0E:0340  15 0D 01 00         		db $15,$0D,$01,$00
     174.  0E:0344  11 0D               		db $11,$0D
     175.  0E:0346  15 0D 01 00         		db $15,$0D,$01,$00
     176.  0E:034A  11 0D               		db $11,$0D
     177.  0E:034C  15 0D 01 00         		db $15,$0D,$01,$00
     178.  0E:0350  11 0D               		db $11,$0D
     179.  0E:0352  15 0D FF FF         		db $15,$0D,$FF,$FF
     180.  0E:0356  11 0D               		db $11,$0D
     181.  0E:0358  15 0D FF FF         		db $15,$0D,$FF,$FF
     182.  0E:035C  11 0D               		db $11,$0D
     183.  0E:035E  15 0D FF FF         		db $15,$0D,$FF,$FF
     184.  0E:0362  19 0D               		db $19,$0D
     185.  0E:0364  40 03               		dw .rst_i9
     186.  0E:0366                      .ins_10:						; SC Bass         
     187.  0E:0366  08                  		db 8					; Waveform (was 1)
     188.  0E:0367  11 0F               		db $11,$0F
     189.  0E:0369  11 0A               		db $11,$0A
     190.  0E:036B  11 0A               		db $11,$0A
     191.  0E:036D  11 0A               		db $11,$0A
     192.  0E:036F  11 0A               		db $11,$0A
     193.  0E:0371  11 0A               		db $11,$0A
     194.  0E:0373  11 0A               		db $11,$0A
     195.  0E:0375  11 0A               		db $11,$0A
     196.  0E:0377  11 0A               		db $11,$0A
     197.  0E:0379  11 0A               		db $11,$0A
     198.  0E:037B  11 0A               		db $11,$0A
     199.  0E:037D  11 07               		db $11,$07
     200.  0E:037F  11 07               		db $11,$07
     201.  0E:0381  11 07               		db $11,$07
     202.  0E:0383  11 07               		db $11,$07
     203.  0E:0385  11 06               		db $11,$06
     204.  0E:0387  11 05               		db $11,$05
     205.  0E:0389  11 04               		db $11,$04
     206.  0E:038B  11 03               		db $11,$03
     207.  0E:038D                      .rst_i10:
     208.  0E:038D  19 02               		db $19,$02
     209.  0E:038F  8D 03               		dw .rst_i10
     210.  0E:0391                      .ins_11:						; SC Piano        
     211.  0E:0391  10                  		db 16					; Waveform (was 2)
     212.  0E:0392  11 0F               		db $11,$0F
     213.  0E:0394  11 0E               		db $11,$0E
     214.  0E:0396  11 0D               		db $11,$0D
     215.  0E:0398  11 0D               		db $11,$0D
     216.  0E:039A  11 0D               		db $11,$0D
     217.  0E:039C  11 0D               		db $11,$0D
     218.  0E:039E  11 0D               		db $11,$0D
     219.  0E:03A0  11 0C               		db $11,$0C
     220.  0E:03A2  11 0C               		db $11,$0C
     221.  0E:03A4  11 0B               		db $11,$0B
     222.  0E:03A6  11 0B               		db $11,$0B
     223.  0E:03A8  11 0A               		db $11,$0A
     224.  0E:03AA  11 09               		db $11,$09
     225.  0E:03AC  11 08               		db $11,$08
     226.  0E:03AE  11 07               		db $11,$07
     227.  0E:03B0  11 06               		db $11,$06
     228.  0E:03B2  11 05               		db $11,$05
     229.  0E:03B4  11 04               		db $11,$04
     230.  0E:03B6  11 03               		db $11,$03
     231.  0E:03B8                      .rst_i11:
     232.  0E:03B8  19 02               		db $19,$02
     233.  0E:03BA  B8 03               		dw .rst_i11
     234.  0E:03BC                      .ins_12:						; SC Lead         
     235.  0E:03BC  38                  		db 56					; Waveform (was 10)
     236.  0E:03BD  11 0A               		db $11,$0A
     237.  0E:03BF  11 0B               		db $11,$0B
     238.  0E:03C1  11 0C               		db $11,$0C
     239.  0E:03C3  11 0D               		db $11,$0D
     240.  0E:03C5  11 0E               		db $11,$0E
     241.  0E:03C7  11 0F               		db $11,$0F
     242.  0E:03C9  11 0F               		db $11,$0F
     243.  0E:03CB  11 0F               		db $11,$0F
     244.  0E:03CD                      .rst_i12:
     245.  0E:03CD  19 0F               		db $19,$0F
     246.  0E:03CF  CD 03               		dw .rst_i12
     247.  0E:03D1                      .ins_13:						; SC Bell         
     248.  0E:03D1  18                  		db 24					; Waveform (was 4)
     249.  0E:03D2  11 0F               		db $11,$0F
     250.  0E:03D4  11 09               		db $11,$09
     251.  0E:03D6  11 09               		db $11,$09
     252.  0E:03D8  11 09               		db $11,$09
     253.  0E:03DA  11 09               		db $11,$09
     254.  0E:03DC  11 09               		db $11,$09
     255.  0E:03DE  11 09               		db $11,$09
     256.  0E:03E0  11 08               		db $11,$08
     257.  0E:03E2  11 07               		db $11,$07
     258.  0E:03E4  11 06               		db $11,$06
     259.  0E:03E6  11 05               		db $11,$05
     260.  0E:03E8  11 04               		db $11,$04
     261.  0E:03EA                      .rst_i13:
     262.  0E:03EA  19 03               		db $19,$03
     263.  0E:03EC  EA 03               		dw .rst_i13
     264.  0E:03EE                      .ins_14:						; SC Pad LOW      
     265.  0E:03EE  20                  		db 32					; Waveform (was 5)
     266.  0E:03EF  11 03               		db $11,$03
     267.  0E:03F1  11 05               		db $11,$05
     268.  0E:03F3  11 08               		db $11,$08
     269.  0E:03F5  11 0A               		db $11,$0A
     270.  0E:03F7  11 0A               		db $11,$0A
     271.  0E:03F9  11 0B               		db $11,$0B
     272.  0E:03FB  11 0B               		db $11,$0B
     273.  0E:03FD  11 0B               		db $11,$0B
     274.  0E:03FF                      .rst_i14:
     275.  0E:03FF  19 0B               		db $19,$0B
     276.  0E:0401  FF 03               		dw .rst_i14
     277.  0E:0403                      .ins_15:						; SC PianoBell    
     278.  0E:0403  28                  		db 40					; Waveform (was 6)
     279.  0E:0404  11 0F               		db $11,$0F
     280.  0E:0406  11 08               		db $11,$08
     281.  0E:0408  11 09               		db $11,$09
     282.  0E:040A  11 09               		db $11,$09
     283.  0E:040C  11 09               		db $11,$09
     284.  0E:040E  11 09               		db $11,$09
     285.  0E:0410  11 09               		db $11,$09
     286.  0E:0412  11 09               		db $11,$09
     287.  0E:0414  11 09               		db $11,$09
     288.  0E:0416  11 09               		db $11,$09
     289.  0E:0418  11 09               		db $11,$09
     290.  0E:041A  11 09               		db $11,$09
     291.  0E:041C  11 09               		db $11,$09
     292.  0E:041E  11 08               		db $11,$08
     293.  0E:0420  11 07               		db $11,$07
     294.  0E:0422  11 06               		db $11,$06
     295.  0E:0424  11 05               		db $11,$05
     296.  0E:0426  11 04               		db $11,$04
     297.  0E:0428  11 03               		db $11,$03
     298.  0E:042A                      .rst_i15:
     299.  0E:042A  19 02               		db $19,$02
     300.  0E:042C  2A 04               		dw .rst_i15
     301.  0E:042E                      .ins_16:						; SC Flute        
     302.  0E:042E  48                  		db 72					; Waveform (was 12)
     303.  0E:042F  11 0A               		db $11,$0A
     304.  0E:0431  11 0B               		db $11,$0B
     305.  0E:0433  11 0D               		db $11,$0D
     306.  0E:0435  11 0C               		db $11,$0C
     307.  0E:0437  11 0E               		db $11,$0E
     308.  0E:0439  11 0E               		db $11,$0E
     309.  0E:043B  11 0E               		db $11,$0E
     310.  0E:043D  11 0E               		db $11,$0E
     311.  0E:043F                      .rst_i16:
     312.  0E:043F  19 0E               		db $19,$0E
     313.  0E:0441  3F 04               		dw .rst_i16
     314.  0E:0443                      .ins_17:						; SC Flute2       
     315.  0E:0443                      .ins_18:						; SC HI HITS      
     316.  0E:0443  20                  		db 32					; Waveform (was 5)
     317.  0E:0444  11 0F               		db $11,$0F
     318.  0E:0446  11 0C               		db $11,$0C
     319.  0E:0448  11 0C               		db $11,$0C
     320.  0E:044A  11 0A               		db $11,$0A
     321.  0E:044C  11 09               		db $11,$09
     322.  0E:044E  11 07               		db $11,$07
     323.  0E:0450  11 06               		db $11,$06
     324.  0E:0452  11 04               		db $11,$04
     325.  0E:0454  11 02               		db $11,$02
     326.  0E:0456                      .rst_i18:
     327.  0E:0456  19 02               		db $19,$02
     328.  0E:0458  56 04               		dw .rst_i18
     329.  0E:045A                      .ins_19:						; SC Sawlead      
     330.  0E:045A                      .ins_20:						; SC Brass        
     331.  0E:045A  38                  		db 56					; Waveform (was 10)
     332.  0E:045B  11 0F               		db $11,$0F
     333.  0E:045D  11 0D               		db $11,$0D
     334.  0E:045F  11 0D               		db $11,$0D
     335.  0E:0461  11 0D               		db $11,$0D
     336.  0E:0463  11 0D               		db $11,$0D
     337.  0E:0465  11 0D               		db $11,$0D
     338.  0E:0467  11 0D               		db $11,$0D
     339.  0E:0469  11 0D               		db $11,$0D
     340.  0E:046B                      .rst_i20:
     341.  0E:046B  19 0D               		db $19,$0D
     342.  0E:046D  6B 04               		dw .rst_i20
     343.  0E:046F                      .ins_21:						; SD Tom          
     344.  0E:046F  40                  		db 64					; Waveform (was 11)
     345.  0E:0470  15 0F 2A 00         		db $15,$0F,$2A,$00
     346.  0E:0474  15 0C 2A 00         		db $15,$0C,$2A,$00
     347.  0E:0478                      .rst_i21:
     348.  0E:0478  14 2A 00            		db $14,$2A,$00
     349.  0E:047B  1F FF 2A 00         		db $1F,$FF,$2A,$00
     350.  0E:047F  78 04               		dw .rst_i21
     351.  0E:0481                      .ins_22:						; SC Bass         
     352.  0E:0481                      .ins_23:						; SC Snake OD Gtr 
     353.  0E:0481                      .ins_24:						; SC SlowStringsnk
     354.  0E:0481  30                  		db 48					; Waveform (was 7)
     355.  0E:0482  11 06               		db $11,$06
     356.  0E:0484  11 07               		db $11,$07
     357.  0E:0486  11 08               		db $11,$08
     358.  0E:0488  11 09               		db $11,$09
     359.  0E:048A  11 0A               		db $11,$0A
     360.  0E:048C  11 0A               		db $11,$0A
     361.  0E:048E  11 0B               		db $11,$0B
     362.  0E:0490  11 0B               		db $11,$0B
     363.  0E:0492  11 0C               		db $11,$0C
     364.  0E:0494  11 0D               		db $11,$0D
     365.  0E:0496  11 0E               		db $11,$0E
     366.  0E:0498  11 0F               		db $11,$0F
     367.  0E:049A  11 0F               		db $11,$0F
     368.  0E:049C  11 0F               		db $11,$0F
     369.  0E:049E  11 0F               		db $11,$0F
     370.  0E:04A0  11 0F               		db $11,$0F
     371.  0E:04A2  11 0F               		db $11,$0F
     372.  0E:04A4  11 0F               		db $11,$0F
     373.  0E:04A6  11 0F               		db $11,$0F
     374.  0E:04A8  11 0F               		db $11,$0F
     375.  0E:04AA  11 0F               		db $11,$0F
     376.  0E:04AC  11 0F               		db $11,$0F
     377.  0E:04AE                      .rst_i24:
     378.  0E:04AE  15 0F 01 00         		db $15,$0F,$01,$00
     379.  0E:04B2  15 0F 01 00         		db $15,$0F,$01,$00
     380.  0E:04B6  15 0F 01 00         		db $15,$0F,$01,$00
     381.  0E:04BA  15 0F 01 00         		db $15,$0F,$01,$00
     382.  0E:04BE  15 0F 01 00         		db $15,$0F,$01,$00
     383.  0E:04C2  15 0F FF FF         		db $15,$0F,$FF,$FF
     384.  0E:04C6  15 0F FF FF         		db $15,$0F,$FF,$FF
     385.  0E:04CA  15 0F FF FF         		db $15,$0F,$FF,$FF
     386.  0E:04CE  15 0F FF FF         		db $15,$0F,$FF,$FF
     387.  0E:04D2  1D 0F FF FF         		db $1D,$0F,$FF,$FF
     388.  0E:04D6  AE 04               		dw .rst_i24
     389.  0E:04D8                      .ins_25:						; SC String solid 
     390.  0E:04D8                      .ins_26:						; SC Piano3       
     391.  0E:04D8  58                  		db 88					; Waveform (was 16)
     392.  0E:04D9  11 0F               		db $11,$0F
     393.  0E:04DB  11 0E               		db $11,$0E
     394.  0E:04DD  11 0D               		db $11,$0D
     395.  0E:04DF  11 0D               		db $11,$0D
     396.  0E:04E1  11 0D               		db $11,$0D
     397.  0E:04E3  11 0D               		db $11,$0D
     398.  0E:04E5  11 0D               		db $11,$0D
     399.  0E:04E7  11 0C               		db $11,$0C
     400.  0E:04E9  11 0C               		db $11,$0C
     401.  0E:04EB  11 0B               		db $11,$0B
     402.  0E:04ED  11 0B               		db $11,$0B
     403.  0E:04EF  11 0A               		db $11,$0A
     404.  0E:04F1  11 09               		db $11,$09
     405.  0E:04F3  11 08               		db $11,$08
     406.  0E:04F5  11 07               		db $11,$07
     407.  0E:04F7  11 06               		db $11,$06
     408.  0E:04F9  11 05               		db $11,$05
     409.  0E:04FB  11 04               		db $11,$04
     410.  0E:04FD  11 03               		db $11,$03
     411.  0E:04FF                      .rst_i26:
     412.  0E:04FF  19 02               		db $19,$02
     413.  0E:0501  FF 04               		dw .rst_i26
     414.  0E:0503                      .ins_27:						; SC Piano solid  
     415.  0E:0503  18                  		db 24					; Waveform (was 4)
     416.  0E:0504  11 0F               		db $11,$0F
     417.  0E:0506  11 0A               		db $11,$0A
     418.  0E:0508  11 0A               		db $11,$0A
     419.  0E:050A  11 0A               		db $11,$0A
     420.  0E:050C  11 0A               		db $11,$0A
     421.  0E:050E  11 0A               		db $11,$0A
     422.  0E:0510  11 0A               		db $11,$0A
     423.  0E:0512  11 09               		db $11,$09
     424.  0E:0514                      .rst_i27:
     425.  0E:0514  39 09 0B            		db $39,$09,$0B
     426.  0E:0517  14 05               		dw .rst_i27
     427.  0E:0519                      .ins_28:						; SC Piano sol LOW
     428.  0E:0519                      .ins_29:						; SC Pian SnakeLOW
     429.  0E:0519                      .ins_30:						; SC Mantabrass sn
     430.  0E:0519                      .ins_31:						; SC Brass Snend  
     431.  0E:0519  50                  		db 80					; Waveform (was 14)
     432.  0E:051A  11 0F               		db $11,$0F
     433.  0E:051C  11 0D               		db $11,$0D
     434.  0E:051E  11 0C               		db $11,$0C
     435.  0E:0520  11 0C               		db $11,$0C
     436.  0E:0522  11 0A               		db $11,$0A
     437.  0E:0524  11 08               		db $11,$08
     438.  0E:0526                      .rst_i31:
     439.  0E:0526  19 08               		db $19,$08
     440.  0E:0528  26 05               		dw .rst_i31
     441.  0E:052A                      
     442.  0E:052A                      ; [ Song track data ]
     443.  0E:052A                      .track_0:
     444.  0E:052A  12                  	db $12		;[Note] 19
     445.  0E:052B  6F                  	db $6F		;[Volume] 15
     446.  0E:052C  70                  	db $70		;[Instrument] 1
     447.  0E:052D  C1                  	db $C1		;[Wait] 2
     448.  0E:052E  5F                  	db $5F		;[Note] 96
     449.  0E:052F  6E                  	db $6E		;[Volume] 14
     450.  0E:0530  72                  	db $72		;[Instrument] 3
     451.  0E:0531  C0                  	db $C0		;[Wait] 1
     452.  0E:0532  5F                  	db $5F		;[Note] 96
     453.  0E:0533  6D                  	db $6D		;[Volume] 13
     454.  0E:0534                      				;[Skip delay] 1
     455.  0E:0534  5F                  	db $5F		;[Note] 96
     456.  0E:0535  6E                  	db $6E		;[Volume] 14
     457.  0E:0536  C1                  	db $C1		;[Wait] 2
     458.  0E:0537  5F                  	db $5F		;[Note] 96
     459.  0E:0538  73                  	db $73		;[Instrument] 4
     460.  0E:0539                      				;[Skip delay] 2
     461.  0E:0539  12                  	db $12		;[Note] 19
     462.  0E:053A  6F                  	db $6F		;[Volume] 15
     463.  0E:053B  70                  	db $70		;[Instrument] 1
     464.  0E:053C                      				;[Skip delay] 2
     465.  0E:053C  5F                  	db $5F		;[Note] 96
     466.  0E:053D  6E                  	db $6E		;[Volume] 14
     467.  0E:053E  72                  	db $72		;[Instrument] 3
     468.  0E:053F                      				;[Skip delay] 2
     469.  0E:053F  5F                  	db $5F		;[Note] 96
     470.  0E:0540  6D                  	db $6D		;[Volume] 13
     471.  0E:0541  C0                  	db $C0		;[Wait] 1
     472.  0E:0542  60                  	db $60		;[Note] 97
     473.  0E:0543                      				;[Skip delay] 1
     474.  0E:0543  12                  	db $12		;[Note] 19
     475.  0E:0544  70                  	db $70		;[Instrument] 1
     476.  0E:0545  C1                  	db $C1		;[Wait] 2
     477.  0E:0546  5F                  	db $5F		;[Note] 96
     478.  0E:0547  6E                  	db $6E		;[Volume] 14
     479.  0E:0548  72                  	db $72		;[Instrument] 3
     480.  0E:0549                      				;[Skip delay] 2
     481.  0E:0549  5F                  	db $5F		;[Note] 96
     482.  0E:054A  73                  	db $73		;[Instrument] 4
     483.  0E:054B                      				;[Skip delay] 2
     484.  0E:054B  12                  	db $12		;[Note] 19
     485.  0E:054C  70                  	db $70		;[Instrument] 1
     486.  0E:054D                      				;[Skip delay] 2
     487.  0E:054D  5F                  	db $5F		;[Note] 96
     488.  0E:054E  72                  	db $72		;[Instrument] 3
     489.  0E:054F                      				;[Skip delay] 2
     490.  0E:054F  5F                  	db $5F		;[Note] 96
     491.  0E:0550                      				;[Skip delay] 2
     492.  0E:0550  5F                  	db $5F		;[Note] 96
     493.  0E:0551  C0                  	db $C0		;[Wait] 1
     494.  0E:0552  5F                  	db $5F		;[Note] 96
     495.  0E:0553  6D                  	db $6D		;[Volume] 13
     496.  0E:0554                      				;[Skip delay] 1
     497.  0E:0554  5F                  	db $5F		;[Note] 96
     498.  0E:0555  6E                  	db $6E		;[Volume] 14
     499.  0E:0556  C1                  	db $C1		;[Wait] 2
     500.  0E:0557  5F                  	db $5F		;[Note] 96
     501.  0E:0558                      				;[Skip delay] 2
     502.  0E:0558  12                  	db $12		;[Note] 19
     503.  0E:0559  6F                  	db $6F		;[Volume] 15
     504.  0E:055A  70                  	db $70		;[Instrument] 1
     505.  0E:055B                      				;[Skip delay] 2
     506.  0E:055B  5F                  	db $5F		;[Note] 96
     507.  0E:055C  6E                  	db $6E		;[Volume] 14
     508.  0E:055D  72                  	db $72		;[Instrument] 3
     509.  0E:055E  C0                  	db $C0		;[Wait] 1
     510.  0E:055F  5F                  	db $5F		;[Note] 96
     511.  0E:0560  6D                  	db $6D		;[Volume] 13
     512.  0E:0561                      				;[Skip delay] 1
     513.  0E:0561  5F                  	db $5F		;[Note] 96
     514.  0E:0562  6E                  	db $6E		;[Volume] 14
     515.  0E:0563  C1                  	db $C1		;[Wait] 2
     516.  0E:0564  5F                  	db $5F		;[Note] 96
     517.  0E:0565  73                  	db $73		;[Instrument] 4
     518.  0E:0566                      				;[Skip delay] 2
     519.  0E:0566  1F                  	db $1F		;[Note] 32
     520.  0E:0567  6F                  	db $6F		;[Volume] 15
     521.  0E:0568  71                  	db $71		;[Instrument] 2
     522.  0E:0569                      				;[Skip delay] 2
     523.  0E:0569  5F                  	db $5F		;[Note] 96
     524.  0E:056A  6D                  	db $6D		;[Volume] 13
     525.  0E:056B  72                  	db $72		;[Instrument] 3
     526.  0E:056C                      				;[Skip delay] 2
     527.  0E:056C  5F                  	db $5F		;[Note] 96
     528.  0E:056D  6A                  	db $6A		;[Volume] 10
     529.  0E:056E  C0                  	db $C0		;[Wait] 1
     530.  0E:056F  60                  	db $60		;[Note] 97
     531.  0E:0570                      				;[Skip delay] 1
     532.  0E:0570  12                  	db $12		;[Note] 19
     533.  0E:0571  6F                  	db $6F		;[Volume] 15
     534.  0E:0572  70                  	db $70		;[Instrument] 1
     535.  0E:0573  C1                  	db $C1		;[Wait] 2
     536.  0E:0574  5F                  	db $5F		;[Note] 96
     537.  0E:0575  6D                  	db $6D		;[Volume] 13
     538.  0E:0576  72                  	db $72		;[Instrument] 3
     539.  0E:0577                      				;[Skip delay] 2
     540.  0E:0577  5F                  	db $5F		;[Note] 96
     541.  0E:0578  73                  	db $73		;[Instrument] 4
     542.  0E:0579                      				;[Skip delay] 2
     543.  0E:0579  12                  	db $12		;[Note] 19
     544.  0E:057A  70                  	db $70		;[Instrument] 1
     545.  0E:057B                      				;[Skip delay] 2
     546.  0E:057B  5F                  	db $5F		;[Note] 96
     547.  0E:057C  72                  	db $72		;[Instrument] 3
     548.  0E:057D                      				;[Skip delay] 2
     549.  0E:057D  5F                  	db $5F		;[Note] 96
     550.  0E:057E                      				;[Skip delay] 2
     551.  0E:057E  5F                  	db $5F		;[Note] 96
     552.  0E:057F  C0                  	db $C0		;[Wait] 1
     553.  0E:0580  5F                  	db $5F		;[Note] 96
     554.  0E:0581  6B                  	db $6B		;[Volume] 11
     555.  0E:0582                      				;[Skip delay] 1
     556.  0E:0582  23                  	db $23		;[Note] 36
     557.  0E:0583  6F                  	db $6F		;[Volume] 15
     558.  0E:0584  75                  	db $75		;[Instrument] 6
     559.  0E:0585  C1                  	db $C1		;[Wait] 2
     560.  0E:0586  1D                  	db $1D		;[Note] 30
     561.  0E:0587  C0                  	db $C0		;[Wait] 1
     562.  0E:0588  15                  	db $15		;[Note] 22
     563.  0E:0589                      				;[Skip delay] 1
     564.  0E:0589  BF                  	db $BF		;[End-Of-Track]
     565.  0E:058A                      .track_1:
     566.  0E:058A  18                  	db $18		;[Note] 25
     567.  0E:058B  6F                  	db $6F		;[Volume] 15
     568.  0E:058C  76                  	db $76		;[Instrument] 7
     569.  0E:058D  95 00               	db $95, $00	; track detune
     570.  0E:058F  C0                  	db $C0		;[Wait] 1
     571.  0E:0590  94 01               	db $94, $01	; vibrato control
     572.  0E:0592                      				;[Skip delay] 1
     573.  0E:0592  13                  	db $13		;[Note] 20
     574.  0E:0593  C1                  	db $C1		;[Wait] 2
     575.  0E:0594  15                  	db $15		;[Note] 22
     576.  0E:0595                      				;[Skip delay] 2
     577.  0E:0595  18                  	db $18		;[Note] 25
     578.  0E:0596  C0                  	db $C0		;[Wait] 1
     579.  0E:0597  A7 55               	db $A7, $55	;[CMD vibrato]
     580.  0E:0599                      				;[Skip delay] 1
     581.  0E:0599  B1 02               	db $B1, $02	;[CMD vibrato] rep
     582.  0E:059B  C1                  	db $C1		;[Wait] 2
     583.  0E:059C  13                  	db $13		;[Note] 20
     584.  0E:059D                      				;[Skip delay] 2
     585.  0E:059D  15                  	db $15		;[Note] 22
     586.  0E:059E                      				;[Skip delay] 2
     587.  0E:059E  16                  	db $16		;[Note] 23
     588.  0E:059F  C2                  	db $C2		;[Wait] 3
     589.  0E:05A0  6B                  	db $6B		;[Volume] 11
     590.  0E:05A1  C0                  	db $C0		;[Wait] 1
     591.  0E:05A2  16                  	db $16		;[Note] 23
     592.  0E:05A3  6F                  	db $6F		;[Volume] 15
     593.  0E:05A4  C1                  	db $C1		;[Wait] 2
     594.  0E:05A5  15                  	db $15		;[Note] 22
     595.  0E:05A6  C3                  	db $C3		;[Wait] 4
     596.  0E:05A7  13                  	db $13		;[Note] 20
     597.  0E:05A8  C1                  	db $C1		;[Wait] 2
     598.  0E:05A9  11                  	db $11		;[Note] 18
     599.  0E:05AA  C3                  	db $C3		;[Wait] 4
     600.  0E:05AB  13                  	db $13		;[Note] 20
     601.  0E:05AC  C1                  	db $C1		;[Wait] 2
     602.  0E:05AD  15                  	db $15		;[Note] 22
     603.  0E:05AE                      				;[Skip delay] 2
     604.  0E:05AE  15                  	db $15		;[Note] 22
     605.  0E:05AF                      				;[Skip delay] 2
     606.  0E:05AF  15                  	db $15		;[Note] 22
     607.  0E:05B0                      				;[Skip delay] 2
     608.  0E:05B0  15                  	db $15		;[Note] 22
     609.  0E:05B1                      				;[Skip delay] 2
     610.  0E:05B1  13                  	db $13		;[Note] 20
     611.  0E:05B2                      				;[Skip delay] 2
     612.  0E:05B2  13                  	db $13		;[Note] 20
     613.  0E:05B3                      				;[Skip delay] 2
     614.  0E:05B3  13                  	db $13		;[Note] 20
     615.  0E:05B4                      				;[Skip delay] 2
     616.  0E:05B4  13                  	db $13		;[Note] 20
     617.  0E:05B5                      				;[Skip delay] 2
     618.  0E:05B5  11                  	db $11		;[Note] 18
     619.  0E:05B6                      				;[Skip delay] 2
     620.  0E:05B6  11                  	db $11		;[Note] 18
     621.  0E:05B7                      				;[Skip delay] 2
     622.  0E:05B7  11                  	db $11		;[Note] 18
     623.  0E:05B8                      				;[Skip delay] 2
     624.  0E:05B8  11                  	db $11		;[Note] 18
     625.  0E:05B9                      				;[Skip delay] 2
     626.  0E:05B9  11                  	db $11		;[Note] 18
     627.  0E:05BA                      				;[Skip delay] 2
     628.  0E:05BA  11                  	db $11		;[Note] 18
     629.  0E:05BB  C0                  	db $C0		;[Wait] 1
     630.  0E:05BC  11                  	db $11		;[Note] 18
     631.  0E:05BD                      				;[Skip delay] 1
     632.  0E:05BD  13                  	db $13		;[Note] 20
     633.  0E:05BE  C1                  	db $C1		;[Wait] 2
     634.  0E:05BF  13                  	db $13		;[Note] 20
     635.  0E:05C0  C0                  	db $C0		;[Wait] 1
     636.  0E:05C1  13                  	db $13		;[Note] 20
     637.  0E:05C2                      				;[Skip delay] 1
     638.  0E:05C2  BF                  	db $BF		;[End-Of-Track]
     639.  0E:05C3                      .track_2:
     640.  0E:05C3  1F                  	db $1F		;[Note] 32
     641.  0E:05C4  6B                  	db $6B		;[Volume] 11
     642.  0E:05C5  78                  	db $78		;[Instrument] 9
     643.  0E:05C6  95 00               	db $95, $00	; track detune
     644.  0E:05C8  C0                  	db $C0		;[Wait] 1
     645.  0E:05C9  6C                  	db $6C		;[Volume] 12
     646.  0E:05CA  94 01               	db $94, $01	; vibrato control
     647.  0E:05CC  C4                  	db $C4		;[Wait] 5
     648.  0E:05CD  24                  	db $24		;[Note] 37
     649.  0E:05CE  C9                  	db $C9		;[Wait] 10
     650.  0E:05CF  1F                  	db $1F		;[Note] 32
     651.  0E:05D0  C7                  	db $C7		;[Wait] 8
     652.  0E:05D1  26                  	db $26		;[Note] 39
     653.  0E:05D2  C5                  	db $C5		;[Wait] 6
     654.  0E:05D3  60                  	db $60		;[Note] 97
     655.  0E:05D4  C1                  	db $C1		;[Wait] 2
     656.  0E:05D5  09                  	db $09		;[Note] 10
     657.  0E:05D6  76                  	db $76		;[Instrument] 7
     658.  0E:05D7                      				;[Skip delay] 2
     659.  0E:05D7  09                  	db $09		;[Note] 10
     660.  0E:05D8                      				;[Skip delay] 2
     661.  0E:05D8  09                  	db $09		;[Note] 10
     662.  0E:05D9                      				;[Skip delay] 2
     663.  0E:05D9  09                  	db $09		;[Note] 10
     664.  0E:05DA                      				;[Skip delay] 2
     665.  0E:05DA  07                  	db $07		;[Note] 8
     666.  0E:05DB  6F                  	db $6F		;[Volume] 15
     667.  0E:05DC                      				;[Skip delay] 2
     668.  0E:05DC  07                  	db $07		;[Note] 8
     669.  0E:05DD                      				;[Skip delay] 2
     670.  0E:05DD  07                  	db $07		;[Note] 8
     671.  0E:05DE                      				;[Skip delay] 2
     672.  0E:05DE  07                  	db $07		;[Note] 8
     673.  0E:05DF                      				;[Skip delay] 2
     674.  0E:05DF  05                  	db $05		;[Note] 6
     675.  0E:05E0                      				;[Skip delay] 2
     676.  0E:05E0  05                  	db $05		;[Note] 6
     677.  0E:05E1                      				;[Skip delay] 2
     678.  0E:05E1  05                  	db $05		;[Note] 6
     679.  0E:05E2                      				;[Skip delay] 2
     680.  0E:05E2  05                  	db $05		;[Note] 6
     681.  0E:05E3                      				;[Skip delay] 2
     682.  0E:05E3  05                  	db $05		;[Note] 6
     683.  0E:05E4  C0                  	db $C0		;[Wait] 1
     684.  0E:05E5  6E                  	db $6E		;[Volume] 14
     685.  0E:05E6                      				;[Skip delay] 1
     686.  0E:05E6  05                  	db $05		;[Note] 6
     687.  0E:05E7  6D                  	db $6D		;[Volume] 13
     688.  0E:05E8                      				;[Skip delay] 1
     689.  0E:05E8  05                  	db $05		;[Note] 6
     690.  0E:05E9  6B                  	db $6B		;[Volume] 11
     691.  0E:05EA                      				;[Skip delay] 1
     692.  0E:05EA  07                  	db $07		;[Note] 8
     693.  0E:05EB  6A                  	db $6A		;[Volume] 10
     694.  0E:05EC  C1                  	db $C1		;[Wait] 2
     695.  0E:05ED  07                  	db $07		;[Note] 8
     696.  0E:05EE  C0                  	db $C0		;[Wait] 1
     697.  0E:05EF  07                  	db $07		;[Note] 8
     698.  0E:05F0                      				;[Skip delay] 1
     699.  0E:05F0  BF                  	db $BF		;[End-Of-Track]
     700.  0E:05F1                      .track_3:
     701.  0E:05F1  18                  	db $18		;[Note] 25
     702.  0E:05F2  6F                  	db $6F		;[Volume] 15
     703.  0E:05F3  79                  	db $79		;[Instrument] 10
     704.  0E:05F4  95 00               	db $95, $00	; track detune
     705.  0E:05F6  C0                  	db $C0		;[Wait] 1
     706.  0E:05F7  94 01               	db $94, $01	; vibrato control
     707.  0E:05F9                      				;[Skip delay] 1
     708.  0E:05F9  13                  	db $13		;[Note] 20
     709.  0E:05FA  C1                  	db $C1		;[Wait] 2
     710.  0E:05FB  15                  	db $15		;[Note] 22
     711.  0E:05FC                      				;[Skip delay] 2
     712.  0E:05FC  18                  	db $18		;[Note] 25
     713.  0E:05FD  C3                  	db $C3		;[Wait] 4
     714.  0E:05FE  13                  	db $13		;[Note] 20
     715.  0E:05FF  C1                  	db $C1		;[Wait] 2
     716.  0E:0600  15                  	db $15		;[Note] 22
     717.  0E:0601                      				;[Skip delay] 2
     718.  0E:0601  16                  	db $16		;[Note] 23
     719.  0E:0602  C3                  	db $C3		;[Wait] 4
     720.  0E:0603  16                  	db $16		;[Note] 23
     721.  0E:0604  C1                  	db $C1		;[Wait] 2
     722.  0E:0605  15                  	db $15		;[Note] 22
     723.  0E:0606  C3                  	db $C3		;[Wait] 4
     724.  0E:0607  13                  	db $13		;[Note] 20
     725.  0E:0608  C1                  	db $C1		;[Wait] 2
     726.  0E:0609  11                  	db $11		;[Note] 18
     727.  0E:060A  C3                  	db $C3		;[Wait] 4
     728.  0E:060B  13                  	db $13		;[Note] 20
     729.  0E:060C  C1                  	db $C1		;[Wait] 2
     730.  0E:060D  15                  	db $15		;[Note] 22
     731.  0E:060E                      				;[Skip delay] 2
     732.  0E:060E  15                  	db $15		;[Note] 22
     733.  0E:060F                      				;[Skip delay] 2
     734.  0E:060F  15                  	db $15		;[Note] 22
     735.  0E:0610                      				;[Skip delay] 2
     736.  0E:0610  15                  	db $15		;[Note] 22
     737.  0E:0611                      				;[Skip delay] 2
     738.  0E:0611  13                  	db $13		;[Note] 20
     739.  0E:0612                      				;[Skip delay] 2
     740.  0E:0612  13                  	db $13		;[Note] 20
     741.  0E:0613                      				;[Skip delay] 2
     742.  0E:0613  13                  	db $13		;[Note] 20
     743.  0E:0614                      				;[Skip delay] 2
     744.  0E:0614  13                  	db $13		;[Note] 20
     745.  0E:0615                      				;[Skip delay] 2
     746.  0E:0615  11                  	db $11		;[Note] 18
     747.  0E:0616                      				;[Skip delay] 2
     748.  0E:0616  11                  	db $11		;[Note] 18
     749.  0E:0617                      				;[Skip delay] 2
     750.  0E:0617  11                  	db $11		;[Note] 18
     751.  0E:0618                      				;[Skip delay] 2
     752.  0E:0618  11                  	db $11		;[Note] 18
     753.  0E:0619                      				;[Skip delay] 2
     754.  0E:0619  11                  	db $11		;[Note] 18
     755.  0E:061A                      				;[Skip delay] 2
     756.  0E:061A  11                  	db $11		;[Note] 18
     757.  0E:061B  C0                  	db $C0		;[Wait] 1
     758.  0E:061C  11                  	db $11		;[Note] 18
     759.  0E:061D                      				;[Skip delay] 1
     760.  0E:061D  13                  	db $13		;[Note] 20
     761.  0E:061E  C1                  	db $C1		;[Wait] 2
     762.  0E:061F  13                  	db $13		;[Note] 20
     763.  0E:0620  C0                  	db $C0		;[Wait] 1
     764.  0E:0621  13                  	db $13		;[Note] 20
     765.  0E:0622                      				;[Skip delay] 1
     766.  0E:0622  BF                  	db $BF		;[End-Of-Track]
     767.  0E:0623                      .track_4:
     768.  0E:0623  28                  	db $28		;[Note] 41
     769.  0E:0624  68                  	db $68		;[Volume] 8
     770.  0E:0625  89                  	db $89		;[Instrument] 26
     771.  0E:0626  95 00               	db $95, $00	; track detune
     772.  0E:0628  C0                  	db $C0		;[Wait] 1
     773.  0E:0629  94 01               	db $94, $01	; vibrato control
     774.  0E:062B                      				;[Skip delay] 1
     775.  0E:062B  26                  	db $26		;[Note] 39
     776.  0E:062C  C1                  	db $C1		;[Wait] 2
     777.  0E:062D  26                  	db $26		;[Note] 39
     778.  0E:062E                      				;[Skip delay] 2
     779.  0E:062E  28                  	db $28		;[Note] 41
     780.  0E:062F  C3                  	db $C3		;[Wait] 4
     781.  0E:0630  24                  	db $24		;[Note] 37
     782.  0E:0631  C1                  	db $C1		;[Wait] 2
     783.  0E:0632  26                  	db $26		;[Note] 39
     784.  0E:0633                      				;[Skip delay] 2
     785.  0E:0633  28                  	db $28		;[Note] 41
     786.  0E:0634                      				;[Skip delay] 2
     787.  0E:0634  29                  	db $29		;[Note] 42
     788.  0E:0635                      				;[Skip delay] 2
     789.  0E:0635  28                  	db $28		;[Note] 41
     790.  0E:0636                      				;[Skip delay] 2
     791.  0E:0636  28                  	db $28		;[Note] 41
     792.  0E:0637                      				;[Skip delay] 2
     793.  0E:0637  29                  	db $29		;[Note] 42
     794.  0E:0638  C3                  	db $C3		;[Wait] 4
     795.  0E:0639  26                  	db $26		;[Note] 39
     796.  0E:063A  C1                  	db $C1		;[Wait] 2
     797.  0E:063B  28                  	db $28		;[Note] 41
     798.  0E:063C                      				;[Skip delay] 2
     799.  0E:063C  29                  	db $29		;[Note] 42
     800.  0E:063D                      				;[Skip delay] 2
     801.  0E:063D  28                  	db $28		;[Note] 41
     802.  0E:063E                      				;[Skip delay] 2
     803.  0E:063E  24                  	db $24		;[Note] 37
     804.  0E:063F                      				;[Skip delay] 2
     805.  0E:063F  30                  	db $30		;[Note] 49
     806.  0E:0640                      				;[Skip delay] 2
     807.  0E:0640  2D                  	db $2D		;[Note] 46
     808.  0E:0641                      				;[Skip delay] 2
     809.  0E:0641  2B                  	db $2B		;[Note] 44
     810.  0E:0642  C3                  	db $C3		;[Wait] 4
     811.  0E:0643  26                  	db $26		;[Note] 39
     812.  0E:0644  C1                  	db $C1		;[Wait] 2
     813.  0E:0645  26                  	db $26		;[Note] 39
     814.  0E:0646                      				;[Skip delay] 2
     815.  0E:0646  24                  	db $24		;[Note] 37
     816.  0E:0647  C0                  	db $C0		;[Wait] 1
     817.  0E:0648  1D                  	db $1D		;[Note] 30
     818.  0E:0649                      				;[Skip delay] 1
     819.  0E:0649  18                  	db $18		;[Note] 25
     820.  0E:064A  C0                  	db $C0		;[Wait..] 1
     821.  0E:064B  69                  	db $69		;[Volume] 9
     822.  0E:064C                      				;[Skip delay] 1
     823.  0E:064C  68                  	db $68		;[Volume] 8
     824.  0E:064D                      				;[Skip delay] 1
     825.  0E:064D  67                  	db $67		;[Volume] 7
     826.  0E:064E                      				;[Skip delay] 1
     827.  0E:064E  66                  	db $66		;[Volume] 6
     828.  0E:064F                      				;[Skip delay] 1
     829.  0E:064F  64                  	db $64		;[Volume] 4
     830.  0E:0650                      				;[Skip delay] 1
     831.  0E:0650  21                  	db $21		;[Note] 34
     832.  0E:0651  6A                  	db $6A		;[Volume] 10
     833.  0E:0652  81                  	db $81		;[Instrument] 18
     834.  0E:0653  C1                  	db $C1		;[Wait] 2
     835.  0E:0654  21                  	db $21		;[Note] 34
     836.  0E:0655  C0                  	db $C0		;[Wait] 1
     837.  0E:0656  21                  	db $21		;[Note] 34
     838.  0E:0657                      				;[Skip delay] 1
     839.  0E:0657  23                  	db $23		;[Note] 36
     840.  0E:0658  C1                  	db $C1		;[Wait] 2
     841.  0E:0659  23                  	db $23		;[Note] 36
     842.  0E:065A  69                  	db $69		;[Volume] 9
     843.  0E:065B  C0                  	db $C0		;[Wait] 1
     844.  0E:065C  23                  	db $23		;[Note] 36
     845.  0E:065D  67                  	db $67		;[Volume] 7
     846.  0E:065E                      				;[Skip delay] 1
     847.  0E:065E  BF                  	db $BF		;[End-Of-Track]
     848.  0E:065F                      .track_5:
     849.  0E:065F  24                  	db $24		;[Note] 37
     850.  0E:0660  6F                  	db $6F		;[Volume] 15
     851.  0E:0661  87                  	db $87		;[Instrument] 24
     852.  0E:0662  95 00               	db $95, $00	; track detune
     853.  0E:0664  C0                  	db $C0		;[Wait] 1
     854.  0E:0665  94 01               	db $94, $01	; vibrato control
     855.  0E:0667  C4                  	db $C4		;[Wait] 5
     856.  0E:0668  2B                  	db $2B		;[Note] 44
     857.  0E:0669  C4                  	db $C4		;[Wait..] 5
     858.  0E:066A  69                  	db $69		;[Volume] 9
     859.  0E:066B  C1                  	db $C1		;[Wait] 2
     860.  0E:066C  66                  	db $66		;[Volume] 6
     861.  0E:066D  C0                  	db $C0		;[Wait] 1
     862.  0E:066E  64                  	db $64		;[Volume] 4
     863.  0E:066F                      				;[Skip delay] 1
     864.  0E:066F  63                  	db $63		;[Volume] 3
     865.  0E:0670                      				;[Skip delay] 1
     866.  0E:0670  22                  	db $22		;[Note] 35
     867.  0E:0671  66                  	db $66		;[Volume] 6
     868.  0E:0672  C1                  	db $C1		;[Wait] 2
     869.  0E:0673  68                  	db $68		;[Volume] 8
     870.  0E:0674  C0                  	db $C0		;[Wait] 1
     871.  0E:0675  69                  	db $69		;[Volume] 9
     872.  0E:0676  C4                  	db $C4		;[Wait] 5
     873.  0E:0677  29                  	db $29		;[Note] 42
     874.  0E:0678  C4                  	db $C4		;[Wait..] 5
     875.  0E:0679  66                  	db $66		;[Volume] 6
     876.  0E:067A  C0                  	db $C0		;[Wait] 1
     877.  0E:067B  65                  	db $65		;[Volume] 5
     878.  0E:067C                      				;[Skip delay] 1
     879.  0E:067C  64                  	db $64		;[Volume] 4
     880.  0E:067D                      				;[Skip delay] 1
     881.  0E:067D  24                  	db $24		;[Note] 37
     882.  0E:067E  68                  	db $68		;[Volume] 8
     883.  0E:067F  8E                  	db $8E		;[Instrument] 31
     884.  0E:0680  C1                  	db $C1		;[Wait] 2
     885.  0E:0681  A5 05               	db $A5, $05; slide-down
     886.  0E:0683  C0                  	db $C0		;[Wait] 1
     887.  0E:0684  AF 01               	db $AF, $01; slide-down rep
     888.  0E:0686                      				;[Skip delay] 1
     889.  0E:0686  1C                  	db $1C		;[Note] 29
     890.  0E:0687  C3                  	db $C3		;[Wait] 4
     891.  0E:0688  23                  	db $23		;[Note] 36
     892.  0E:0689  C1                  	db $C1		;[Wait] 2
     893.  0E:068A  A5 05               	db $A5, $05; slide-down
     894.  0E:068C  C0                  	db $C0		;[Wait] 1
     895.  0E:068D  AF 01               	db $AF, $01; slide-down rep
     896.  0E:068F                      				;[Skip delay] 1
     897.  0E:068F  1C                  	db $1C		;[Note] 29
     898.  0E:0690  C3                  	db $C3		;[Wait] 4
     899.  0E:0691  21                  	db $21		;[Note] 34
     900.  0E:0692                      				;[Skip delay] 4
     901.  0E:0692  18                  	db $18		;[Note] 25
     902.  0E:0693  C2                  	db $C2		;[Wait] 3
     903.  0E:0694  A7 55               	db $A7, $55	;[CMD vibrato]
     904.  0E:0696  C0                  	db $C0		;[Wait] 1
     905.  0E:0697  B1 05               	db $B1, $05	;[CMD vibrato] rep
     906.  0E:0699  C4                  	db $C4		;[Wait] 5
     907.  0E:069A  A5 10               	db $A5, $10; slide-down
     908.  0E:069C  C0                  	db $C0		;[Wait] 1
     909.  0E:069D  AF 02               	db $AF, $02; slide-down rep
     910.  0E:069F  C1                  	db $C1		;[Wait] 2
     911.  0E:06A0  BF                  	db $BF		;[End-Of-Track]
     912.  0E:06A1                      .track_6:
     913.  0E:06A1  60                  	db $60		;[Note] 97
     914.  0E:06A2  95 00               	db $95, $00	; track detune
     915.  0E:06A4  C0                  	db $C0		;[Wait] 1
     916.  0E:06A5  94 01               	db $94, $01	; vibrato control
     917.  0E:06A7  C2                  	db $C2		;[Wait] 3
     918.  0E:06A8  32                  	db $32		;[Note] 51
     919.  0E:06A9  6D                  	db $6D		;[Volume] 13
     920.  0E:06AA  7B                  	db $7B		;[Instrument] 12
     921.  0E:06AB  C0                  	db $C0		;[Wait] 1
     922.  0E:06AC  34                  	db $34		;[Note] 53
     923.  0E:06AD  A6 10               	db $A6, $10; tone-slide
     924.  0E:06AF                      				;[Skip delay] 1
     925.  0E:06AF  30                  	db $30		;[Note] 49
     926.  0E:06B0  C1                  	db $C1		;[Wait] 2
     927.  0E:06B1  32                  	db $32		;[Note] 51
     928.  0E:06B2                      				;[Skip delay] 2
     929.  0E:06B2  37                  	db $37		;[Note] 56
     930.  0E:06B3  C2                  	db $C2		;[Wait] 3
     931.  0E:06B4  64                  	db $64		;[Volume] 4
     932.  0E:06B5  C0                  	db $C0		;[Wait] 1
     933.  0E:06B6  37                  	db $37		;[Note] 56
     934.  0E:06B7  69                  	db $69		;[Volume] 9
     935.  0E:06B8  C1                  	db $C1		;[Wait] 2
     936.  0E:06B9  37                  	db $37		;[Note] 56
     937.  0E:06BA  C2                  	db $C2		;[Wait] 3
     938.  0E:06BB  A7 55               	db $A7, $55	;[CMD vibrato]
     939.  0E:06BD  C0                  	db $C0		;[Wait] 1
     940.  0E:06BE  B1 02               	db $B1, $02	;[CMD vibrato] rep
     941.  0E:06C0  C1                  	db $C1		;[Wait] 2
     942.  0E:06C1  35                  	db $35		;[Note] 54
     943.  0E:06C2  6F                  	db $6F		;[Volume] 15
     944.  0E:06C3  C0                  	db $C0		;[Wait] 1
     945.  0E:06C4  34                  	db $34		;[Note] 53
     946.  0E:06C5  6E                  	db $6E		;[Volume] 14
     947.  0E:06C6                      				;[Skip delay] 1
     948.  0E:06C6  32                  	db $32		;[Note] 51
     949.  0E:06C7  6D                  	db $6D		;[Volume] 13
     950.  0E:06C8  C2                  	db $C2		;[Wait] 3
     951.  0E:06C9  A7 56               	db $A7, $56	;[CMD vibrato]
     952.  0E:06CB  C0                  	db $C0		;[Wait] 1
     953.  0E:06CC  B1 03               	db $B1, $03	;[CMD vibrato] rep
     954.  0E:06CE  C1                  	db $C1		;[Wait] 2
     955.  0E:06CF  68                  	db $68		;[Volume] 8
     956.  0E:06D0  C0                  	db $C0		;[Wait] 1
     957.  0E:06D1  A7 55               	db $A7, $55	;[CMD vibrato]
     958.  0E:06D3                      				;[Skip delay] 1
     959.  0E:06D3  66                  	db $66		;[Volume] 6
     960.  0E:06D4  B1 01               	db $B1, $01	;[CMD vibrato] rep
     961.  0E:06D6                      				;[Skip delay] 1
     962.  0E:06D6  A5 10               	db $A5, $10; slide-down
     963.  0E:06D8                      				;[Skip delay] 1
     964.  0E:06D8  64                  	db $64		;[Volume] 4
     965.  0E:06D9  AF 02               	db $AF, $02; slide-down rep
     966.  0E:06DB                      				;[Skip delay] 1
     967.  0E:06DB  63                  	db $63		;[Volume] 3
     968.  0E:06DC                      				;[Skip delay] 1
     969.  0E:06DC  2D                  	db $2D		;[Note] 46
     970.  0E:06DD  6D                  	db $6D		;[Volume] 13
     971.  0E:06DE  C1                  	db $C1		;[Wait] 2
     972.  0E:06DF  34                  	db $34		;[Note] 53
     973.  0E:06E0                      				;[Skip delay] 2
     974.  0E:06E0  32                  	db $32		;[Note] 51
     975.  0E:06E1  C0                  	db $C0		;[Wait] 1
     976.  0E:06E2  A7 55               	db $A7, $55	;[CMD vibrato]
     977.  0E:06E4                      				;[Skip delay] 1
     978.  0E:06E4  B1 02               	db $B1, $02	;[CMD vibrato] rep
     979.  0E:06E6  C1                  	db $C1		;[Wait] 2
     980.  0E:06E7  30                  	db $30		;[Note] 49
     981.  0E:06E8                      				;[Skip delay] 2
     982.  0E:06E8  2F                  	db $2F		;[Note] 48
     983.  0E:06E9                      				;[Skip delay] 2
     984.  0E:06E9  30                  	db $30		;[Note] 49
     985.  0E:06EA  C0                  	db $C0		;[Wait] 1
     986.  0E:06EB  2F                  	db $2F		;[Note] 48
     987.  0E:06EC                      				;[Skip delay] 1
     988.  0E:06EC  2D                  	db $2D		;[Note] 46
     989.  0E:06ED  C4                  	db $C4		;[Wait] 5
     990.  0E:06EE  68                  	db $68		;[Volume] 8
     991.  0E:06EF  A7 55               	db $A7, $55	;[CMD vibrato]
     992.  0E:06F1  C0                  	db $C0		;[Wait] 1
     993.  0E:06F2  67                  	db $67		;[Volume] 7
     994.  0E:06F3  B1 08               	db $B1, $08	;[CMD vibrato] rep
     995.  0E:06F5                      				;[Skip delay] 1
     996.  0E:06F5  66                  	db $66		;[Volume] 6
     997.  0E:06F6                      				;[Skip delay] 1
     998.  0E:06F6  65                  	db $65		;[Volume] 5
     999.  0E:06F7                      				;[Skip delay] 1
    1000.  0E:06F7  64                  	db $64		;[Volume] 4
    1001.  0E:06F8                      				;[Skip delay] 1
    1002.  0E:06F8  62                  	db $62		;[Volume] 2
    1003.  0E:06F9  C3                  	db $C3		;[Wait] 4
    1004.  0E:06FA  BF                  	db $BF		;[End-Of-Track]
    1005.  0E:06FB                      .track_7:
    1006.  0E:06FB  60                  	db $60		;[Note] 97
    1007.  0E:06FC  95 08               	db $95, $08	; track detune
    1008.  0E:06FE  C5                  	db $C5		;[Wait] 6
    1009.  0E:06FF  32                  	db $32		;[Note] 51
    1010.  0E:0700  65                  	db $65		;[Volume] 5
    1011.  0E:0701  7B                  	db $7B		;[Instrument] 12
    1012.  0E:0702  C0                  	db $C0		;[Wait] 1
    1013.  0E:0703  34                  	db $34		;[Note] 53
    1014.  0E:0704  A6 10               	db $A6, $10; tone-slide
    1015.  0E:0706                      				;[Skip delay] 1
    1016.  0E:0706  30                  	db $30		;[Note] 49
    1017.  0E:0707  C1                  	db $C1		;[Wait] 2
    1018.  0E:0708  32                  	db $32		;[Note] 51
    1019.  0E:0709                      				;[Skip delay] 2
    1020.  0E:0709  37                  	db $37		;[Note] 56
    1021.  0E:070A  C3                  	db $C3		;[Wait] 4
    1022.  0E:070B  37                  	db $37		;[Note] 56
    1023.  0E:070C  C1                  	db $C1		;[Wait] 2
    1024.  0E:070D  37                  	db $37		;[Note] 56
    1025.  0E:070E  C5                  	db $C5		;[Wait] 6
    1026.  0E:070F  35                  	db $35		;[Note] 54
    1027.  0E:0710  C0                  	db $C0		;[Wait] 1
    1028.  0E:0711  34                  	db $34		;[Note] 53
    1029.  0E:0712                      				;[Skip delay] 1
    1030.  0E:0712  32                  	db $32		;[Note] 51
    1031.  0E:0713  C9                  	db $C9		;[Wait] 10
    1032.  0E:0714  28                  	db $28		;[Note] 41
    1033.  0E:0715  6D                  	db $6D		;[Volume] 13
    1034.  0E:0716  95 00               	db $95, $00	; track detune
    1035.  0E:0718  C1                  	db $C1		;[Wait] 2
    1036.  0E:0719  30                  	db $30		;[Note] 49
    1037.  0E:071A                      				;[Skip delay] 2
    1038.  0E:071A  2B                  	db $2B		;[Note] 44
    1039.  0E:071B  C3                  	db $C3		;[Wait] 4
    1040.  0E:071C  2B                  	db $2B		;[Note] 44
    1041.  0E:071D  C1                  	db $C1		;[Wait] 2
    1042.  0E:071E  2B                  	db $2B		;[Note] 44
    1043.  0E:071F                      				;[Skip delay] 2
    1044.  0E:071F  29                  	db $29		;[Note] 42
    1045.  0E:0720  C0                  	db $C0		;[Wait] 1
    1046.  0E:0721  29                  	db $29		;[Note] 42
    1047.  0E:0722                      				;[Skip delay] 1
    1048.  0E:0722  21                  	db $21		;[Note] 34
    1049.  0E:0723  C4                  	db $C4		;[Wait] 5
    1050.  0E:0724  67                  	db $67		;[Volume] 7
    1051.  0E:0725  C0                  	db $C0		;[Wait] 1
    1052.  0E:0726  66                  	db $66		;[Volume] 6
    1053.  0E:0727                      				;[Skip delay] 1
    1054.  0E:0727  65                  	db $65		;[Volume] 5
    1055.  0E:0728                      				;[Skip delay] 1
    1056.  0E:0728  63                  	db $63		;[Volume] 3
    1057.  0E:0729                      				;[Skip delay] 1
    1058.  0E:0729  62                  	db $62		;[Volume] 2
    1059.  0E:072A  C4                  	db $C4		;[Wait] 5
    1060.  0E:072B  BF                  	db $BF		;[End-Of-Track]
    1061.  0E:072C                      .track_8:
    1062.  0E:072C  12                  	db $12		;[Note] 19
    1063.  0E:072D  6F                  	db $6F		;[Volume] 15
    1064.  0E:072E  70                  	db $70		;[Instrument] 1
    1065.  0E:072F  C1                  	db $C1		;[Wait] 2
    1066.  0E:0730  5F                  	db $5F		;[Note] 96
    1067.  0E:0731  6E                  	db $6E		;[Volume] 14
    1068.  0E:0732  72                  	db $72		;[Instrument] 3
    1069.  0E:0733  C0                  	db $C0		;[Wait] 1
    1070.  0E:0734  5F                  	db $5F		;[Note] 96
    1071.  0E:0735  6D                  	db $6D		;[Volume] 13
    1072.  0E:0736                      				;[Skip delay] 1
    1073.  0E:0736  5F                  	db $5F		;[Note] 96
    1074.  0E:0737  6E                  	db $6E		;[Volume] 14
    1075.  0E:0738  C1                  	db $C1		;[Wait] 2
    1076.  0E:0739  5F                  	db $5F		;[Note] 96
    1077.  0E:073A  73                  	db $73		;[Instrument] 4
    1078.  0E:073B                      				;[Skip delay] 2
    1079.  0E:073B  12                  	db $12		;[Note] 19
    1080.  0E:073C  6F                  	db $6F		;[Volume] 15
    1081.  0E:073D  70                  	db $70		;[Instrument] 1
    1082.  0E:073E                      				;[Skip delay] 2
    1083.  0E:073E  5F                  	db $5F		;[Note] 96
    1084.  0E:073F  6E                  	db $6E		;[Volume] 14
    1085.  0E:0740  72                  	db $72		;[Instrument] 3
    1086.  0E:0741                      				;[Skip delay] 2
    1087.  0E:0741  5F                  	db $5F		;[Note] 96
    1088.  0E:0742  6D                  	db $6D		;[Volume] 13
    1089.  0E:0743  C0                  	db $C0		;[Wait] 1
    1090.  0E:0744  60                  	db $60		;[Note] 97
    1091.  0E:0745                      				;[Skip delay] 1
    1092.  0E:0745  12                  	db $12		;[Note] 19
    1093.  0E:0746  70                  	db $70		;[Instrument] 1
    1094.  0E:0747  C1                  	db $C1		;[Wait] 2
    1095.  0E:0748  5F                  	db $5F		;[Note] 96
    1096.  0E:0749  6E                  	db $6E		;[Volume] 14
    1097.  0E:074A  72                  	db $72		;[Instrument] 3
    1098.  0E:074B                      				;[Skip delay] 2
    1099.  0E:074B  5F                  	db $5F		;[Note] 96
    1100.  0E:074C  73                  	db $73		;[Instrument] 4
    1101.  0E:074D                      				;[Skip delay] 2
    1102.  0E:074D  12                  	db $12		;[Note] 19
    1103.  0E:074E  70                  	db $70		;[Instrument] 1
    1104.  0E:074F                      				;[Skip delay] 2
    1105.  0E:074F  5F                  	db $5F		;[Note] 96
    1106.  0E:0750  72                  	db $72		;[Instrument] 3
    1107.  0E:0751                      				;[Skip delay] 2
    1108.  0E:0751  5F                  	db $5F		;[Note] 96
    1109.  0E:0752                      				;[Skip delay] 2
    1110.  0E:0752  5F                  	db $5F		;[Note] 96
    1111.  0E:0753  C0                  	db $C0		;[Wait] 1
    1112.  0E:0754  5F                  	db $5F		;[Note] 96
    1113.  0E:0755  6D                  	db $6D		;[Volume] 13
    1114.  0E:0756                      				;[Skip delay] 1
    1115.  0E:0756  5F                  	db $5F		;[Note] 96
    1116.  0E:0757  6E                  	db $6E		;[Volume] 14
    1117.  0E:0758  C1                  	db $C1		;[Wait] 2
    1118.  0E:0759  5F                  	db $5F		;[Note] 96
    1119.  0E:075A                      				;[Skip delay] 2
    1120.  0E:075A  12                  	db $12		;[Note] 19
    1121.  0E:075B  6F                  	db $6F		;[Volume] 15
    1122.  0E:075C  70                  	db $70		;[Instrument] 1
    1123.  0E:075D                      				;[Skip delay] 2
    1124.  0E:075D  5F                  	db $5F		;[Note] 96
    1125.  0E:075E  6E                  	db $6E		;[Volume] 14
    1126.  0E:075F  72                  	db $72		;[Instrument] 3
    1127.  0E:0760  C0                  	db $C0		;[Wait] 1
    1128.  0E:0761  5F                  	db $5F		;[Note] 96
    1129.  0E:0762  6D                  	db $6D		;[Volume] 13
    1130.  0E:0763                      				;[Skip delay] 1
    1131.  0E:0763  5F                  	db $5F		;[Note] 96
    1132.  0E:0764  6E                  	db $6E		;[Volume] 14
    1133.  0E:0765  C1                  	db $C1		;[Wait] 2
    1134.  0E:0766  5F                  	db $5F		;[Note] 96
    1135.  0E:0767  73                  	db $73		;[Instrument] 4
    1136.  0E:0768                      				;[Skip delay] 2
    1137.  0E:0768  1F                  	db $1F		;[Note] 32
    1138.  0E:0769  6F                  	db $6F		;[Volume] 15
    1139.  0E:076A  71                  	db $71		;[Instrument] 2
    1140.  0E:076B                      				;[Skip delay] 2
    1141.  0E:076B  5F                  	db $5F		;[Note] 96
    1142.  0E:076C  6D                  	db $6D		;[Volume] 13
    1143.  0E:076D  72                  	db $72		;[Instrument] 3
    1144.  0E:076E                      				;[Skip delay] 2
    1145.  0E:076E  5F                  	db $5F		;[Note] 96
    1146.  0E:076F  6A                  	db $6A		;[Volume] 10
    1147.  0E:0770  C0                  	db $C0		;[Wait] 1
    1148.  0E:0771  60                  	db $60		;[Note] 97
    1149.  0E:0772                      				;[Skip delay] 1
    1150.  0E:0772  12                  	db $12		;[Note] 19
    1151.  0E:0773  6F                  	db $6F		;[Volume] 15
    1152.  0E:0774  70                  	db $70		;[Instrument] 1
    1153.  0E:0775  C1                  	db $C1		;[Wait] 2
    1154.  0E:0776  5F                  	db $5F		;[Note] 96
    1155.  0E:0777  6E                  	db $6E		;[Volume] 14
    1156.  0E:0778  72                  	db $72		;[Instrument] 3
    1157.  0E:0779                      				;[Skip delay] 2
    1158.  0E:0779  1F                  	db $1F		;[Note] 32
    1159.  0E:077A  71                  	db $71		;[Instrument] 2
    1160.  0E:077B                      				;[Skip delay] 2
    1161.  0E:077B  1F                  	db $1F		;[Note] 32
    1162.  0E:077C  6F                  	db $6F		;[Volume] 15
    1163.  0E:077D                      				;[Skip delay] 2
    1164.  0E:077D  1F                  	db $1F		;[Note] 32
    1165.  0E:077E                      				;[Skip delay] 2
    1166.  0E:077E  1F                  	db $1F		;[Note] 32
    1167.  0E:077F                      				;[Skip delay] 2
    1168.  0E:077F  12                  	db $12		;[Note] 19
    1169.  0E:0780  70                  	db $70		;[Instrument] 1
    1170.  0E:0781  C0                  	db $C0		;[Wait] 1
    1171.  0E:0782  5F                  	db $5F		;[Note] 96
    1172.  0E:0783  6B                  	db $6B		;[Volume] 11
    1173.  0E:0784  72                  	db $72		;[Instrument] 3
    1174.  0E:0785                      				;[Skip delay] 1
    1175.  0E:0785  1F                  	db $1F		;[Note] 32
    1176.  0E:0786  6F                  	db $6F		;[Volume] 15
    1177.  0E:0787  71                  	db $71		;[Instrument] 2
    1178.  0E:0788  C1                  	db $C1		;[Wait] 2
    1179.  0E:0789  1F                  	db $1F		;[Note] 32
    1180.  0E:078A  C0                  	db $C0		;[Wait] 1
    1181.  0E:078B  1F                  	db $1F		;[Note] 32
    1182.  0E:078C                      				;[Skip delay] 1
    1183.  0E:078C  BF                  	db $BF		;[End-Of-Track]
    1184.  0E:078D                      .track_9:
    1185.  0E:078D  18                  	db $18		;[Note] 25
    1186.  0E:078E  6F                  	db $6F		;[Volume] 15
    1187.  0E:078F  76                  	db $76		;[Instrument] 7
    1188.  0E:0790  C1                  	db $C1		;[Wait] 2
    1189.  0E:0791  13                  	db $13		;[Note] 20
    1190.  0E:0792                      				;[Skip delay] 2
    1191.  0E:0792  15                  	db $15		;[Note] 22
    1192.  0E:0793                      				;[Skip delay] 2
    1193.  0E:0793  18                  	db $18		;[Note] 25
    1194.  0E:0794  C0                  	db $C0		;[Wait] 1
    1195.  0E:0795  A7 55               	db $A7, $55	;[CMD vibrato]
    1196.  0E:0797                      				;[Skip delay] 1
    1197.  0E:0797  B1 02               	db $B1, $02	;[CMD vibrato] rep
    1198.  0E:0799  C1                  	db $C1		;[Wait] 2
    1199.  0E:079A  13                  	db $13		;[Note] 20
    1200.  0E:079B                      				;[Skip delay] 2
    1201.  0E:079B  15                  	db $15		;[Note] 22
    1202.  0E:079C                      				;[Skip delay] 2
    1203.  0E:079C  16                  	db $16		;[Note] 23
    1204.  0E:079D  C2                  	db $C2		;[Wait] 3
    1205.  0E:079E  6B                  	db $6B		;[Volume] 11
    1206.  0E:079F  C0                  	db $C0		;[Wait] 1
    1207.  0E:07A0  16                  	db $16		;[Note] 23
    1208.  0E:07A1  6F                  	db $6F		;[Volume] 15
    1209.  0E:07A2  C1                  	db $C1		;[Wait] 2
    1210.  0E:07A3  15                  	db $15		;[Note] 22
    1211.  0E:07A4  C3                  	db $C3		;[Wait] 4
    1212.  0E:07A5  13                  	db $13		;[Note] 20
    1213.  0E:07A6  C1                  	db $C1		;[Wait] 2
    1214.  0E:07A7  11                  	db $11		;[Note] 18
    1215.  0E:07A8  C3                  	db $C3		;[Wait] 4
    1216.  0E:07A9  13                  	db $13		;[Note] 20
    1217.  0E:07AA  C1                  	db $C1		;[Wait] 2
    1218.  0E:07AB  15                  	db $15		;[Note] 22
    1219.  0E:07AC                      				;[Skip delay] 2
    1220.  0E:07AC  15                  	db $15		;[Note] 22
    1221.  0E:07AD                      				;[Skip delay] 2
    1222.  0E:07AD  15                  	db $15		;[Note] 22
    1223.  0E:07AE                      				;[Skip delay] 2
    1224.  0E:07AE  15                  	db $15		;[Note] 22
    1225.  0E:07AF                      				;[Skip delay] 2
    1226.  0E:07AF  13                  	db $13		;[Note] 20
    1227.  0E:07B0                      				;[Skip delay] 2
    1228.  0E:07B0  13                  	db $13		;[Note] 20
    1229.  0E:07B1                      				;[Skip delay] 2
    1230.  0E:07B1  13                  	db $13		;[Note] 20
    1231.  0E:07B2                      				;[Skip delay] 2
    1232.  0E:07B2  13                  	db $13		;[Note] 20
    1233.  0E:07B3                      				;[Skip delay] 2
    1234.  0E:07B3  11                  	db $11		;[Note] 18
    1235.  0E:07B4                      				;[Skip delay] 2
    1236.  0E:07B4  11                  	db $11		;[Note] 18
    1237.  0E:07B5                      				;[Skip delay] 2
    1238.  0E:07B5  11                  	db $11		;[Note] 18
    1239.  0E:07B6                      				;[Skip delay] 2
    1240.  0E:07B6  11                  	db $11		;[Note] 18
    1241.  0E:07B7                      				;[Skip delay] 2
    1242.  0E:07B7  11                  	db $11		;[Note] 18
    1243.  0E:07B8                      				;[Skip delay] 2
    1244.  0E:07B8  11                  	db $11		;[Note] 18
    1245.  0E:07B9  C0                  	db $C0		;[Wait] 1
    1246.  0E:07BA  11                  	db $11		;[Note] 18
    1247.  0E:07BB                      				;[Skip delay] 1
    1248.  0E:07BB  13                  	db $13		;[Note] 20
    1249.  0E:07BC  C1                  	db $C1		;[Wait] 2
    1250.  0E:07BD  13                  	db $13		;[Note] 20
    1251.  0E:07BE  C0                  	db $C0		;[Wait] 1
    1252.  0E:07BF  13                  	db $13		;[Note] 20
    1253.  0E:07C0                      				;[Skip delay] 1
    1254.  0E:07C0  BF                  	db $BF		;[End-Of-Track]
    1255.  0E:07C1                      .track_10:
    1256.  0E:07C1  1F                  	db $1F		;[Note] 32
    1257.  0E:07C2  6C                  	db $6C		;[Volume] 12
    1258.  0E:07C3  78                  	db $78		;[Instrument] 9
    1259.  0E:07C4  C0                  	db $C0		;[Wait] 1
    1260.  0E:07C5  6D                  	db $6D		;[Volume] 13
    1261.  0E:07C6  C4                  	db $C4		;[Wait] 5
    1262.  0E:07C7  24                  	db $24		;[Note] 37
    1263.  0E:07C8  C9                  	db $C9		;[Wait] 10
    1264.  0E:07C9  1F                  	db $1F		;[Note] 32
    1265.  0E:07CA  C7                  	db $C7		;[Wait] 8
    1266.  0E:07CB  26                  	db $26		;[Note] 39
    1267.  0E:07CC  C5                  	db $C5		;[Wait] 6
    1268.  0E:07CD  60                  	db $60		;[Note] 97
    1269.  0E:07CE  C1                  	db $C1		;[Wait] 2
    1270.  0E:07CF  09                  	db $09		;[Note] 10
    1271.  0E:07D0  76                  	db $76		;[Instrument] 7
    1272.  0E:07D1                      				;[Skip delay] 2
    1273.  0E:07D1  09                  	db $09		;[Note] 10
    1274.  0E:07D2                      				;[Skip delay] 2
    1275.  0E:07D2  09                  	db $09		;[Note] 10
    1276.  0E:07D3                      				;[Skip delay] 2
    1277.  0E:07D3  09                  	db $09		;[Note] 10
    1278.  0E:07D4                      				;[Skip delay] 2
    1279.  0E:07D4  07                  	db $07		;[Note] 8
    1280.  0E:07D5                      				;[Skip delay] 2
    1281.  0E:07D5  07                  	db $07		;[Note] 8
    1282.  0E:07D6                      				;[Skip delay] 2
    1283.  0E:07D6  07                  	db $07		;[Note] 8
    1284.  0E:07D7                      				;[Skip delay] 2
    1285.  0E:07D7  07                  	db $07		;[Note] 8
    1286.  0E:07D8                      				;[Skip delay] 2
    1287.  0E:07D8  05                  	db $05		;[Note] 6
    1288.  0E:07D9                      				;[Skip delay] 2
    1289.  0E:07D9  05                  	db $05		;[Note] 6
    1290.  0E:07DA                      				;[Skip delay] 2
    1291.  0E:07DA  05                  	db $05		;[Note] 6
    1292.  0E:07DB                      				;[Skip delay] 2
    1293.  0E:07DB  05                  	db $05		;[Note] 6
    1294.  0E:07DC                      				;[Skip delay] 2
    1295.  0E:07DC  05                  	db $05		;[Note] 6
    1296.  0E:07DD  C0                  	db $C0		;[Wait] 1
    1297.  0E:07DE  6E                  	db $6E		;[Volume] 14
    1298.  0E:07DF                      				;[Skip delay] 1
    1299.  0E:07DF  05                  	db $05		;[Note] 6
    1300.  0E:07E0  6D                  	db $6D		;[Volume] 13
    1301.  0E:07E1                      				;[Skip delay] 1
    1302.  0E:07E1  05                  	db $05		;[Note] 6
    1303.  0E:07E2  6B                  	db $6B		;[Volume] 11
    1304.  0E:07E3                      				;[Skip delay] 1
    1305.  0E:07E3  07                  	db $07		;[Note] 8
    1306.  0E:07E4  6A                  	db $6A		;[Volume] 10
    1307.  0E:07E5  C1                  	db $C1		;[Wait] 2
    1308.  0E:07E6  07                  	db $07		;[Note] 8
    1309.  0E:07E7  C0                  	db $C0		;[Wait] 1
    1310.  0E:07E8  07                  	db $07		;[Note] 8
    1311.  0E:07E9                      				;[Skip delay] 1
    1312.  0E:07E9  BF                  	db $BF		;[End-Of-Track]
    1313.  0E:07EA                      .track_11:
    1314.  0E:07EA  18                  	db $18		;[Note] 25
    1315.  0E:07EB  79                  	db $79		;[Instrument] 10
    1316.  0E:07EC  C1                  	db $C1		;[Wait] 2
    1317.  0E:07ED  13                  	db $13		;[Note] 20
    1318.  0E:07EE                      				;[Skip delay] 2
    1319.  0E:07EE  15                  	db $15		;[Note] 22
    1320.  0E:07EF                      				;[Skip delay] 2
    1321.  0E:07EF  18                  	db $18		;[Note] 25
    1322.  0E:07F0  C3                  	db $C3		;[Wait] 4
    1323.  0E:07F1  13                  	db $13		;[Note] 20
    1324.  0E:07F2  C1                  	db $C1		;[Wait] 2
    1325.  0E:07F3  15                  	db $15		;[Note] 22
    1326.  0E:07F4                      				;[Skip delay] 2
    1327.  0E:07F4  16                  	db $16		;[Note] 23
    1328.  0E:07F5  C3                  	db $C3		;[Wait] 4
    1329.  0E:07F6  16                  	db $16		;[Note] 23
    1330.  0E:07F7  C1                  	db $C1		;[Wait] 2
    1331.  0E:07F8  15                  	db $15		;[Note] 22
    1332.  0E:07F9  C3                  	db $C3		;[Wait] 4
    1333.  0E:07FA  13                  	db $13		;[Note] 20
    1334.  0E:07FB  C1                  	db $C1		;[Wait] 2
    1335.  0E:07FC  11                  	db $11		;[Note] 18
    1336.  0E:07FD  C3                  	db $C3		;[Wait] 4
    1337.  0E:07FE  13                  	db $13		;[Note] 20
    1338.  0E:07FF  C1                  	db $C1		;[Wait] 2
    1339.  0E:0800  15                  	db $15		;[Note] 22
    1340.  0E:0801                      				;[Skip delay] 2
    1341.  0E:0801  15                  	db $15		;[Note] 22
    1342.  0E:0802                      				;[Skip delay] 2
    1343.  0E:0802  15                  	db $15		;[Note] 22
    1344.  0E:0803                      				;[Skip delay] 2
    1345.  0E:0803  15                  	db $15		;[Note] 22
    1346.  0E:0804                      				;[Skip delay] 2
    1347.  0E:0804  13                  	db $13		;[Note] 20
    1348.  0E:0805                      				;[Skip delay] 2
    1349.  0E:0805  13                  	db $13		;[Note] 20
    1350.  0E:0806                      				;[Skip delay] 2
    1351.  0E:0806  13                  	db $13		;[Note] 20
    1352.  0E:0807                      				;[Skip delay] 2
    1353.  0E:0807  13                  	db $13		;[Note] 20
    1354.  0E:0808                      				;[Skip delay] 2
    1355.  0E:0808  11                  	db $11		;[Note] 18
    1356.  0E:0809                      				;[Skip delay] 2
    1357.  0E:0809  11                  	db $11		;[Note] 18
    1358.  0E:080A                      				;[Skip delay] 2
    1359.  0E:080A  11                  	db $11		;[Note] 18
    1360.  0E:080B                      				;[Skip delay] 2
    1361.  0E:080B  11                  	db $11		;[Note] 18
    1362.  0E:080C                      				;[Skip delay] 2
    1363.  0E:080C  11                  	db $11		;[Note] 18
    1364.  0E:080D                      				;[Skip delay] 2
    1365.  0E:080D  11                  	db $11		;[Note] 18
    1366.  0E:080E  C0                  	db $C0		;[Wait] 1
    1367.  0E:080F  11                  	db $11		;[Note] 18
    1368.  0E:0810                      				;[Skip delay] 1
    1369.  0E:0810  13                  	db $13		;[Note] 20
    1370.  0E:0811  C1                  	db $C1		;[Wait] 2
    1371.  0E:0812  13                  	db $13		;[Note] 20
    1372.  0E:0813  C0                  	db $C0		;[Wait] 1
    1373.  0E:0814  13                  	db $13		;[Note] 20
    1374.  0E:0815                      				;[Skip delay] 1
    1375.  0E:0815  BF                  	db $BF		;[End-Of-Track]
    1376.  0E:0816                      .track_12:
    1377.  0E:0816  24                  	db $24		;[Note] 37
    1378.  0E:0817  6A                  	db $6A		;[Volume] 10
    1379.  0E:0818  81                  	db $81		;[Instrument] 18
    1380.  0E:0819  C1                  	db $C1		;[Wait] 2
    1381.  0E:081A  26                  	db $26		;[Note] 39
    1382.  0E:081B  89                  	db $89		;[Instrument] 26
    1383.  0E:081C                      				;[Skip delay] 2
    1384.  0E:081C  26                  	db $26		;[Note] 39
    1385.  0E:081D                      				;[Skip delay] 2
    1386.  0E:081D  28                  	db $28		;[Note] 41
    1387.  0E:081E  C3                  	db $C3		;[Wait] 4
    1388.  0E:081F  24                  	db $24		;[Note] 37
    1389.  0E:0820  C1                  	db $C1		;[Wait] 2
    1390.  0E:0821  26                  	db $26		;[Note] 39
    1391.  0E:0822                      				;[Skip delay] 2
    1392.  0E:0822  28                  	db $28		;[Note] 41
    1393.  0E:0823                      				;[Skip delay] 2
    1394.  0E:0823  29                  	db $29		;[Note] 42
    1395.  0E:0824                      				;[Skip delay] 2
    1396.  0E:0824  28                  	db $28		;[Note] 41
    1397.  0E:0825                      				;[Skip delay] 2
    1398.  0E:0825  28                  	db $28		;[Note] 41
    1399.  0E:0826                      				;[Skip delay] 2
    1400.  0E:0826  29                  	db $29		;[Note] 42
    1401.  0E:0827  C3                  	db $C3		;[Wait] 4
    1402.  0E:0828  26                  	db $26		;[Note] 39
    1403.  0E:0829  C1                  	db $C1		;[Wait] 2
    1404.  0E:082A  28                  	db $28		;[Note] 41
    1405.  0E:082B                      				;[Skip delay] 2
    1406.  0E:082B  29                  	db $29		;[Note] 42
    1407.  0E:082C                      				;[Skip delay] 2
    1408.  0E:082C  28                  	db $28		;[Note] 41
    1409.  0E:082D                      				;[Skip delay] 2
    1410.  0E:082D  24                  	db $24		;[Note] 37
    1411.  0E:082E                      				;[Skip delay] 2
    1412.  0E:082E  30                  	db $30		;[Note] 49
    1413.  0E:082F                      				;[Skip delay] 2
    1414.  0E:082F  2D                  	db $2D		;[Note] 46
    1415.  0E:0830                      				;[Skip delay] 2
    1416.  0E:0830  2B                  	db $2B		;[Note] 44
    1417.  0E:0831  C3                  	db $C3		;[Wait] 4
    1418.  0E:0832  26                  	db $26		;[Note] 39
    1419.  0E:0833  C1                  	db $C1		;[Wait] 2
    1420.  0E:0834  26                  	db $26		;[Note] 39
    1421.  0E:0835                      				;[Skip delay] 2
    1422.  0E:0835  3C                  	db $3C		;[Note] 61
    1423.  0E:0836  6F                  	db $6F		;[Volume] 15
    1424.  0E:0837  7C                  	db $7C		;[Instrument] 13
    1425.  0E:0838  C0                  	db $C0		;[Wait] 1
    1426.  0E:0839  39                  	db $39		;[Note] 58
    1427.  0E:083A                      				;[Skip delay] 1
    1428.  0E:083A  34                  	db $34		;[Note] 53
    1429.  0E:083B                      				;[Skip delay] 1
    1430.  0E:083B  30                  	db $30		;[Note] 49
    1431.  0E:083C                      				;[Skip delay] 1
    1432.  0E:083C  34                  	db $34		;[Note] 53
    1433.  0E:083D  6C                  	db $6C		;[Volume] 12
    1434.  0E:083E                      				;[Skip delay] 1
    1435.  0E:083E  30                  	db $30		;[Note] 49
    1436.  0E:083F  6D                  	db $6D		;[Volume] 13
    1437.  0E:0840                      				;[Skip delay] 1
    1438.  0E:0840  2D                  	db $2D		;[Note] 46
    1439.  0E:0841                      				;[Skip delay] 1
    1440.  0E:0841  28                  	db $28		;[Note] 41
    1441.  0E:0842                      				;[Skip delay] 1
    1442.  0E:0842  2D                  	db $2D		;[Note] 46
    1443.  0E:0843  6E                  	db $6E		;[Volume] 14
    1444.  0E:0844                      				;[Skip delay] 1
    1445.  0E:0844  28                  	db $28		;[Note] 41
    1446.  0E:0845                      				;[Skip delay] 1
    1447.  0E:0845  24                  	db $24		;[Note] 37
    1448.  0E:0846                      				;[Skip delay] 1
    1449.  0E:0846  28                  	db $28		;[Note] 41
    1450.  0E:0847                      				;[Skip delay] 1
    1451.  0E:0847  2D                  	db $2D		;[Note] 46
    1452.  0E:0848  6C                  	db $6C		;[Volume] 12
    1453.  0E:0849                      				;[Skip delay] 1
    1454.  0E:0849  28                  	db $28		;[Note] 41
    1455.  0E:084A                      				;[Skip delay] 1
    1456.  0E:084A  24                  	db $24		;[Note] 37
    1457.  0E:084B                      				;[Skip delay] 1
    1458.  0E:084B  2F                  	db $2F		;[Note] 48
    1459.  0E:084C                      				;[Skip delay] 1
    1460.  0E:084C  BF                  	db $BF		;[End-Of-Track]
    1461.  0E:084D                      .track_13:
    1462.  0E:084D  24                  	db $24		;[Note] 37
    1463.  0E:084E  69                  	db $69		;[Volume] 9
    1464.  0E:084F  87                  	db $87		;[Instrument] 24
    1465.  0E:0850  C5                  	db $C5		;[Wait] 6
    1466.  0E:0851  2B                  	db $2B		;[Note] 44
    1467.  0E:0852  6A                  	db $6A		;[Volume] 10
    1468.  0E:0853  C4                  	db $C4		;[Wait] 5
    1469.  0E:0854  69                  	db $69		;[Volume] 9
    1470.  0E:0855  C1                  	db $C1		;[Wait] 2
    1471.  0E:0856  66                  	db $66		;[Volume] 6
    1472.  0E:0857  C0                  	db $C0		;[Wait] 1
    1473.  0E:0858  64                  	db $64		;[Volume] 4
    1474.  0E:0859                      				;[Skip delay] 1
    1475.  0E:0859  63                  	db $63		;[Volume] 3
    1476.  0E:085A                      				;[Skip delay] 1
    1477.  0E:085A  22                  	db $22		;[Note] 35
    1478.  0E:085B  66                  	db $66		;[Volume] 6
    1479.  0E:085C  C1                  	db $C1		;[Wait] 2
    1480.  0E:085D  68                  	db $68		;[Volume] 8
    1481.  0E:085E  C0                  	db $C0		;[Wait] 1
    1482.  0E:085F  69                  	db $69		;[Volume] 9
    1483.  0E:0860  C4                  	db $C4		;[Wait] 5
    1484.  0E:0861  29                  	db $29		;[Note] 42
    1485.  0E:0862  C4                  	db $C4		;[Wait..] 5
    1486.  0E:0863  66                  	db $66		;[Volume] 6
    1487.  0E:0864  C0                  	db $C0		;[Wait] 1
    1488.  0E:0865  65                  	db $65		;[Volume] 5
    1489.  0E:0866                      				;[Skip delay] 1
    1490.  0E:0866  64                  	db $64		;[Volume] 4
    1491.  0E:0867                      				;[Skip delay] 1
    1492.  0E:0867  2D                  	db $2D		;[Note] 46
    1493.  0E:0868  68                  	db $68		;[Volume] 8
    1494.  0E:0869  C7                  	db $C7		;[Wait] 8
    1495.  0E:086A  2F                  	db $2F		;[Note] 48
    1496.  0E:086B                      				;[Skip delay] 8
    1497.  0E:086B  34                  	db $34		;[Note] 53
    1498.  0E:086C  66                  	db $66		;[Volume] 6
    1499.  0E:086D  C0                  	db $C0		;[Wait] 1
    1500.  0E:086E  67                  	db $67		;[Volume] 7
    1501.  0E:086F                      				;[Skip delay] 1
    1502.  0E:086F  68                  	db $68		;[Volume] 8
    1503.  0E:0870  C1                  	db $C1		;[Wait] 2
    1504.  0E:0871  69                  	db $69		;[Volume] 9
    1505.  0E:0872  C2                  	db $C2		;[Wait] 3
    1506.  0E:0873  A7 55               	db $A7, $55	;[CMD vibrato]
    1507.  0E:0875  C0                  	db $C0		;[Wait] 1
    1508.  0E:0876  B1 05               	db $B1, $05	;[CMD vibrato] rep
    1509.  0E:0878  C4                  	db $C4		;[Wait] 5
    1510.  0E:0879  A5 10               	db $A5, $10; slide-down
    1511.  0E:087B  C0                  	db $C0		;[Wait] 1
    1512.  0E:087C  AF 02               	db $AF, $02; slide-down rep
    1513.  0E:087E  C1                  	db $C1		;[Wait] 2
    1514.  0E:087F  BF                  	db $BF		;[End-Of-Track]
    1515.  0E:0880                      .track_14:
    1516.  0E:0880  2B                  	db $2B		;[Note] 44
    1517.  0E:0881  6F                  	db $6F		;[Volume] 15
    1518.  0E:0882  84                  	db $84		;[Instrument] 21
    1519.  0E:0883  95 00               	db $95, $00	; track detune
    1520.  0E:0885  C1                  	db $C1		;[Wait] 2
    1521.  0E:0886  68                  	db $68		;[Volume] 8
    1522.  0E:0887  C0                  	db $C0		;[Wait] 1
    1523.  0E:0888  66                  	db $66		;[Volume] 6
    1524.  0E:0889                      				;[Skip delay] 1
    1525.  0E:0889  32                  	db $32		;[Note] 51
    1526.  0E:088A  6C                  	db $6C		;[Volume] 12
    1527.  0E:088B  7B                  	db $7B		;[Instrument] 12
    1528.  0E:088C                      				;[Skip delay] 1
    1529.  0E:088C  34                  	db $34		;[Note] 53
    1530.  0E:088D  A6 10               	db $A6, $10; tone-slide
    1531.  0E:088F                      				;[Skip delay] 1
    1532.  0E:088F  30                  	db $30		;[Note] 49
    1533.  0E:0890  C1                  	db $C1		;[Wait] 2
    1534.  0E:0891  32                  	db $32		;[Note] 51
    1535.  0E:0892                      				;[Skip delay] 2
    1536.  0E:0892  37                  	db $37		;[Note] 56
    1537.  0E:0893  C2                  	db $C2		;[Wait] 3
    1538.  0E:0894  64                  	db $64		;[Volume] 4
    1539.  0E:0895  C0                  	db $C0		;[Wait] 1
    1540.  0E:0896  37                  	db $37		;[Note] 56
    1541.  0E:0897  69                  	db $69		;[Volume] 9
    1542.  0E:0898  C1                  	db $C1		;[Wait] 2
    1543.  0E:0899  37                  	db $37		;[Note] 56
    1544.  0E:089A  C2                  	db $C2		;[Wait] 3
    1545.  0E:089B  A7 55               	db $A7, $55	;[CMD vibrato]
    1546.  0E:089D  C0                  	db $C0		;[Wait] 1
    1547.  0E:089E  B1 02               	db $B1, $02	;[CMD vibrato] rep
    1548.  0E:08A0  C1                  	db $C1		;[Wait] 2
    1549.  0E:08A1  35                  	db $35		;[Note] 54
    1550.  0E:08A2  6F                  	db $6F		;[Volume] 15
    1551.  0E:08A3  C0                  	db $C0		;[Wait] 1
    1552.  0E:08A4  34                  	db $34		;[Note] 53
    1553.  0E:08A5  6E                  	db $6E		;[Volume] 14
    1554.  0E:08A6                      				;[Skip delay] 1
    1555.  0E:08A6  32                  	db $32		;[Note] 51
    1556.  0E:08A7  6D                  	db $6D		;[Volume] 13
    1557.  0E:08A8  C2                  	db $C2		;[Wait] 3
    1558.  0E:08A9  A7 56               	db $A7, $56	;[CMD vibrato]
    1559.  0E:08AB  C0                  	db $C0		;[Wait] 1
    1560.  0E:08AC  B1 03               	db $B1, $03	;[CMD vibrato] rep
    1561.  0E:08AE  C1                  	db $C1		;[Wait] 2
    1562.  0E:08AF  68                  	db $68		;[Volume] 8
    1563.  0E:08B0  C0                  	db $C0		;[Wait] 1
    1564.  0E:08B1  A7 55               	db $A7, $55	;[CMD vibrato]
    1565.  0E:08B3                      				;[Skip delay] 1
    1566.  0E:08B3  66                  	db $66		;[Volume] 6
    1567.  0E:08B4  B1 01               	db $B1, $01	;[CMD vibrato] rep
    1568.  0E:08B6                      				;[Skip delay] 1
    1569.  0E:08B6  A5 10               	db $A5, $10; slide-down
    1570.  0E:08B8                      				;[Skip delay] 1
    1571.  0E:08B8  64                  	db $64		;[Volume] 4
    1572.  0E:08B9  AF 02               	db $AF, $02; slide-down rep
    1573.  0E:08BB                      				;[Skip delay] 1
    1574.  0E:08BB  63                  	db $63		;[Volume] 3
    1575.  0E:08BC                      				;[Skip delay] 1
    1576.  0E:08BC  2D                  	db $2D		;[Note] 46
    1577.  0E:08BD  6D                  	db $6D		;[Volume] 13
    1578.  0E:08BE  C1                  	db $C1		;[Wait] 2
    1579.  0E:08BF  34                  	db $34		;[Note] 53
    1580.  0E:08C0                      				;[Skip delay] 2
    1581.  0E:08C0  32                  	db $32		;[Note] 51
    1582.  0E:08C1  C0                  	db $C0		;[Wait] 1
    1583.  0E:08C2  A7 55               	db $A7, $55	;[CMD vibrato]
    1584.  0E:08C4                      				;[Skip delay] 1
    1585.  0E:08C4  B1 02               	db $B1, $02	;[CMD vibrato] rep
    1586.  0E:08C6  C1                  	db $C1		;[Wait] 2
    1587.  0E:08C7  37                  	db $37		;[Note] 56
    1588.  0E:08C8                      				;[Skip delay] 2
    1589.  0E:08C8  39                  	db $39		;[Note] 58
    1590.  0E:08C9  C2                  	db $C2		;[Wait] 3
    1591.  0E:08CA  6E                  	db $6E		;[Volume] 14
    1592.  0E:08CB  C1                  	db $C1		;[Wait] 2
    1593.  0E:08CC  A7 55               	db $A7, $55	;[CMD vibrato]
    1594.  0E:08CE  C0                  	db $C0		;[Wait] 1
    1595.  0E:08CF  B1 08               	db $B1, $08	;[CMD vibrato] rep
    1596.  0E:08D1  C1                  	db $C1		;[Wait] 2
    1597.  0E:08D2  6F                  	db $6F		;[Volume] 15
    1598.  0E:08D3                      				;[Skip delay] 2
    1599.  0E:08D3  6D                  	db $6D		;[Volume] 13
    1600.  0E:08D4  C0                  	db $C0		;[Wait] 1
    1601.  0E:08D5  6A                  	db $6A		;[Volume] 10
    1602.  0E:08D6  C1                  	db $C1		;[Wait] 2
    1603.  0E:08D7  69                  	db $69		;[Volume] 9
    1604.  0E:08D8  C0                  	db $C0		;[Wait] 1
    1605.  0E:08D9  A5 10               	db $A5, $10; slide-down
    1606.  0E:08DB                      				;[Skip delay] 1
    1607.  0E:08DB  67                  	db $67		;[Volume] 7
    1608.  0E:08DC  AF 03               	db $AF, $03; slide-down rep
    1609.  0E:08DE  C1                  	db $C1		;[Wait] 2
    1610.  0E:08DF  65                  	db $65		;[Volume] 5
    1611.  0E:08E0  C0                  	db $C0		;[Wait] 1
    1612.  0E:08E1  BF                  	db $BF		;[End-Of-Track]
    1613.  0E:08E2                      .track_15:
    1614.  0E:08E2  60                  	db $60		;[Note] 97
    1615.  0E:08E3  95 08               	db $95, $08	; track detune
    1616.  0E:08E5  C5                  	db $C5		;[Wait] 6
    1617.  0E:08E6  32                  	db $32		;[Note] 51
    1618.  0E:08E7  65                  	db $65		;[Volume] 5
    1619.  0E:08E8  7B                  	db $7B		;[Instrument] 12
    1620.  0E:08E9  C0                  	db $C0		;[Wait] 1
    1621.  0E:08EA  34                  	db $34		;[Note] 53
    1622.  0E:08EB  A6 10               	db $A6, $10; tone-slide
    1623.  0E:08ED                      				;[Skip delay] 1
    1624.  0E:08ED  30                  	db $30		;[Note] 49
    1625.  0E:08EE  C1                  	db $C1		;[Wait] 2
    1626.  0E:08EF  32                  	db $32		;[Note] 51
    1627.  0E:08F0                      				;[Skip delay] 2
    1628.  0E:08F0  37                  	db $37		;[Note] 56
    1629.  0E:08F1  C3                  	db $C3		;[Wait] 4
    1630.  0E:08F2  37                  	db $37		;[Note] 56
    1631.  0E:08F3  C1                  	db $C1		;[Wait] 2
    1632.  0E:08F4  37                  	db $37		;[Note] 56
    1633.  0E:08F5  C5                  	db $C5		;[Wait] 6
    1634.  0E:08F6  35                  	db $35		;[Note] 54
    1635.  0E:08F7  C0                  	db $C0		;[Wait] 1
    1636.  0E:08F8  34                  	db $34		;[Note] 53
    1637.  0E:08F9                      				;[Skip delay] 1
    1638.  0E:08F9  32                  	db $32		;[Note] 51
    1639.  0E:08FA  C9                  	db $C9		;[Wait] 10
    1640.  0E:08FB  28                  	db $28		;[Note] 41
    1641.  0E:08FC  6D                  	db $6D		;[Volume] 13
    1642.  0E:08FD  95 00               	db $95, $00	; track detune
    1643.  0E:08FF  C1                  	db $C1		;[Wait] 2
    1644.  0E:0900  30                  	db $30		;[Note] 49
    1645.  0E:0901                      				;[Skip delay] 2
    1646.  0E:0901  2B                  	db $2B		;[Note] 44
    1647.  0E:0902  C3                  	db $C3		;[Wait] 4
    1648.  0E:0903  30                  	db $30		;[Note] 49
    1649.  0E:0904  C1                  	db $C1		;[Wait] 2
    1650.  0E:0905  30                  	db $30		;[Note] 49
    1651.  0E:0906  C2                  	db $C2		;[Wait] 3
    1652.  0E:0907  6E                  	db $6E		;[Volume] 14
    1653.  0E:0908  C4                  	db $C4		;[Wait] 5
    1654.  0E:0909  6F                  	db $6F		;[Volume] 15
    1655.  0E:090A  C1                  	db $C1		;[Wait] 2
    1656.  0E:090B  6D                  	db $6D		;[Volume] 13
    1657.  0E:090C  C0                  	db $C0		;[Wait] 1
    1658.  0E:090D  6A                  	db $6A		;[Volume] 10
    1659.  0E:090E  C1                  	db $C1		;[Wait] 2
    1660.  0E:090F  69                  	db $69		;[Volume] 9
    1661.  0E:0910  C0                  	db $C0		;[Wait] 1
    1662.  0E:0911  A5 10               	db $A5, $10; slide-down
    1663.  0E:0913                      				;[Skip delay] 1
    1664.  0E:0913  67                  	db $67		;[Volume] 7
    1665.  0E:0914  AF 03               	db $AF, $03; slide-down rep
    1666.  0E:0916  C1                  	db $C1		;[Wait] 2
    1667.  0E:0917  65                  	db $65		;[Volume] 5
    1668.  0E:0918  C0                  	db $C0		;[Wait] 1
    1669.  0E:0919  BF                  	db $BF		;[End-Of-Track]
    1670.  0E:091A                      .track_16:
    1671.  0E:091A  12                  	db $12		;[Note] 19
    1672.  0E:091B  6F                  	db $6F		;[Volume] 15
    1673.  0E:091C  70                  	db $70		;[Instrument] 1
    1674.  0E:091D  C1                  	db $C1		;[Wait] 2
    1675.  0E:091E  5F                  	db $5F		;[Note] 96
    1676.  0E:091F  6E                  	db $6E		;[Volume] 14
    1677.  0E:0920  72                  	db $72		;[Instrument] 3
    1678.  0E:0921  C0                  	db $C0		;[Wait] 1
    1679.  0E:0922  5F                  	db $5F		;[Note] 96
    1680.  0E:0923  6D                  	db $6D		;[Volume] 13
    1681.  0E:0924                      				;[Skip delay] 1
    1682.  0E:0924  5F                  	db $5F		;[Note] 96
    1683.  0E:0925  6E                  	db $6E		;[Volume] 14
    1684.  0E:0926  C1                  	db $C1		;[Wait] 2
    1685.  0E:0927  12                  	db $12		;[Note] 19
    1686.  0E:0928  6F                  	db $6F		;[Volume] 15
    1687.  0E:0929  70                  	db $70		;[Instrument] 1
    1688.  0E:092A                      				;[Skip delay] 2
    1689.  0E:092A  1F                  	db $1F		;[Note] 32
    1690.  0E:092B  71                  	db $71		;[Instrument] 2
    1691.  0E:092C                      				;[Skip delay] 2
    1692.  0E:092C  5F                  	db $5F		;[Note] 96
    1693.  0E:092D  6E                  	db $6E		;[Volume] 14
    1694.  0E:092E  72                  	db $72		;[Instrument] 3
    1695.  0E:092F                      				;[Skip delay] 2
    1696.  0E:092F  5F                  	db $5F		;[Note] 96
    1697.  0E:0930  6D                  	db $6D		;[Volume] 13
    1698.  0E:0931  C0                  	db $C0		;[Wait] 1
    1699.  0E:0932  60                  	db $60		;[Note] 97
    1700.  0E:0933                      				;[Skip delay] 1
    1701.  0E:0933  12                  	db $12		;[Note] 19
    1702.  0E:0934  70                  	db $70		;[Instrument] 1
    1703.  0E:0935  C1                  	db $C1		;[Wait] 2
    1704.  0E:0936  5F                  	db $5F		;[Note] 96
    1705.  0E:0937  6E                  	db $6E		;[Volume] 14
    1706.  0E:0938  72                  	db $72		;[Instrument] 3
    1707.  0E:0939  C0                  	db $C0		;[Wait] 1
    1708.  0E:093A  5F                  	db $5F		;[Note] 96
    1709.  0E:093B                      				;[Skip delay] 1
    1710.  0E:093B  5F                  	db $5F		;[Note] 96
    1711.  0E:093C  73                  	db $73		;[Instrument] 4
    1712.  0E:093D  C1                  	db $C1		;[Wait] 2
    1713.  0E:093E  5F                  	db $5F		;[Note] 96
    1714.  0E:093F  72                  	db $72		;[Instrument] 3
    1715.  0E:0940                      				;[Skip delay] 2
    1716.  0E:0940  12                  	db $12		;[Note] 19
    1717.  0E:0941  6F                  	db $6F		;[Volume] 15
    1718.  0E:0942  70                  	db $70		;[Instrument] 1
    1719.  0E:0943                      				;[Skip delay] 2
    1720.  0E:0943  1F                  	db $1F		;[Note] 32
    1721.  0E:0944  71                  	db $71		;[Instrument] 2
    1722.  0E:0945                      				;[Skip delay] 2
    1723.  0E:0945  5F                  	db $5F		;[Note] 96
    1724.  0E:0946  6E                  	db $6E		;[Volume] 14
    1725.  0E:0947  72                  	db $72		;[Instrument] 3
    1726.  0E:0948  C0                  	db $C0		;[Wait] 1
    1727.  0E:0949  5F                  	db $5F		;[Note] 96
    1728.  0E:094A  6D                  	db $6D		;[Volume] 13
    1729.  0E:094B                      				;[Skip delay] 1
    1730.  0E:094B  5F                  	db $5F		;[Note] 96
    1731.  0E:094C  6E                  	db $6E		;[Volume] 14
    1732.  0E:094D  C1                  	db $C1		;[Wait] 2
    1733.  0E:094E  5F                  	db $5F		;[Note] 96
    1734.  0E:094F                      				;[Skip delay] 2
    1735.  0E:094F  12                  	db $12		;[Note] 19
    1736.  0E:0950  6F                  	db $6F		;[Volume] 15
    1737.  0E:0951  70                  	db $70		;[Instrument] 1
    1738.  0E:0952                      				;[Skip delay] 2
    1739.  0E:0952  5F                  	db $5F		;[Note] 96
    1740.  0E:0953  6E                  	db $6E		;[Volume] 14
    1741.  0E:0954  72                  	db $72		;[Instrument] 3
    1742.  0E:0955  C0                  	db $C0		;[Wait] 1
    1743.  0E:0956  5F                  	db $5F		;[Note] 96
    1744.  0E:0957  6D                  	db $6D		;[Volume] 13
    1745.  0E:0958                      				;[Skip delay] 1
    1746.  0E:0958  5F                  	db $5F		;[Note] 96
    1747.  0E:0959  6E                  	db $6E		;[Volume] 14
    1748.  0E:095A  C1                  	db $C1		;[Wait] 2
    1749.  0E:095B  5F                  	db $5F		;[Note] 96
    1750.  0E:095C  73                  	db $73		;[Instrument] 4
    1751.  0E:095D                      				;[Skip delay] 2
    1752.  0E:095D  1F                  	db $1F		;[Note] 32
    1753.  0E:095E  6F                  	db $6F		;[Volume] 15
    1754.  0E:095F  71                  	db $71		;[Instrument] 2
    1755.  0E:0960                      				;[Skip delay] 2
    1756.  0E:0960  5F                  	db $5F		;[Note] 96
    1757.  0E:0961  6D                  	db $6D		;[Volume] 13
    1758.  0E:0962  72                  	db $72		;[Instrument] 3
    1759.  0E:0963                      				;[Skip delay] 2
    1760.  0E:0963  5F                  	db $5F		;[Note] 96
    1761.  0E:0964  6A                  	db $6A		;[Volume] 10
    1762.  0E:0965  C0                  	db $C0		;[Wait] 1
    1763.  0E:0966  60                  	db $60		;[Note] 97
    1764.  0E:0967                      				;[Skip delay] 1
    1765.  0E:0967  12                  	db $12		;[Note] 19
    1766.  0E:0968  6F                  	db $6F		;[Volume] 15
    1767.  0E:0969  70                  	db $70		;[Instrument] 1
    1768.  0E:096A  C1                  	db $C1		;[Wait] 2
    1769.  0E:096B  5F                  	db $5F		;[Note] 96
    1770.  0E:096C  6E                  	db $6E		;[Volume] 14
    1771.  0E:096D  72                  	db $72		;[Instrument] 3
    1772.  0E:096E                      				;[Skip delay] 2
    1773.  0E:096E  25                  	db $25		;[Note] 38
    1774.  0E:096F  6F                  	db $6F		;[Volume] 15
    1775.  0E:0970  75                  	db $75		;[Instrument] 6
    1776.  0E:0971  C0                  	db $C0		;[Wait] 1
    1777.  0E:0972  25                  	db $25		;[Note] 38
    1778.  0E:0973  6E                  	db $6E		;[Volume] 14
    1779.  0E:0974                      				;[Skip delay] 1
    1780.  0E:0974  1E                  	db $1E		;[Note] 31
    1781.  0E:0975  6F                  	db $6F		;[Volume] 15
    1782.  0E:0976  C1                  	db $C1		;[Wait] 2
    1783.  0E:0977  1B                  	db $1B		;[Note] 28
    1784.  0E:0978                      				;[Skip delay] 2
    1785.  0E:0978  15                  	db $15		;[Note] 22
    1786.  0E:0979                      				;[Skip delay] 2
    1787.  0E:0979  10                  	db $10		;[Note] 17
    1788.  0E:097A  C0                  	db $C0		;[Wait] 1
    1789.  0E:097B  5F                  	db $5F		;[Note] 96
    1790.  0E:097C  6B                  	db $6B		;[Volume] 11
    1791.  0E:097D  72                  	db $72		;[Instrument] 3
    1792.  0E:097E                      				;[Skip delay] 1
    1793.  0E:097E  1F                  	db $1F		;[Note] 32
    1794.  0E:097F  6F                  	db $6F		;[Volume] 15
    1795.  0E:0980  71                  	db $71		;[Instrument] 2
    1796.  0E:0981  C1                  	db $C1		;[Wait] 2
    1797.  0E:0982  1F                  	db $1F		;[Note] 32
    1798.  0E:0983  C0                  	db $C0		;[Wait] 1
    1799.  0E:0984  1F                  	db $1F		;[Note] 32
    1800.  0E:0985                      				;[Skip delay] 1
    1801.  0E:0985  BF                  	db $BF		;[End-Of-Track]
    1802.  0E:0986                      .track_17:
    1803.  0E:0986  15                  	db $15		;[Note] 22
    1804.  0E:0987  76                  	db $76		;[Instrument] 7
    1805.  0E:0988  C1                  	db $C1		;[Wait] 2
    1806.  0E:0989  15                  	db $15		;[Note] 22
    1807.  0E:098A  C0                  	db $C0		;[Wait] 1
    1808.  0E:098B  15                  	db $15		;[Note] 22
    1809.  0E:098C                      				;[Skip delay] 1
    1810.  0E:098C  18                  	db $18		;[Note] 25
    1811.  0E:098D  C1                  	db $C1		;[Wait] 2
    1812.  0E:098E  15                  	db $15		;[Note] 22
    1813.  0E:098F                      				;[Skip delay] 2
    1814.  0E:098F  1A                  	db $1A		;[Note] 27
    1815.  0E:0990                      				;[Skip delay] 2
    1816.  0E:0990  15                  	db $15		;[Note] 22
    1817.  0E:0991                      				;[Skip delay] 2
    1818.  0E:0991  1C                  	db $1C		;[Note] 29
    1819.  0E:0992                      				;[Skip delay] 2
    1820.  0E:0992  13                  	db $13		;[Note] 20
    1821.  0E:0993  C1                  	db $C1		;[Wait..] 2
    1822.  0E:0994  A5 10               	db $A5, $10; slide-down
    1823.  0E:0996  C0                  	db $C0		;[Wait] 1
    1824.  0E:0997  AF 01               	db $AF, $01; slide-down rep
    1825.  0E:0999                      				;[Skip delay] 1
    1826.  0E:0999  13                  	db $13		;[Note] 20
    1827.  0E:099A                      				;[Skip delay] 1
    1828.  0E:099A  13                  	db $13		;[Note] 20
    1829.  0E:099B                      				;[Skip delay] 1
    1830.  0E:099B  17                  	db $17		;[Note] 24
    1831.  0E:099C  C1                  	db $C1		;[Wait] 2
    1832.  0E:099D  13                  	db $13		;[Note] 20
    1833.  0E:099E                      				;[Skip delay] 2
    1834.  0E:099E  18                  	db $18		;[Note] 25
    1835.  0E:099F                      				;[Skip delay] 2
    1836.  0E:099F  13                  	db $13		;[Note] 20
    1837.  0E:09A0                      				;[Skip delay] 2
    1838.  0E:09A0  1A                  	db $1A		;[Note] 27
    1839.  0E:09A1                      				;[Skip delay] 2
    1840.  0E:09A1  13                  	db $13		;[Note] 20
    1841.  0E:09A2                      				;[Skip delay] 2
    1842.  0E:09A2  11                  	db $11		;[Note] 18
    1843.  0E:09A3                      				;[Skip delay] 2
    1844.  0E:09A3  11                  	db $11		;[Note] 18
    1845.  0E:09A4  C0                  	db $C0		;[Wait] 1
    1846.  0E:09A5  11                  	db $11		;[Note] 18
    1847.  0E:09A6                      				;[Skip delay] 1
    1848.  0E:09A6  15                  	db $15		;[Note] 22
    1849.  0E:09A7  C1                  	db $C1		;[Wait] 2
    1850.  0E:09A8  11                  	db $11		;[Note] 18
    1851.  0E:09A9                      				;[Skip delay] 2
    1852.  0E:09A9  17                  	db $17		;[Note] 24
    1853.  0E:09AA                      				;[Skip delay] 2
    1854.  0E:09AA  11                  	db $11		;[Note] 18
    1855.  0E:09AB                      				;[Skip delay] 2
    1856.  0E:09AB  18                  	db $18		;[Note] 25
    1857.  0E:09AC                      				;[Skip delay] 2
    1858.  0E:09AC  10                  	db $10		;[Note] 17
    1859.  0E:09AD  C1                  	db $C1		;[Wait..] 2
    1860.  0E:09AE  A5 10               	db $A5, $10; slide-down
    1861.  0E:09B0  C0                  	db $C0		;[Wait] 1
    1862.  0E:09B1  AF 01               	db $AF, $01; slide-down rep
    1863.  0E:09B3                      				;[Skip delay] 1
    1864.  0E:09B3  10                  	db $10		;[Note] 17
    1865.  0E:09B4                      				;[Skip delay] 1
    1866.  0E:09B4  10                  	db $10		;[Note] 17
    1867.  0E:09B5                      				;[Skip delay] 1
    1868.  0E:09B5  13                  	db $13		;[Note] 20
    1869.  0E:09B6  C1                  	db $C1		;[Wait] 2
    1870.  0E:09B7  15                  	db $15		;[Note] 22
    1871.  0E:09B8                      				;[Skip delay] 2
    1872.  0E:09B8  15                  	db $15		;[Note] 22
    1873.  0E:09B9  C0                  	db $C0		;[Wait] 1
    1874.  0E:09BA  17                  	db $17		;[Note] 24
    1875.  0E:09BB  A6 20               	db $A6, $20; tone-slide
    1876.  0E:09BD                      				;[Skip delay] 1
    1877.  0E:09BD  15                  	db $15		;[Note] 22
    1878.  0E:09BE  C1                  	db $C1		;[Wait] 2
    1879.  0E:09BF  13                  	db $13		;[Note] 20
    1880.  0E:09C0                      				;[Skip delay] 2
    1881.  0E:09C0  10                  	db $10		;[Note] 17
    1882.  0E:09C1                      				;[Skip delay] 2
    1883.  0E:09C1  BF                  	db $BF		;[End-Of-Track]
    1884.  0E:09C2                      .track_18:
    1885.  0E:09C2  2D                  	db $2D		;[Note] 46
    1886.  0E:09C3  77                  	db $77		;[Instrument] 8
    1887.  0E:09C4  C1                  	db $C1		;[Wait] 2
    1888.  0E:09C5  2B                  	db $2B		;[Note] 44
    1889.  0E:09C6                      				;[Skip delay] 2
    1890.  0E:09C6  28                  	db $28		;[Note] 41
    1891.  0E:09C7                      				;[Skip delay] 2
    1892.  0E:09C7  2B                  	db $2B		;[Note] 44
    1893.  0E:09C8  C1                  	db $C1		;[Wait..] 2
    1894.  0E:09C9  A7 55               	db $A7, $55	;[CMD vibrato]
    1895.  0E:09CB  C0                  	db $C0		;[Wait] 1
    1896.  0E:09CC  B1 03               	db $B1, $03	;[CMD vibrato] rep
    1897.  0E:09CE  C2                  	db $C2		;[Wait] 3
    1898.  0E:09CF  2D                  	db $2D		;[Note] 46
    1899.  0E:09D0  C1                  	db $C1		;[Wait] 2
    1900.  0E:09D1  28                  	db $28		;[Note] 41
    1901.  0E:09D2  C2                  	db $C2		;[Wait] 3
    1902.  0E:09D3  A7 55               	db $A7, $55	;[CMD vibrato]
    1903.  0E:09D5  C0                  	db $C0		;[Wait] 1
    1904.  0E:09D6  B1 05               	db $B1, $05	;[CMD vibrato] rep
    1905.  0E:09D8  C4                  	db $C4		;[Wait] 5
    1906.  0E:09D9  A5 10               	db $A5, $10; slide-down
    1907.  0E:09DB  C0                  	db $C0		;[Wait] 1
    1908.  0E:09DC  AF 03               	db $AF, $03; slide-down rep
    1909.  0E:09DE  C2                  	db $C2		;[Wait] 3
    1910.  0E:09DF  60                  	db $60		;[Note] 97
    1911.  0E:09E0  C4                  	db $C4		;[Wait] 5
    1912.  0E:09E1  26                  	db $26		;[Note] 39
    1913.  0E:09E2  C0                  	db $C0		;[Wait] 1
    1914.  0E:09E3  28                  	db $28		;[Note] 41
    1915.  0E:09E4  A6 10               	db $A6, $10; tone-slide
    1916.  0E:09E6                      				;[Skip delay] 1
    1917.  0E:09E6  26                  	db $26		;[Note] 39
    1918.  0E:09E7  C1                  	db $C1		;[Wait] 2
    1919.  0E:09E8  24                  	db $24		;[Note] 37
    1920.  0E:09E9                      				;[Skip delay] 2
    1921.  0E:09E9  26                  	db $26		;[Note] 39
    1922.  0E:09EA  C1                  	db $C1		;[Wait..] 2
    1923.  0E:09EB  A7 55               	db $A7, $55	;[CMD vibrato]
    1924.  0E:09ED  C0                  	db $C0		;[Wait] 1
    1925.  0E:09EE  B1 03               	db $B1, $03	;[CMD vibrato] rep
    1926.  0E:09F0  C2                  	db $C2		;[Wait] 3
    1927.  0E:09F1  28                  	db $28		;[Note] 41
    1928.  0E:09F2  C1                  	db $C1		;[Wait] 2
    1929.  0E:09F3  23                  	db $23		;[Note] 36
    1930.  0E:09F4  C2                  	db $C2		;[Wait] 3
    1931.  0E:09F5  A7 55               	db $A7, $55	;[CMD vibrato]
    1932.  0E:09F7  C0                  	db $C0		;[Wait] 1
    1933.  0E:09F8  B1 05               	db $B1, $05	;[CMD vibrato] rep
    1934.  0E:09FA  C4                  	db $C4		;[Wait] 5
    1935.  0E:09FB  A5 10               	db $A5, $10; slide-down
    1936.  0E:09FD  C0                  	db $C0		;[Wait] 1
    1937.  0E:09FE  AF 03               	db $AF, $03; slide-down rep
    1938.  0E:0A00  C2                  	db $C2		;[Wait] 3
    1939.  0E:0A01  60                  	db $60		;[Note] 97
    1940.  0E:0A02  C4                  	db $C4		;[Wait] 5
    1941.  0E:0A03  BF                  	db $BF		;[End-Of-Track]
    1942.  0E:0A04                      .track_19:
    1943.  0E:0A04  15                  	db $15		;[Note] 22
    1944.  0E:0A05  79                  	db $79		;[Instrument] 10
    1945.  0E:0A06  C1                  	db $C1		;[Wait] 2
    1946.  0E:0A07  15                  	db $15		;[Note] 22
    1947.  0E:0A08  C0                  	db $C0		;[Wait] 1
    1948.  0E:0A09  15                  	db $15		;[Note] 22
    1949.  0E:0A0A                      				;[Skip delay] 1
    1950.  0E:0A0A  18                  	db $18		;[Note] 25
    1951.  0E:0A0B  C1                  	db $C1		;[Wait] 2
    1952.  0E:0A0C  15                  	db $15		;[Note] 22
    1953.  0E:0A0D                      				;[Skip delay] 2
    1954.  0E:0A0D  1A                  	db $1A		;[Note] 27
    1955.  0E:0A0E                      				;[Skip delay] 2
    1956.  0E:0A0E  15                  	db $15		;[Note] 22
    1957.  0E:0A0F                      				;[Skip delay] 2
    1958.  0E:0A0F  1C                  	db $1C		;[Note] 29
    1959.  0E:0A10                      				;[Skip delay] 2
    1960.  0E:0A10  13                  	db $13		;[Note] 20
    1961.  0E:0A11  C1                  	db $C1		;[Wait..] 2
    1962.  0E:0A12  A5 10               	db $A5, $10; slide-down
    1963.  0E:0A14  C0                  	db $C0		;[Wait] 1
    1964.  0E:0A15  AF 01               	db $AF, $01; slide-down rep
    1965.  0E:0A17                      				;[Skip delay] 1
    1966.  0E:0A17  13                  	db $13		;[Note] 20
    1967.  0E:0A18                      				;[Skip delay] 1
    1968.  0E:0A18  13                  	db $13		;[Note] 20
    1969.  0E:0A19                      				;[Skip delay] 1
    1970.  0E:0A19  17                  	db $17		;[Note] 24
    1971.  0E:0A1A  C1                  	db $C1		;[Wait] 2
    1972.  0E:0A1B  13                  	db $13		;[Note] 20
    1973.  0E:0A1C                      				;[Skip delay] 2
    1974.  0E:0A1C  18                  	db $18		;[Note] 25
    1975.  0E:0A1D                      				;[Skip delay] 2
    1976.  0E:0A1D  13                  	db $13		;[Note] 20
    1977.  0E:0A1E                      				;[Skip delay] 2
    1978.  0E:0A1E  1A                  	db $1A		;[Note] 27
    1979.  0E:0A1F                      				;[Skip delay] 2
    1980.  0E:0A1F  13                  	db $13		;[Note] 20
    1981.  0E:0A20                      				;[Skip delay] 2
    1982.  0E:0A20  11                  	db $11		;[Note] 18
    1983.  0E:0A21                      				;[Skip delay] 2
    1984.  0E:0A21  11                  	db $11		;[Note] 18
    1985.  0E:0A22  C0                  	db $C0		;[Wait] 1
    1986.  0E:0A23  11                  	db $11		;[Note] 18
    1987.  0E:0A24                      				;[Skip delay] 1
    1988.  0E:0A24  15                  	db $15		;[Note] 22
    1989.  0E:0A25  C1                  	db $C1		;[Wait] 2
    1990.  0E:0A26  11                  	db $11		;[Note] 18
    1991.  0E:0A27                      				;[Skip delay] 2
    1992.  0E:0A27  17                  	db $17		;[Note] 24
    1993.  0E:0A28                      				;[Skip delay] 2
    1994.  0E:0A28  11                  	db $11		;[Note] 18
    1995.  0E:0A29                      				;[Skip delay] 2
    1996.  0E:0A29  18                  	db $18		;[Note] 25
    1997.  0E:0A2A                      				;[Skip delay] 2
    1998.  0E:0A2A  10                  	db $10		;[Note] 17
    1999.  0E:0A2B  C1                  	db $C1		;[Wait..] 2
    2000.  0E:0A2C  A5 10               	db $A5, $10; slide-down
    2001.  0E:0A2E  C0                  	db $C0		;[Wait] 1
    2002.  0E:0A2F  AF 01               	db $AF, $01; slide-down rep
    2003.  0E:0A31                      				;[Skip delay] 1
    2004.  0E:0A31  10                  	db $10		;[Note] 17
    2005.  0E:0A32                      				;[Skip delay] 1
    2006.  0E:0A32  10                  	db $10		;[Note] 17
    2007.  0E:0A33                      				;[Skip delay] 1
    2008.  0E:0A33  13                  	db $13		;[Note] 20
    2009.  0E:0A34  C1                  	db $C1		;[Wait] 2
    2010.  0E:0A35  15                  	db $15		;[Note] 22
    2011.  0E:0A36                      				;[Skip delay] 2
    2012.  0E:0A36  15                  	db $15		;[Note] 22
    2013.  0E:0A37  C0                  	db $C0		;[Wait] 1
    2014.  0E:0A38  17                  	db $17		;[Note] 24
    2015.  0E:0A39  A6 20               	db $A6, $20; tone-slide
    2016.  0E:0A3B                      				;[Skip delay] 1
    2017.  0E:0A3B  15                  	db $15		;[Note] 22
    2018.  0E:0A3C  C1                  	db $C1		;[Wait] 2
    2019.  0E:0A3D  13                  	db $13		;[Note] 20
    2020.  0E:0A3E                      				;[Skip delay] 2
    2021.  0E:0A3E  10                  	db $10		;[Note] 17
    2022.  0E:0A3F                      				;[Skip delay] 2
    2023.  0E:0A3F  BF                  	db $BF		;[End-Of-Track]
    2024.  0E:0A40                      .track_20:
    2025.  0E:0A40  28                  	db $28		;[Note] 41
    2026.  0E:0A41  6A                  	db $6A		;[Volume] 10
    2027.  0E:0A42  89                  	db $89		;[Instrument] 26
    2028.  0E:0A43  C1                  	db $C1		;[Wait] 2
    2029.  0E:0A44  26                  	db $26		;[Note] 39
    2030.  0E:0A45                      				;[Skip delay] 2
    2031.  0E:0A45  24                  	db $24		;[Note] 37
    2032.  0E:0A46                      				;[Skip delay] 2
    2033.  0E:0A46  23                  	db $23		;[Note] 36
    2034.  0E:0A47  C3                  	db $C3		;[Wait] 4
    2035.  0E:0A48  24                  	db $24		;[Note] 37
    2036.  0E:0A49                      				;[Skip delay] 4
    2037.  0E:0A49  23                  	db $23		;[Note] 36
    2038.  0E:0A4A                      				;[Skip delay] 4
    2039.  0E:0A4A  24                  	db $24		;[Note] 37
    2040.  0E:0A4B  C1                  	db $C1		;[Wait] 2
    2041.  0E:0A4C  26                  	db $26		;[Note] 39
    2042.  0E:0A4D  C0                  	db $C0		;[Wait] 1
    2043.  0E:0A4E  32                  	db $32		;[Note] 51
    2044.  0E:0A4F  69                  	db $69		;[Volume] 9
    2045.  0E:0A50  7C                  	db $7C		;[Instrument] 13
    2046.  0E:0A51                      				;[Skip delay] 1
    2047.  0E:0A51  37                  	db $37		;[Note] 56
    2048.  0E:0A52                      				;[Skip delay] 1
    2049.  0E:0A52  3B                  	db $3B		;[Note] 60
    2050.  0E:0A53  6A                  	db $6A		;[Volume] 10
    2051.  0E:0A54                      				;[Skip delay] 1
    2052.  0E:0A54  3E                  	db $3E		;[Note] 63
    2053.  0E:0A55  6B                  	db $6B		;[Volume] 11
    2054.  0E:0A56                      				;[Skip delay] 1
    2055.  0E:0A56  3B                  	db $3B		;[Note] 60
    2056.  0E:0A57  6C                  	db $6C		;[Volume] 12
    2057.  0E:0A58                      				;[Skip delay] 1
    2058.  0E:0A58  37                  	db $37		;[Note] 56
    2059.  0E:0A59  6D                  	db $6D		;[Volume] 13
    2060.  0E:0A5A                      				;[Skip delay] 1
    2061.  0E:0A5A  32                  	db $32		;[Note] 51
    2062.  0E:0A5B  6E                  	db $6E		;[Volume] 14
    2063.  0E:0A5C                      				;[Skip delay] 1
    2064.  0E:0A5C  3B                  	db $3B		;[Note] 60
    2065.  0E:0A5D  6D                  	db $6D		;[Volume] 13
    2066.  0E:0A5E                      				;[Skip delay] 1
    2067.  0E:0A5E  37                  	db $37		;[Note] 56
    2068.  0E:0A5F  6C                  	db $6C		;[Volume] 12
    2069.  0E:0A60                      				;[Skip delay] 1
    2070.  0E:0A60  32                  	db $32		;[Note] 51
    2071.  0E:0A61                      				;[Skip delay] 1
    2072.  0E:0A61  2F                  	db $2F		;[Note] 48
    2073.  0E:0A62  6B                  	db $6B		;[Volume] 11
    2074.  0E:0A63                      				;[Skip delay] 1
    2075.  0E:0A63  28                  	db $28		;[Note] 41
    2076.  0E:0A64  6A                  	db $6A		;[Volume] 10
    2077.  0E:0A65  89                  	db $89		;[Instrument] 26
    2078.  0E:0A66  C1                  	db $C1		;[Wait] 2
    2079.  0E:0A67  26                  	db $26		;[Note] 39
    2080.  0E:0A68                      				;[Skip delay] 2
    2081.  0E:0A68  24                  	db $24		;[Note] 37
    2082.  0E:0A69                      				;[Skip delay] 2
    2083.  0E:0A69  23                  	db $23		;[Note] 36
    2084.  0E:0A6A  C3                  	db $C3		;[Wait] 4
    2085.  0E:0A6B  24                  	db $24		;[Note] 37
    2086.  0E:0A6C                      				;[Skip delay] 4
    2087.  0E:0A6C  23                  	db $23		;[Note] 36
    2088.  0E:0A6D                      				;[Skip delay] 4
    2089.  0E:0A6D  28                  	db $28		;[Note] 41
    2090.  0E:0A6E  81                  	db $81		;[Instrument] 18
    2091.  0E:0A6F  95 01               	db $95, $01	; track detune
    2092.  0E:0A71  C0                  	db $C0		;[Wait] 1
    2093.  0E:0A72  6B                  	db $6B		;[Volume] 11
    2094.  0E:0A73                      				;[Skip delay] 1
    2095.  0E:0A73  2B                  	db $2B		;[Note] 44
    2096.  0E:0A74  6C                  	db $6C		;[Volume] 12
    2097.  0E:0A75                      				;[Skip delay] 1
    2098.  0E:0A75  6D                  	db $6D		;[Volume] 13
    2099.  0E:0A76                      				;[Skip delay] 1
    2100.  0E:0A76  2D                  	db $2D		;[Note] 46
    2101.  0E:0A77  6E                  	db $6E		;[Volume] 14
    2102.  0E:0A78                      				;[Skip delay] 1
    2103.  0E:0A78  6F                  	db $6F		;[Volume] 15
    2104.  0E:0A79                      				;[Skip delay] 1
    2105.  0E:0A79  2D                  	db $2D		;[Note] 46
    2106.  0E:0A7A                      				;[Skip delay] 1
    2107.  0E:0A7A  2F                  	db $2F		;[Note] 48
    2108.  0E:0A7B  A6 20               	db $A6, $20; tone-slide
    2109.  0E:0A7D                      				;[Skip delay] 1
    2110.  0E:0A7D  2D                  	db $2D		;[Note] 46
    2111.  0E:0A7E  C0                  	db $C0		;[Wait..] 1
    2112.  0E:0A7F  6A                  	db $6A		;[Volume] 10
    2113.  0E:0A80                      				;[Skip delay] 1
    2114.  0E:0A80  2B                  	db $2B		;[Note] 44
    2115.  0E:0A81  69                  	db $69		;[Volume] 9
    2116.  0E:0A82  C1                  	db $C1		;[Wait] 2
    2117.  0E:0A83  28                  	db $28		;[Note] 41
    2118.  0E:0A84  68                  	db $68		;[Volume] 8
    2119.  0E:0A85                      				;[Skip delay] 2
    2120.  0E:0A85  BF                  	db $BF		;[End-Of-Track]
    2121.  0E:0A86                      .track_21:
    2122.  0E:0A86  24                  	db $24		;[Note] 37
    2123.  0E:0A87  69                  	db $69		;[Volume] 9
    2124.  0E:0A88  87                  	db $87		;[Instrument] 24
    2125.  0E:0A89  C5                  	db $C5		;[Wait] 6
    2126.  0E:0A8A  21                  	db $21		;[Note] 34
    2127.  0E:0A8B  6A                  	db $6A		;[Volume] 10
    2128.  0E:0A8C  C4                  	db $C4		;[Wait] 5
    2129.  0E:0A8D  69                  	db $69		;[Volume] 9
    2130.  0E:0A8E  C1                  	db $C1		;[Wait] 2
    2131.  0E:0A8F  66                  	db $66		;[Volume] 6
    2132.  0E:0A90  C0                  	db $C0		;[Wait] 1
    2133.  0E:0A91  64                  	db $64		;[Volume] 4
    2134.  0E:0A92                      				;[Skip delay] 1
    2135.  0E:0A92  63                  	db $63		;[Volume] 3
    2136.  0E:0A93                      				;[Skip delay] 1
    2137.  0E:0A93  26                  	db $26		;[Note] 39
    2138.  0E:0A94  66                  	db $66		;[Volume] 6
    2139.  0E:0A95  C1                  	db $C1		;[Wait] 2
    2140.  0E:0A96  68                  	db $68		;[Volume] 8
    2141.  0E:0A97  C0                  	db $C0		;[Wait] 1
    2142.  0E:0A98  69                  	db $69		;[Volume] 9
    2143.  0E:0A99  C4                  	db $C4		;[Wait] 5
    2144.  0E:0A9A  26                  	db $26		;[Note] 39
    2145.  0E:0A9B  C4                  	db $C4		;[Wait..] 5
    2146.  0E:0A9C  66                  	db $66		;[Volume] 6
    2147.  0E:0A9D  C0                  	db $C0		;[Wait] 1
    2148.  0E:0A9E  65                  	db $65		;[Volume] 5
    2149.  0E:0A9F                      				;[Skip delay] 1
    2150.  0E:0A9F  64                  	db $64		;[Volume] 4
    2151.  0E:0AA0                      				;[Skip delay] 1
    2152.  0E:0AA0  2D                  	db $2D		;[Note] 46
    2153.  0E:0AA1  68                  	db $68		;[Volume] 8
    2154.  0E:0AA2  C7                  	db $C7		;[Wait] 8
    2155.  0E:0AA3  2F                  	db $2F		;[Note] 48
    2156.  0E:0AA4                      				;[Skip delay] 8
    2157.  0E:0AA4  34                  	db $34		;[Note] 53
    2158.  0E:0AA5  C0                  	db $C0		;[Wait] 1
    2159.  0E:0AA6  69                  	db $69		;[Volume] 9
    2160.  0E:0AA7                      				;[Skip delay] 1
    2161.  0E:0AA7  6A                  	db $6A		;[Volume] 10
    2162.  0E:0AA8                      				;[Skip delay] 1
    2163.  0E:0AA8  28                  	db $28		;[Note] 41
    2164.  0E:0AA9  81                  	db $81		;[Instrument] 18
    2165.  0E:0AAA  95 08               	db $95, $08	; track detune
    2166.  0E:0AAC                      				;[Skip delay] 1
    2167.  0E:0AAC  6B                  	db $6B		;[Volume] 11
    2168.  0E:0AAD                      				;[Skip delay] 1
    2169.  0E:0AAD  2B                  	db $2B		;[Note] 44
    2170.  0E:0AAE  6C                  	db $6C		;[Volume] 12
    2171.  0E:0AAF                      				;[Skip delay] 1
    2172.  0E:0AAF  6D                  	db $6D		;[Volume] 13
    2173.  0E:0AB0                      				;[Skip delay] 1
    2174.  0E:0AB0  2D                  	db $2D		;[Note] 46
    2175.  0E:0AB1  6E                  	db $6E		;[Volume] 14
    2176.  0E:0AB2                      				;[Skip delay] 1
    2177.  0E:0AB2  6C                  	db $6C		;[Volume] 12
    2178.  0E:0AB3                      				;[Skip delay] 1
    2179.  0E:0AB3  2F                  	db $2F		;[Note] 48
    2180.  0E:0AB4  C1                  	db $C1		;[Wait] 2
    2181.  0E:0AB5  2D                  	db $2D		;[Note] 46
    2182.  0E:0AB6  6D                  	db $6D		;[Volume] 13
    2183.  0E:0AB7  C0                  	db $C0		;[Wait] 1
    2184.  0E:0AB8  6A                  	db $6A		;[Volume] 10
    2185.  0E:0AB9                      				;[Skip delay] 1
    2186.  0E:0AB9  2B                  	db $2B		;[Note] 44
    2187.  0E:0ABA  68                  	db $68		;[Volume] 8
    2188.  0E:0ABB  C1                  	db $C1		;[Wait] 2
    2189.  0E:0ABC  28                  	db $28		;[Note] 41
    2190.  0E:0ABD  67                  	db $67		;[Volume] 7
    2191.  0E:0ABE  C0                  	db $C0		;[Wait] 1
    2192.  0E:0ABF  BF                  	db $BF		;[End-Of-Track]
    2193.  0E:0AC0                      .track_22:
    2194.  0E:0AC0  3B                  	db $3B		;[Note] 60
    2195.  0E:0AC1  6E                  	db $6E		;[Volume] 14
    2196.  0E:0AC2  7F                  	db $7F		;[Instrument] 16
    2197.  0E:0AC3  C0                  	db $C0		;[Wait] 1
    2198.  0E:0AC4  3C                  	db $3C		;[Note] 61
    2199.  0E:0AC5  A6 04               	db $A6, $04; tone-slide
    2200.  0E:0AC7                      				;[Skip delay] 1
    2201.  0E:0AC7  3B                  	db $3B		;[Note] 60
    2202.  0E:0AC8  C1                  	db $C1		;[Wait] 2
    2203.  0E:0AC9  39                  	db $39		;[Note] 58
    2204.  0E:0ACA                      				;[Skip delay] 2
    2205.  0E:0ACA  3B                  	db $3B		;[Note] 60
    2206.  0E:0ACB  C1                  	db $C1		;[Wait..] 2
    2207.  0E:0ACC  67                  	db $67		;[Volume] 7
    2208.  0E:0ACD  C0                  	db $C0		;[Wait] 1
    2209.  0E:0ACE  65                  	db $65		;[Volume] 5
    2210.  0E:0ACF                      				;[Skip delay] 1
    2211.  0E:0ACF  3C                  	db $3C		;[Note] 61
    2212.  0E:0AD0  6A                  	db $6A		;[Volume] 10
    2213.  0E:0AD1  C1                  	db $C1		;[Wait] 2
    2214.  0E:0AD2  A7 67               	db $A7, $67	;[CMD vibrato]
    2215.  0E:0AD4  C0                  	db $C0		;[Wait] 1
    2216.  0E:0AD5  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2217.  0E:0AD7                      				;[Skip delay] 1
    2218.  0E:0AD7  40                  	db $40		;[Note] 65
    2219.  0E:0AD8  C1                  	db $C1		;[Wait] 2
    2220.  0E:0AD9  67                  	db $67		;[Volume] 7
    2221.  0E:0ADA  A7 67               	db $A7, $67	;[CMD vibrato]
    2222.  0E:0ADC  C0                  	db $C0		;[Wait] 1
    2223.  0E:0ADD  65                  	db $65		;[Volume] 5
    2224.  0E:0ADE  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2225.  0E:0AE0                      				;[Skip delay] 1
    2226.  0E:0AE0  3E                  	db $3E		;[Note] 63
    2227.  0E:0AE1  6D                  	db $6D		;[Volume] 13
    2228.  0E:0AE2  C1                  	db $C1		;[Wait] 2
    2229.  0E:0AE3  3E                  	db $3E		;[Note] 63
    2230.  0E:0AE4  C2                  	db $C2		;[Wait] 3
    2231.  0E:0AE5  A7 56               	db $A7, $56	;[CMD vibrato]
    2232.  0E:0AE7  C0                  	db $C0		;[Wait] 1
    2233.  0E:0AE8  B1 03               	db $B1, $03	;[CMD vibrato] rep
    2234.  0E:0AEA  C2                  	db $C2		;[Wait] 3
    2235.  0E:0AEB  A7 55               	db $A7, $55	;[CMD vibrato]
    2236.  0E:0AED  C0                  	db $C0		;[Wait] 1
    2237.  0E:0AEE  B1 04               	db $B1, $04	;[CMD vibrato] rep
    2238.  0E:0AF0                      				;[Skip delay] 1
    2239.  0E:0AF0  6A                  	db $6A		;[Volume] 10
    2240.  0E:0AF1                      				;[Skip delay] 1
    2241.  0E:0AF1  68                  	db $68		;[Volume] 8
    2242.  0E:0AF2                      				;[Skip delay] 1
    2243.  0E:0AF2  66                  	db $66		;[Volume] 6
    2244.  0E:0AF3                      				;[Skip delay] 1
    2245.  0E:0AF3  3B                  	db $3B		;[Note] 60
    2246.  0E:0AF4  6D                  	db $6D		;[Volume] 13
    2247.  0E:0AF5                      				;[Skip delay] 1
    2248.  0E:0AF5  3C                  	db $3C		;[Note] 61
    2249.  0E:0AF6  A6 05               	db $A6, $05; tone-slide
    2250.  0E:0AF8                      				;[Skip delay] 1
    2251.  0E:0AF8  3B                  	db $3B		;[Note] 60
    2252.  0E:0AF9  C1                  	db $C1		;[Wait] 2
    2253.  0E:0AFA  3C                  	db $3C		;[Note] 61
    2254.  0E:0AFB                      				;[Skip delay] 2
    2255.  0E:0AFB  3E                  	db $3E		;[Note] 63
    2256.  0E:0AFC  C1                  	db $C1		;[Wait..] 2
    2257.  0E:0AFD  A7 67               	db $A7, $67	;[CMD vibrato]
    2258.  0E:0AFF  C0                  	db $C0		;[Wait] 1
    2259.  0E:0B00  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2260.  0E:0B02                      				;[Skip delay] 1
    2261.  0E:0B02  3C                  	db $3C		;[Note] 61
    2262.  0E:0B03  6F                  	db $6F		;[Volume] 15
    2263.  0E:0B04  C1                  	db $C1		;[Wait] 2
    2264.  0E:0B05  3B                  	db $3B		;[Note] 60
    2265.  0E:0B06                      				;[Skip delay] 2
    2266.  0E:0B06  34                  	db $34		;[Note] 53
    2267.  0E:0B07                      				;[Skip delay] 2
    2268.  0E:0B07  60                  	db $60		;[Note] 97
    2269.  0E:0B08  A5 03               	db $A5, $03; slide-down
    2270.  0E:0B0A  C0                  	db $C0		;[Wait] 1
    2271.  0E:0B0B  AF 01               	db $AF, $01; slide-down rep
    2272.  0E:0B0D                      				;[Skip delay] 1
    2273.  0E:0B0D  1C                  	db $1C		;[Note] 29
    2274.  0E:0B0E  C1                  	db $C1		;[Wait] 2
    2275.  0E:0B0F  1F                  	db $1F		;[Note] 32
    2276.  0E:0B10                      				;[Skip delay] 2
    2277.  0E:0B10  21                  	db $21		;[Note] 34
    2278.  0E:0B11                      				;[Skip delay] 2
    2279.  0E:0B11  21                  	db $21		;[Note] 34
    2280.  0E:0B12  C0                  	db $C0		;[Wait] 1
    2281.  0E:0B13  23                  	db $23		;[Note] 36
    2282.  0E:0B14  A6 19               	db $A6, $19; tone-slide
    2283.  0E:0B16                      				;[Skip delay] 1
    2284.  0E:0B16  21                  	db $21		;[Note] 34
    2285.  0E:0B17  C1                  	db $C1		;[Wait] 2
    2286.  0E:0B18  1F                  	db $1F		;[Note] 32
    2287.  0E:0B19                      				;[Skip delay] 2
    2288.  0E:0B19  1C                  	db $1C		;[Note] 29
    2289.  0E:0B1A                      				;[Skip delay] 2
    2290.  0E:0B1A  BF                  	db $BF		;[End-Of-Track]
    2291.  0E:0B1B                      .track_23:
    2292.  0E:0B1B  37                  	db $37		;[Note] 56
    2293.  0E:0B1C  6D                  	db $6D		;[Volume] 13
    2294.  0E:0B1D  7F                  	db $7F		;[Instrument] 16
    2295.  0E:0B1E  95 08               	db $95, $08	; track detune
    2296.  0E:0B20  C0                  	db $C0		;[Wait] 1
    2297.  0E:0B21  39                  	db $39		;[Note] 58
    2298.  0E:0B22  A6 04               	db $A6, $04; tone-slide
    2299.  0E:0B24                      				;[Skip delay] 1
    2300.  0E:0B24  37                  	db $37		;[Note] 56
    2301.  0E:0B25  C1                  	db $C1		;[Wait] 2
    2302.  0E:0B26  34                  	db $34		;[Note] 53
    2303.  0E:0B27                      				;[Skip delay] 2
    2304.  0E:0B27  37                  	db $37		;[Note] 56
    2305.  0E:0B28  C1                  	db $C1		;[Wait..] 2
    2306.  0E:0B29  67                  	db $67		;[Volume] 7
    2307.  0E:0B2A  C0                  	db $C0		;[Wait] 1
    2308.  0E:0B2B  65                  	db $65		;[Volume] 5
    2309.  0E:0B2C                      				;[Skip delay] 1
    2310.  0E:0B2C  39                  	db $39		;[Note] 58
    2311.  0E:0B2D  6A                  	db $6A		;[Volume] 10
    2312.  0E:0B2E  C3                  	db $C3		;[Wait] 4
    2313.  0E:0B2F  3C                  	db $3C		;[Note] 61
    2314.  0E:0B30  C1                  	db $C1		;[Wait] 2
    2315.  0E:0B31  67                  	db $67		;[Volume] 7
    2316.  0E:0B32  C0                  	db $C0		;[Wait] 1
    2317.  0E:0B33  65                  	db $65		;[Volume] 5
    2318.  0E:0B34                      				;[Skip delay] 1
    2319.  0E:0B34  3B                  	db $3B		;[Note] 60
    2320.  0E:0B35  6A                  	db $6A		;[Volume] 10
    2321.  0E:0B36  C1                  	db $C1		;[Wait] 2
    2322.  0E:0B37  3B                  	db $3B		;[Note] 60
    2323.  0E:0B38  C8                  	db $C8		;[Wait] 9
    2324.  0E:0B39  69                  	db $69		;[Volume] 9
    2325.  0E:0B3A  C0                  	db $C0		;[Wait] 1
    2326.  0E:0B3B  68                  	db $68		;[Volume] 8
    2327.  0E:0B3C                      				;[Skip delay] 1
    2328.  0E:0B3C  64                  	db $64		;[Volume] 4
    2329.  0E:0B3D                      				;[Skip delay] 1
    2330.  0E:0B3D  37                  	db $37		;[Note] 56
    2331.  0E:0B3E  6A                  	db $6A		;[Volume] 10
    2332.  0E:0B3F                      				;[Skip delay] 1
    2333.  0E:0B3F  39                  	db $39		;[Note] 58
    2334.  0E:0B40  A6 05               	db $A6, $05; tone-slide
    2335.  0E:0B42                      				;[Skip delay] 1
    2336.  0E:0B42  37                  	db $37		;[Note] 56
    2337.  0E:0B43  C1                  	db $C1		;[Wait] 2
    2338.  0E:0B44  39                  	db $39		;[Note] 58
    2339.  0E:0B45                      				;[Skip delay] 2
    2340.  0E:0B45  3B                  	db $3B		;[Note] 60
    2341.  0E:0B46  C3                  	db $C3		;[Wait] 4
    2342.  0E:0B47  39                  	db $39		;[Note] 58
    2343.  0E:0B48  6F                  	db $6F		;[Volume] 15
    2344.  0E:0B49  C1                  	db $C1		;[Wait] 2
    2345.  0E:0B4A  37                  	db $37		;[Note] 56
    2346.  0E:0B4B                      				;[Skip delay] 2
    2347.  0E:0B4B  2F                  	db $2F		;[Note] 48
    2348.  0E:0B4C                      				;[Skip delay] 2
    2349.  0E:0B4C  60                  	db $60		;[Note] 97
    2350.  0E:0B4D  A5 03               	db $A5, $03; slide-down
    2351.  0E:0B4F  C0                  	db $C0		;[Wait] 1
    2352.  0E:0B50  AF 01               	db $AF, $01; slide-down rep
    2353.  0E:0B52                      				;[Skip delay] 1
    2354.  0E:0B52  23                  	db $23		;[Note] 36
    2355.  0E:0B53  C1                  	db $C1		;[Wait] 2
    2356.  0E:0B54  26                  	db $26		;[Note] 39
    2357.  0E:0B55                      				;[Skip delay] 2
    2358.  0E:0B55  28                  	db $28		;[Note] 41
    2359.  0E:0B56                      				;[Skip delay] 2
    2360.  0E:0B56  28                  	db $28		;[Note] 41
    2361.  0E:0B57  C0                  	db $C0		;[Wait] 1
    2362.  0E:0B58  2A                  	db $2A		;[Note] 43
    2363.  0E:0B59  A6 19               	db $A6, $19; tone-slide
    2364.  0E:0B5B                      				;[Skip delay] 1
    2365.  0E:0B5B  28                  	db $28		;[Note] 41
    2366.  0E:0B5C  C1                  	db $C1		;[Wait] 2
    2367.  0E:0B5D  26                  	db $26		;[Note] 39
    2368.  0E:0B5E                      				;[Skip delay] 2
    2369.  0E:0B5E  23                  	db $23		;[Note] 36
    2370.  0E:0B5F                      				;[Skip delay] 2
    2371.  0E:0B5F  BF                  	db $BF		;[End-Of-Track]
    2372.  0E:0B60                      .track_24:
    2373.  0E:0B60  15                  	db $15		;[Note] 22
    2374.  0E:0B61  76                  	db $76		;[Instrument] 7
    2375.  0E:0B62  C1                  	db $C1		;[Wait] 2
    2376.  0E:0B63  15                  	db $15		;[Note] 22
    2377.  0E:0B64  C0                  	db $C0		;[Wait] 1
    2378.  0E:0B65  15                  	db $15		;[Note] 22
    2379.  0E:0B66                      				;[Skip delay] 1
    2380.  0E:0B66  18                  	db $18		;[Note] 25
    2381.  0E:0B67  C1                  	db $C1		;[Wait] 2
    2382.  0E:0B68  15                  	db $15		;[Note] 22
    2383.  0E:0B69                      				;[Skip delay] 2
    2384.  0E:0B69  1A                  	db $1A		;[Note] 27
    2385.  0E:0B6A                      				;[Skip delay] 2
    2386.  0E:0B6A  15                  	db $15		;[Note] 22
    2387.  0E:0B6B                      				;[Skip delay] 2
    2388.  0E:0B6B  1C                  	db $1C		;[Note] 29
    2389.  0E:0B6C                      				;[Skip delay] 2
    2390.  0E:0B6C  13                  	db $13		;[Note] 20
    2391.  0E:0B6D  C1                  	db $C1		;[Wait..] 2
    2392.  0E:0B6E  A5 10               	db $A5, $10; slide-down
    2393.  0E:0B70  C0                  	db $C0		;[Wait] 1
    2394.  0E:0B71  AF 01               	db $AF, $01; slide-down rep
    2395.  0E:0B73                      				;[Skip delay] 1
    2396.  0E:0B73  13                  	db $13		;[Note] 20
    2397.  0E:0B74                      				;[Skip delay] 1
    2398.  0E:0B74  13                  	db $13		;[Note] 20
    2399.  0E:0B75                      				;[Skip delay] 1
    2400.  0E:0B75  17                  	db $17		;[Note] 24
    2401.  0E:0B76  C1                  	db $C1		;[Wait] 2
    2402.  0E:0B77  13                  	db $13		;[Note] 20
    2403.  0E:0B78                      				;[Skip delay] 2
    2404.  0E:0B78  18                  	db $18		;[Note] 25
    2405.  0E:0B79                      				;[Skip delay] 2
    2406.  0E:0B79  13                  	db $13		;[Note] 20
    2407.  0E:0B7A                      				;[Skip delay] 2
    2408.  0E:0B7A  1A                  	db $1A		;[Note] 27
    2409.  0E:0B7B                      				;[Skip delay] 2
    2410.  0E:0B7B  13                  	db $13		;[Note] 20
    2411.  0E:0B7C                      				;[Skip delay] 2
    2412.  0E:0B7C  11                  	db $11		;[Note] 18
    2413.  0E:0B7D                      				;[Skip delay] 2
    2414.  0E:0B7D  11                  	db $11		;[Note] 18
    2415.  0E:0B7E  C0                  	db $C0		;[Wait] 1
    2416.  0E:0B7F  11                  	db $11		;[Note] 18
    2417.  0E:0B80                      				;[Skip delay] 1
    2418.  0E:0B80  15                  	db $15		;[Note] 22
    2419.  0E:0B81  C1                  	db $C1		;[Wait] 2
    2420.  0E:0B82  11                  	db $11		;[Note] 18
    2421.  0E:0B83                      				;[Skip delay] 2
    2422.  0E:0B83  17                  	db $17		;[Note] 24
    2423.  0E:0B84                      				;[Skip delay] 2
    2424.  0E:0B84  11                  	db $11		;[Note] 18
    2425.  0E:0B85                      				;[Skip delay] 2
    2426.  0E:0B85  18                  	db $18		;[Note] 25
    2427.  0E:0B86                      				;[Skip delay] 2
    2428.  0E:0B86  10                  	db $10		;[Note] 17
    2429.  0E:0B87                      				;[Skip delay] 2
    2430.  0E:0B87  10                  	db $10		;[Note] 17
    2431.  0E:0B88                      				;[Skip delay] 2
    2432.  0E:0B88  10                  	db $10		;[Note] 17
    2433.  0E:0B89                      				;[Skip delay] 2
    2434.  0E:0B89  14                  	db $14		;[Note] 21
    2435.  0E:0B8A                      				;[Skip delay] 2
    2436.  0E:0B8A  10                  	db $10		;[Note] 17
    2437.  0E:0B8B                      				;[Skip delay] 2
    2438.  0E:0B8B  10                  	db $10		;[Note] 17
    2439.  0E:0B8C                      				;[Skip delay] 2
    2440.  0E:0B8C  10                  	db $10		;[Note] 17
    2441.  0E:0B8D  C0                  	db $C0		;[Wait] 1
    2442.  0E:0B8E  10                  	db $10		;[Note] 17
    2443.  0E:0B8F                      				;[Skip delay] 1
    2444.  0E:0B8F  13                  	db $13		;[Note] 20
    2445.  0E:0B90  C1                  	db $C1		;[Wait] 2
    2446.  0E:0B91  13                  	db $13		;[Note] 20
    2447.  0E:0B92  C0                  	db $C0		;[Wait] 1
    2448.  0E:0B93  13                  	db $13		;[Note] 20
    2449.  0E:0B94                      				;[Skip delay] 1
    2450.  0E:0B94  BF                  	db $BF		;[End-Of-Track]
    2451.  0E:0B95                      .track_25:
    2452.  0E:0B95  2D                  	db $2D		;[Note] 46
    2453.  0E:0B96  77                  	db $77		;[Instrument] 8
    2454.  0E:0B97  C1                  	db $C1		;[Wait] 2
    2455.  0E:0B98  2B                  	db $2B		;[Note] 44
    2456.  0E:0B99                      				;[Skip delay] 2
    2457.  0E:0B99  28                  	db $28		;[Note] 41
    2458.  0E:0B9A                      				;[Skip delay] 2
    2459.  0E:0B9A  2B                  	db $2B		;[Note] 44
    2460.  0E:0B9B  C1                  	db $C1		;[Wait..] 2
    2461.  0E:0B9C  A7 55               	db $A7, $55	;[CMD vibrato]
    2462.  0E:0B9E  C0                  	db $C0		;[Wait] 1
    2463.  0E:0B9F  B1 03               	db $B1, $03	;[CMD vibrato] rep
    2464.  0E:0BA1  C2                  	db $C2		;[Wait] 3
    2465.  0E:0BA2  2D                  	db $2D		;[Note] 46
    2466.  0E:0BA3  C1                  	db $C1		;[Wait] 2
    2467.  0E:0BA4  28                  	db $28		;[Note] 41
    2468.  0E:0BA5  C2                  	db $C2		;[Wait] 3
    2469.  0E:0BA6  A7 55               	db $A7, $55	;[CMD vibrato]
    2470.  0E:0BA8  C0                  	db $C0		;[Wait] 1
    2471.  0E:0BA9  B1 05               	db $B1, $05	;[CMD vibrato] rep
    2472.  0E:0BAB  C4                  	db $C4		;[Wait] 5
    2473.  0E:0BAC  A5 10               	db $A5, $10; slide-down
    2474.  0E:0BAE  C0                  	db $C0		;[Wait] 1
    2475.  0E:0BAF  AF 03               	db $AF, $03; slide-down rep
    2476.  0E:0BB1  C2                  	db $C2		;[Wait] 3
    2477.  0E:0BB2  60                  	db $60		;[Note] 97
    2478.  0E:0BB3  C4                  	db $C4		;[Wait] 5
    2479.  0E:0BB4  05                  	db $05		;[Note] 6
    2480.  0E:0BB5  6F                  	db $6F		;[Volume] 15
    2481.  0E:0BB6  76                  	db $76		;[Instrument] 7
    2482.  0E:0BB7  C1                  	db $C1		;[Wait] 2
    2483.  0E:0BB8  05                  	db $05		;[Note] 6
    2484.  0E:0BB9  C0                  	db $C0		;[Wait] 1
    2485.  0E:0BBA  05                  	db $05		;[Note] 6
    2486.  0E:0BBB                      				;[Skip delay] 1
    2487.  0E:0BBB  09                  	db $09		;[Note] 10
    2488.  0E:0BBC  C1                  	db $C1		;[Wait] 2
    2489.  0E:0BBD  05                  	db $05		;[Note] 6
    2490.  0E:0BBE                      				;[Skip delay] 2
    2491.  0E:0BBE  0B                  	db $0B		;[Note] 12
    2492.  0E:0BBF                      				;[Skip delay] 2
    2493.  0E:0BBF  05                  	db $05		;[Note] 6
    2494.  0E:0BC0                      				;[Skip delay] 2
    2495.  0E:0BC0  0C                  	db $0C		;[Note] 13
    2496.  0E:0BC1                      				;[Skip delay] 2
    2497.  0E:0BC1  04                  	db $04		;[Note] 5
    2498.  0E:0BC2                      				;[Skip delay] 2
    2499.  0E:0BC2  04                  	db $04		;[Note] 5
    2500.  0E:0BC3                      				;[Skip delay] 2
    2501.  0E:0BC3  04                  	db $04		;[Note] 5
    2502.  0E:0BC4                      				;[Skip delay] 2
    2503.  0E:0BC4  08                  	db $08		;[Note] 9
    2504.  0E:0BC5                      				;[Skip delay] 2
    2505.  0E:0BC5  04                  	db $04		;[Note] 5
    2506.  0E:0BC6                      				;[Skip delay] 2
    2507.  0E:0BC6  04                  	db $04		;[Note] 5
    2508.  0E:0BC7                      				;[Skip delay] 2
    2509.  0E:0BC7  04                  	db $04		;[Note] 5
    2510.  0E:0BC8  C0                  	db $C0		;[Wait] 1
    2511.  0E:0BC9  04                  	db $04		;[Note] 5
    2512.  0E:0BCA                      				;[Skip delay] 1
    2513.  0E:0BCA  07                  	db $07		;[Note] 8
    2514.  0E:0BCB  C1                  	db $C1		;[Wait] 2
    2515.  0E:0BCC  07                  	db $07		;[Note] 8
    2516.  0E:0BCD  C0                  	db $C0		;[Wait] 1
    2517.  0E:0BCE  07                  	db $07		;[Note] 8
    2518.  0E:0BCF                      				;[Skip delay] 1
    2519.  0E:0BCF  BF                  	db $BF		;[End-Of-Track]
    2520.  0E:0BD0                      .track_26:
    2521.  0E:0BD0  15                  	db $15		;[Note] 22
    2522.  0E:0BD1  79                  	db $79		;[Instrument] 10
    2523.  0E:0BD2  C1                  	db $C1		;[Wait] 2
    2524.  0E:0BD3  15                  	db $15		;[Note] 22
    2525.  0E:0BD4  C0                  	db $C0		;[Wait] 1
    2526.  0E:0BD5  15                  	db $15		;[Note] 22
    2527.  0E:0BD6                      				;[Skip delay] 1
    2528.  0E:0BD6  18                  	db $18		;[Note] 25
    2529.  0E:0BD7  C1                  	db $C1		;[Wait] 2
    2530.  0E:0BD8  15                  	db $15		;[Note] 22
    2531.  0E:0BD9                      				;[Skip delay] 2
    2532.  0E:0BD9  1A                  	db $1A		;[Note] 27
    2533.  0E:0BDA                      				;[Skip delay] 2
    2534.  0E:0BDA  15                  	db $15		;[Note] 22
    2535.  0E:0BDB                      				;[Skip delay] 2
    2536.  0E:0BDB  1C                  	db $1C		;[Note] 29
    2537.  0E:0BDC                      				;[Skip delay] 2
    2538.  0E:0BDC  13                  	db $13		;[Note] 20
    2539.  0E:0BDD  C1                  	db $C1		;[Wait..] 2
    2540.  0E:0BDE  A5 10               	db $A5, $10; slide-down
    2541.  0E:0BE0  C0                  	db $C0		;[Wait] 1
    2542.  0E:0BE1  AF 01               	db $AF, $01; slide-down rep
    2543.  0E:0BE3                      				;[Skip delay] 1
    2544.  0E:0BE3  13                  	db $13		;[Note] 20
    2545.  0E:0BE4                      				;[Skip delay] 1
    2546.  0E:0BE4  13                  	db $13		;[Note] 20
    2547.  0E:0BE5                      				;[Skip delay] 1
    2548.  0E:0BE5  17                  	db $17		;[Note] 24
    2549.  0E:0BE6  C1                  	db $C1		;[Wait] 2
    2550.  0E:0BE7  13                  	db $13		;[Note] 20
    2551.  0E:0BE8                      				;[Skip delay] 2
    2552.  0E:0BE8  18                  	db $18		;[Note] 25
    2553.  0E:0BE9                      				;[Skip delay] 2
    2554.  0E:0BE9  13                  	db $13		;[Note] 20
    2555.  0E:0BEA                      				;[Skip delay] 2
    2556.  0E:0BEA  1A                  	db $1A		;[Note] 27
    2557.  0E:0BEB                      				;[Skip delay] 2
    2558.  0E:0BEB  13                  	db $13		;[Note] 20
    2559.  0E:0BEC                      				;[Skip delay] 2
    2560.  0E:0BEC  11                  	db $11		;[Note] 18
    2561.  0E:0BED                      				;[Skip delay] 2
    2562.  0E:0BED  11                  	db $11		;[Note] 18
    2563.  0E:0BEE  C0                  	db $C0		;[Wait] 1
    2564.  0E:0BEF  11                  	db $11		;[Note] 18
    2565.  0E:0BF0                      				;[Skip delay] 1
    2566.  0E:0BF0  15                  	db $15		;[Note] 22
    2567.  0E:0BF1  C1                  	db $C1		;[Wait] 2
    2568.  0E:0BF2  11                  	db $11		;[Note] 18
    2569.  0E:0BF3                      				;[Skip delay] 2
    2570.  0E:0BF3  17                  	db $17		;[Note] 24
    2571.  0E:0BF4                      				;[Skip delay] 2
    2572.  0E:0BF4  11                  	db $11		;[Note] 18
    2573.  0E:0BF5                      				;[Skip delay] 2
    2574.  0E:0BF5  18                  	db $18		;[Note] 25
    2575.  0E:0BF6                      				;[Skip delay] 2
    2576.  0E:0BF6  10                  	db $10		;[Note] 17
    2577.  0E:0BF7                      				;[Skip delay] 2
    2578.  0E:0BF7  10                  	db $10		;[Note] 17
    2579.  0E:0BF8                      				;[Skip delay] 2
    2580.  0E:0BF8  10                  	db $10		;[Note] 17
    2581.  0E:0BF9                      				;[Skip delay] 2
    2582.  0E:0BF9  14                  	db $14		;[Note] 21
    2583.  0E:0BFA                      				;[Skip delay] 2
    2584.  0E:0BFA  10                  	db $10		;[Note] 17
    2585.  0E:0BFB                      				;[Skip delay] 2
    2586.  0E:0BFB  10                  	db $10		;[Note] 17
    2587.  0E:0BFC                      				;[Skip delay] 2
    2588.  0E:0BFC  10                  	db $10		;[Note] 17
    2589.  0E:0BFD  C0                  	db $C0		;[Wait] 1
    2590.  0E:0BFE  10                  	db $10		;[Note] 17
    2591.  0E:0BFF                      				;[Skip delay] 1
    2592.  0E:0BFF  13                  	db $13		;[Note] 20
    2593.  0E:0C00  C1                  	db $C1		;[Wait] 2
    2594.  0E:0C01  13                  	db $13		;[Note] 20
    2595.  0E:0C02  C0                  	db $C0		;[Wait] 1
    2596.  0E:0C03  13                  	db $13		;[Note] 20
    2597.  0E:0C04                      				;[Skip delay] 1
    2598.  0E:0C04  BF                  	db $BF		;[End-Of-Track]
    2599.  0E:0C05                      .track_27:
    2600.  0E:0C05  28                  	db $28		;[Note] 41
    2601.  0E:0C06  6A                  	db $6A		;[Volume] 10
    2602.  0E:0C07  89                  	db $89		;[Instrument] 26
    2603.  0E:0C08  C1                  	db $C1		;[Wait] 2
    2604.  0E:0C09  26                  	db $26		;[Note] 39
    2605.  0E:0C0A                      				;[Skip delay] 2
    2606.  0E:0C0A  24                  	db $24		;[Note] 37
    2607.  0E:0C0B                      				;[Skip delay] 2
    2608.  0E:0C0B  23                  	db $23		;[Note] 36
    2609.  0E:0C0C  C3                  	db $C3		;[Wait] 4
    2610.  0E:0C0D  24                  	db $24		;[Note] 37
    2611.  0E:0C0E                      				;[Skip delay] 4
    2612.  0E:0C0E  23                  	db $23		;[Note] 36
    2613.  0E:0C0F                      				;[Skip delay] 4
    2614.  0E:0C0F  24                  	db $24		;[Note] 37
    2615.  0E:0C10  C1                  	db $C1		;[Wait] 2
    2616.  0E:0C11  26                  	db $26		;[Note] 39
    2617.  0E:0C12  C0                  	db $C0		;[Wait] 1
    2618.  0E:0C13  32                  	db $32		;[Note] 51
    2619.  0E:0C14  69                  	db $69		;[Volume] 9
    2620.  0E:0C15  7C                  	db $7C		;[Instrument] 13
    2621.  0E:0C16                      				;[Skip delay] 1
    2622.  0E:0C16  37                  	db $37		;[Note] 56
    2623.  0E:0C17                      				;[Skip delay] 1
    2624.  0E:0C17  3B                  	db $3B		;[Note] 60
    2625.  0E:0C18  6A                  	db $6A		;[Volume] 10
    2626.  0E:0C19                      				;[Skip delay] 1
    2627.  0E:0C19  3E                  	db $3E		;[Note] 63
    2628.  0E:0C1A  6B                  	db $6B		;[Volume] 11
    2629.  0E:0C1B                      				;[Skip delay] 1
    2630.  0E:0C1B  3B                  	db $3B		;[Note] 60
    2631.  0E:0C1C  6C                  	db $6C		;[Volume] 12
    2632.  0E:0C1D                      				;[Skip delay] 1
    2633.  0E:0C1D  37                  	db $37		;[Note] 56
    2634.  0E:0C1E                      				;[Skip delay] 1
    2635.  0E:0C1E  32                  	db $32		;[Note] 51
    2636.  0E:0C1F  6A                  	db $6A		;[Volume] 10
    2637.  0E:0C20                      				;[Skip delay] 1
    2638.  0E:0C20  3B                  	db $3B		;[Note] 60
    2639.  0E:0C21                      				;[Skip delay] 1
    2640.  0E:0C21  37                  	db $37		;[Note] 56
    2641.  0E:0C22  67                  	db $67		;[Volume] 7
    2642.  0E:0C23                      				;[Skip delay] 1
    2643.  0E:0C23  32                  	db $32		;[Note] 51
    2644.  0E:0C24                      				;[Skip delay] 1
    2645.  0E:0C24  2F                  	db $2F		;[Note] 48
    2646.  0E:0C25  66                  	db $66		;[Volume] 6
    2647.  0E:0C26                      				;[Skip delay] 1
    2648.  0E:0C26  28                  	db $28		;[Note] 41
    2649.  0E:0C27  6A                  	db $6A		;[Volume] 10
    2650.  0E:0C28  89                  	db $89		;[Instrument] 26
    2651.  0E:0C29  C1                  	db $C1		;[Wait] 2
    2652.  0E:0C2A  26                  	db $26		;[Note] 39
    2653.  0E:0C2B                      				;[Skip delay] 2
    2654.  0E:0C2B  24                  	db $24		;[Note] 37
    2655.  0E:0C2C                      				;[Skip delay] 2
    2656.  0E:0C2C  23                  	db $23		;[Note] 36
    2657.  0E:0C2D  C3                  	db $C3		;[Wait] 4
    2658.  0E:0C2E  24                  	db $24		;[Note] 37
    2659.  0E:0C2F                      				;[Skip delay] 4
    2660.  0E:0C2F  23                  	db $23		;[Note] 36
    2661.  0E:0C30  C1                  	db $C1		;[Wait] 2
    2662.  0E:0C31  28                  	db $28		;[Note] 41
    2663.  0E:0C32  7C                  	db $7C		;[Instrument] 13
    2664.  0E:0C33  95 00               	db $95, $00	; track detune
    2665.  0E:0C35  C0                  	db $C0		;[Wait] 1
    2666.  0E:0C36  2C                  	db $2C		;[Note] 45
    2667.  0E:0C37                      				;[Skip delay] 1
    2668.  0E:0C37  2C                  	db $2C		;[Note] 45
    2669.  0E:0C38                      				;[Skip delay] 1
    2670.  0E:0C38  34                  	db $34		;[Note] 53
    2671.  0E:0C39                      				;[Skip delay] 1
    2672.  0E:0C39  2C                  	db $2C		;[Note] 45
    2673.  0E:0C3A                      				;[Skip delay] 1
    2674.  0E:0C3A  2F                  	db $2F		;[Note] 48
    2675.  0E:0C3B                      				;[Skip delay] 1
    2676.  0E:0C3B  34                  	db $34		;[Note] 53
    2677.  0E:0C3C                      				;[Skip delay] 1
    2678.  0E:0C3C  38                  	db $38		;[Note] 57
    2679.  0E:0C3D                      				;[Skip delay] 1
    2680.  0E:0C3D  2F                  	db $2F		;[Note] 48
    2681.  0E:0C3E                      				;[Skip delay] 1
    2682.  0E:0C3E  34                  	db $34		;[Note] 53
    2683.  0E:0C3F                      				;[Skip delay] 1
    2684.  0E:0C3F  38                  	db $38		;[Note] 57
    2685.  0E:0C40                      				;[Skip delay] 1
    2686.  0E:0C40  3B                  	db $3B		;[Note] 60
    2687.  0E:0C41                      				;[Skip delay] 1
    2688.  0E:0C41  34                  	db $34		;[Note] 53
    2689.  0E:0C42                      				;[Skip delay] 1
    2690.  0E:0C42  38                  	db $38		;[Note] 57
    2691.  0E:0C43                      				;[Skip delay] 1
    2692.  0E:0C43  3B                  	db $3B		;[Note] 60
    2693.  0E:0C44                      				;[Skip delay] 1
    2694.  0E:0C44  40                  	db $40		;[Note] 65
    2695.  0E:0C45                      				;[Skip delay] 1
    2696.  0E:0C45  BF                  	db $BF		;[End-Of-Track]
    2697.  0E:0C46                      .track_28:
    2698.  0E:0C46  24                  	db $24		;[Note] 37
    2699.  0E:0C47  69                  	db $69		;[Volume] 9
    2700.  0E:0C48  87                  	db $87		;[Instrument] 24
    2701.  0E:0C49  C5                  	db $C5		;[Wait] 6
    2702.  0E:0C4A  21                  	db $21		;[Note] 34
    2703.  0E:0C4B  6A                  	db $6A		;[Volume] 10
    2704.  0E:0C4C  C4                  	db $C4		;[Wait] 5
    2705.  0E:0C4D  69                  	db $69		;[Volume] 9
    2706.  0E:0C4E  C1                  	db $C1		;[Wait] 2
    2707.  0E:0C4F  66                  	db $66		;[Volume] 6
    2708.  0E:0C50  C0                  	db $C0		;[Wait] 1
    2709.  0E:0C51  64                  	db $64		;[Volume] 4
    2710.  0E:0C52                      				;[Skip delay] 1
    2711.  0E:0C52  63                  	db $63		;[Volume] 3
    2712.  0E:0C53                      				;[Skip delay] 1
    2713.  0E:0C53  26                  	db $26		;[Note] 39
    2714.  0E:0C54  66                  	db $66		;[Volume] 6
    2715.  0E:0C55  C1                  	db $C1		;[Wait] 2
    2716.  0E:0C56  68                  	db $68		;[Volume] 8
    2717.  0E:0C57  C0                  	db $C0		;[Wait] 1
    2718.  0E:0C58  69                  	db $69		;[Volume] 9
    2719.  0E:0C59  C4                  	db $C4		;[Wait] 5
    2720.  0E:0C5A  26                  	db $26		;[Note] 39
    2721.  0E:0C5B  C4                  	db $C4		;[Wait..] 5
    2722.  0E:0C5C  66                  	db $66		;[Volume] 6
    2723.  0E:0C5D  C0                  	db $C0		;[Wait] 1
    2724.  0E:0C5E  65                  	db $65		;[Volume] 5
    2725.  0E:0C5F                      				;[Skip delay] 1
    2726.  0E:0C5F  64                  	db $64		;[Volume] 4
    2727.  0E:0C60                      				;[Skip delay] 1
    2728.  0E:0C60  23                  	db $23		;[Note] 36
    2729.  0E:0C61  69                  	db $69		;[Volume] 9
    2730.  0E:0C62  83                  	db $83		;[Instrument] 20
    2731.  0E:0C63                      				;[Skip delay] 1
    2732.  0E:0C63  24                  	db $24		;[Note] 37
    2733.  0E:0C64  A6 06               	db $A6, $06; tone-slide
    2734.  0E:0C66                      				;[Skip delay] 1
    2735.  0E:0C66  23                  	db $23		;[Note] 36
    2736.  0E:0C67  C1                  	db $C1		;[Wait] 2
    2737.  0E:0C68  24                  	db $24		;[Note] 37
    2738.  0E:0C69                      				;[Skip delay] 2
    2739.  0E:0C69  26                  	db $26		;[Note] 39
    2740.  0E:0C6A  C3                  	db $C3		;[Wait] 4
    2741.  0E:0C6B  28                  	db $28		;[Note] 41
    2742.  0E:0C6C  C1                  	db $C1		;[Wait] 2
    2743.  0E:0C6D  2D                  	db $2D		;[Note] 46
    2744.  0E:0C6E                      				;[Skip delay] 2
    2745.  0E:0C6E  2F                  	db $2F		;[Note] 48
    2746.  0E:0C6F                      				;[Skip delay] 2
    2747.  0E:0C6F  1C                  	db $1C		;[Note] 29
    2748.  0E:0C70  6A                  	db $6A		;[Volume] 10
    2749.  0E:0C71  81                  	db $81		;[Instrument] 18
    2750.  0E:0C72  95 09               	db $95, $09	; track detune
    2751.  0E:0C74  C0                  	db $C0		;[Wait] 1
    2752.  0E:0C75  20                  	db $20		;[Note] 33
    2753.  0E:0C76                      				;[Skip delay] 1
    2754.  0E:0C76  20                  	db $20		;[Note] 33
    2755.  0E:0C77                      				;[Skip delay] 1
    2756.  0E:0C77  28                  	db $28		;[Note] 41
    2757.  0E:0C78                      				;[Skip delay] 1
    2758.  0E:0C78  20                  	db $20		;[Note] 33
    2759.  0E:0C79                      				;[Skip delay] 1
    2760.  0E:0C79  23                  	db $23		;[Note] 36
    2761.  0E:0C7A                      				;[Skip delay] 1
    2762.  0E:0C7A  28                  	db $28		;[Note] 41
    2763.  0E:0C7B                      				;[Skip delay] 1
    2764.  0E:0C7B  2C                  	db $2C		;[Note] 45
    2765.  0E:0C7C                      				;[Skip delay] 1
    2766.  0E:0C7C  23                  	db $23		;[Note] 36
    2767.  0E:0C7D                      				;[Skip delay] 1
    2768.  0E:0C7D  28                  	db $28		;[Note] 41
    2769.  0E:0C7E                      				;[Skip delay] 1
    2770.  0E:0C7E  2C                  	db $2C		;[Note] 45
    2771.  0E:0C7F                      				;[Skip delay] 1
    2772.  0E:0C7F  2F                  	db $2F		;[Note] 48
    2773.  0E:0C80                      				;[Skip delay] 1
    2774.  0E:0C80  28                  	db $28		;[Note] 41
    2775.  0E:0C81                      				;[Skip delay] 1
    2776.  0E:0C81  2C                  	db $2C		;[Note] 45
    2777.  0E:0C82                      				;[Skip delay] 1
    2778.  0E:0C82  2F                  	db $2F		;[Note] 48
    2779.  0E:0C83                      				;[Skip delay] 1
    2780.  0E:0C83  34                  	db $34		;[Note] 53
    2781.  0E:0C84                      				;[Skip delay] 1
    2782.  0E:0C84  BF                  	db $BF		;[End-Of-Track]
    2783.  0E:0C85                      .track_29:
    2784.  0E:0C85  3B                  	db $3B		;[Note] 60
    2785.  0E:0C86  6E                  	db $6E		;[Volume] 14
    2786.  0E:0C87  7F                  	db $7F		;[Instrument] 16
    2787.  0E:0C88  C0                  	db $C0		;[Wait] 1
    2788.  0E:0C89  3C                  	db $3C		;[Note] 61
    2789.  0E:0C8A  A6 04               	db $A6, $04; tone-slide
    2790.  0E:0C8C                      				;[Skip delay] 1
    2791.  0E:0C8C  3B                  	db $3B		;[Note] 60
    2792.  0E:0C8D  C1                  	db $C1		;[Wait] 2
    2793.  0E:0C8E  39                  	db $39		;[Note] 58
    2794.  0E:0C8F                      				;[Skip delay] 2
    2795.  0E:0C8F  3B                  	db $3B		;[Note] 60
    2796.  0E:0C90  C1                  	db $C1		;[Wait..] 2
    2797.  0E:0C91  67                  	db $67		;[Volume] 7
    2798.  0E:0C92  C0                  	db $C0		;[Wait] 1
    2799.  0E:0C93  65                  	db $65		;[Volume] 5
    2800.  0E:0C94                      				;[Skip delay] 1
    2801.  0E:0C94  3C                  	db $3C		;[Note] 61
    2802.  0E:0C95  6A                  	db $6A		;[Volume] 10
    2803.  0E:0C96  C1                  	db $C1		;[Wait] 2
    2804.  0E:0C97  A7 67               	db $A7, $67	;[CMD vibrato]
    2805.  0E:0C99  C0                  	db $C0		;[Wait] 1
    2806.  0E:0C9A  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2807.  0E:0C9C                      				;[Skip delay] 1
    2808.  0E:0C9C  40                  	db $40		;[Note] 65
    2809.  0E:0C9D  C0                  	db $C0		;[Wait..] 1
    2810.  0E:0C9E  A7 67               	db $A7, $67	;[CMD vibrato]
    2811.  0E:0CA0                      				;[Skip delay] 1
    2812.  0E:0CA0  67                  	db $67		;[Volume] 7
    2813.  0E:0CA1  B1 02               	db $B1, $02	;[CMD vibrato] rep
    2814.  0E:0CA3                      				;[Skip delay] 1
    2815.  0E:0CA3  65                  	db $65		;[Volume] 5
    2816.  0E:0CA4                      				;[Skip delay] 1
    2817.  0E:0CA4  3E                  	db $3E		;[Note] 63
    2818.  0E:0CA5  6D                  	db $6D		;[Volume] 13
    2819.  0E:0CA6  C1                  	db $C1		;[Wait] 2
    2820.  0E:0CA7  3E                  	db $3E		;[Note] 63
    2821.  0E:0CA8  C2                  	db $C2		;[Wait] 3
    2822.  0E:0CA9  A7 56               	db $A7, $56	;[CMD vibrato]
    2823.  0E:0CAB  C0                  	db $C0		;[Wait] 1
    2824.  0E:0CAC  B1 03               	db $B1, $03	;[CMD vibrato] rep
    2825.  0E:0CAE  C2                  	db $C2		;[Wait] 3
    2826.  0E:0CAF  A7 55               	db $A7, $55	;[CMD vibrato]
    2827.  0E:0CB1  C0                  	db $C0		;[Wait] 1
    2828.  0E:0CB2  B1 04               	db $B1, $04	;[CMD vibrato] rep
    2829.  0E:0CB4                      				;[Skip delay] 1
    2830.  0E:0CB4  6A                  	db $6A		;[Volume] 10
    2831.  0E:0CB5                      				;[Skip delay] 1
    2832.  0E:0CB5  68                  	db $68		;[Volume] 8
    2833.  0E:0CB6                      				;[Skip delay] 1
    2834.  0E:0CB6  66                  	db $66		;[Volume] 6
    2835.  0E:0CB7                      				;[Skip delay] 1
    2836.  0E:0CB7  3B                  	db $3B		;[Note] 60
    2837.  0E:0CB8  6D                  	db $6D		;[Volume] 13
    2838.  0E:0CB9                      				;[Skip delay] 1
    2839.  0E:0CB9  3C                  	db $3C		;[Note] 61
    2840.  0E:0CBA  A6 05               	db $A6, $05; tone-slide
    2841.  0E:0CBC                      				;[Skip delay] 1
    2842.  0E:0CBC  3B                  	db $3B		;[Note] 60
    2843.  0E:0CBD  C1                  	db $C1		;[Wait] 2
    2844.  0E:0CBE  3C                  	db $3C		;[Note] 61
    2845.  0E:0CBF                      				;[Skip delay] 2
    2846.  0E:0CBF  3E                  	db $3E		;[Note] 63
    2847.  0E:0CC0  C1                  	db $C1		;[Wait..] 2
    2848.  0E:0CC1  A7 67               	db $A7, $67	;[CMD vibrato]
    2849.  0E:0CC3  C0                  	db $C0		;[Wait] 1
    2850.  0E:0CC4  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2851.  0E:0CC6                      				;[Skip delay] 1
    2852.  0E:0CC6  3C                  	db $3C		;[Note] 61
    2853.  0E:0CC7  C1                  	db $C1		;[Wait] 2
    2854.  0E:0CC8  3E                  	db $3E		;[Note] 63
    2855.  0E:0CC9                      				;[Skip delay] 2
    2856.  0E:0CC9  40                  	db $40		;[Note] 65
    2857.  0E:0CCA  C2                  	db $C2		;[Wait] 3
    2858.  0E:0CCB  A7 56               	db $A7, $56	;[CMD vibrato]
    2859.  0E:0CCD  C0                  	db $C0		;[Wait] 1
    2860.  0E:0CCE  B1 02               	db $B1, $02	;[CMD vibrato] rep
    2861.  0E:0CD0  C1                  	db $C1		;[Wait] 2
    2862.  0E:0CD1  69                  	db $69		;[Volume] 9
    2863.  0E:0CD2  A7 55               	db $A7, $55	;[CMD vibrato]
    2864.  0E:0CD4  C0                  	db $C0		;[Wait] 1
    2865.  0E:0CD5  67                  	db $67		;[Volume] 7
    2866.  0E:0CD6  B1 02               	db $B1, $02	;[CMD vibrato] rep
    2867.  0E:0CD8                      				;[Skip delay] 1
    2868.  0E:0CD8  66                  	db $66		;[Volume] 6
    2869.  0E:0CD9                      				;[Skip delay] 1
    2870.  0E:0CD9  60                  	db $60		;[Note] 97
    2871.  0E:0CDA  63                  	db $63		;[Volume] 3
    2872.  0E:0CDB                      				;[Skip delay] 1
    2873.  0E:0CDB  40                  	db $40		;[Note] 65
    2874.  0E:0CDC  6A                  	db $6A		;[Volume] 10
    2875.  0E:0CDD  83                  	db $83		;[Instrument] 20
    2876.  0E:0CDE  C1                  	db $C1		;[Wait] 2
    2877.  0E:0CDF  A7 55               	db $A7, $55	;[CMD vibrato]
    2878.  0E:0CE1  C0                  	db $C0		;[Wait] 1
    2879.  0E:0CE2  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2880.  0E:0CE4                      				;[Skip delay] 1
    2881.  0E:0CE4  43                  	db $43		;[Note] 68
    2882.  0E:0CE5  C1                  	db $C1		;[Wait] 2
    2883.  0E:0CE6  A7 55               	db $A7, $55	;[CMD vibrato]
    2884.  0E:0CE8  C0                  	db $C0		;[Wait] 1
    2885.  0E:0CE9  B1 01               	db $B1, $01	;[CMD vibrato] rep
    2886.  0E:0CEB                      				;[Skip delay] 1
    2887.  0E:0CEB  BF                  	db $BF		;[End-Of-Track]
    2888.  0E:0CEC                      .track_30:
    2889.  0E:0CEC  37                  	db $37		;[Note] 56
    2890.  0E:0CED  6D                  	db $6D		;[Volume] 13
    2891.  0E:0CEE  7F                  	db $7F		;[Instrument] 16
    2892.  0E:0CEF  95 08               	db $95, $08	; track detune
    2893.  0E:0CF1  C0                  	db $C0		;[Wait] 1
    2894.  0E:0CF2  39                  	db $39		;[Note] 58
    2895.  0E:0CF3  A6 04               	db $A6, $04; tone-slide
    2896.  0E:0CF5                      				;[Skip delay] 1
    2897.  0E:0CF5  37                  	db $37		;[Note] 56
    2898.  0E:0CF6  C1                  	db $C1		;[Wait] 2
    2899.  0E:0CF7  34                  	db $34		;[Note] 53
    2900.  0E:0CF8                      				;[Skip delay] 2
    2901.  0E:0CF8  37                  	db $37		;[Note] 56
    2902.  0E:0CF9  C1                  	db $C1		;[Wait..] 2
    2903.  0E:0CFA  67                  	db $67		;[Volume] 7
    2904.  0E:0CFB  C0                  	db $C0		;[Wait] 1
    2905.  0E:0CFC  65                  	db $65		;[Volume] 5
    2906.  0E:0CFD                      				;[Skip delay] 1
    2907.  0E:0CFD  39                  	db $39		;[Note] 58
    2908.  0E:0CFE  6A                  	db $6A		;[Volume] 10
    2909.  0E:0CFF  C3                  	db $C3		;[Wait] 4
    2910.  0E:0D00  3C                  	db $3C		;[Note] 61
    2911.  0E:0D01  C1                  	db $C1		;[Wait] 2
    2912.  0E:0D02  67                  	db $67		;[Volume] 7
    2913.  0E:0D03  C0                  	db $C0		;[Wait] 1
    2914.  0E:0D04  65                  	db $65		;[Volume] 5
    2915.  0E:0D05                      				;[Skip delay] 1
    2916.  0E:0D05  3B                  	db $3B		;[Note] 60
    2917.  0E:0D06  6A                  	db $6A		;[Volume] 10
    2918.  0E:0D07  C1                  	db $C1		;[Wait] 2
    2919.  0E:0D08  3B                  	db $3B		;[Note] 60
    2920.  0E:0D09  C8                  	db $C8		;[Wait] 9
    2921.  0E:0D0A  69                  	db $69		;[Volume] 9
    2922.  0E:0D0B  C0                  	db $C0		;[Wait] 1
    2923.  0E:0D0C  68                  	db $68		;[Volume] 8
    2924.  0E:0D0D                      				;[Skip delay] 1
    2925.  0E:0D0D  64                  	db $64		;[Volume] 4
    2926.  0E:0D0E                      				;[Skip delay] 1
    2927.  0E:0D0E  37                  	db $37		;[Note] 56
    2928.  0E:0D0F  6F                  	db $6F		;[Volume] 15
    2929.  0E:0D10                      				;[Skip delay] 1
    2930.  0E:0D10  39                  	db $39		;[Note] 58
    2931.  0E:0D11  A6 05               	db $A6, $05; tone-slide
    2932.  0E:0D13                      				;[Skip delay] 1
    2933.  0E:0D13  37                  	db $37		;[Note] 56
    2934.  0E:0D14  C1                  	db $C1		;[Wait] 2
    2935.  0E:0D15  39                  	db $39		;[Note] 58
    2936.  0E:0D16                      				;[Skip delay] 2
    2937.  0E:0D16  3B                  	db $3B		;[Note] 60
    2938.  0E:0D17  C3                  	db $C3		;[Wait] 4
    2939.  0E:0D18  39                  	db $39		;[Note] 58
    2940.  0E:0D19  C1                  	db $C1		;[Wait] 2
    2941.  0E:0D1A  37                  	db $37		;[Note] 56
    2942.  0E:0D1B                      				;[Skip delay] 2
    2943.  0E:0D1B  3B                  	db $3B		;[Note] 60
    2944.  0E:0D1C  C8                  	db $C8		;[Wait] 9
    2945.  0E:0D1D  60                  	db $60		;[Note] 97
    2946.  0E:0D1E  C0                  	db $C0		;[Wait] 1
    2947.  0E:0D1F  2C                  	db $2C		;[Note] 45
    2948.  0E:0D20  83                  	db $83		;[Instrument] 20
    2949.  0E:0D21  C3                  	db $C3		;[Wait] 4
    2950.  0E:0D22  2F                  	db $2F		;[Note] 48
    2951.  0E:0D23                      				;[Skip delay] 4
    2952.  0E:0D23  BF                  	db $BF		;[End-Of-Track]
    2953.  0E:0D24                      .track_31:
    2954.  0E:0D24  15                  	db $15		;[Note] 22
    2955.  0E:0D25  6F                  	db $6F		;[Volume] 15
    2956.  0E:0D26  76                  	db $76		;[Instrument] 7
    2957.  0E:0D27  C1                  	db $C1		;[Wait] 2
    2958.  0E:0D28  15                  	db $15		;[Note] 22
    2959.  0E:0D29  C0                  	db $C0		;[Wait] 1
    2960.  0E:0D2A  15                  	db $15		;[Note] 22
    2961.  0E:0D2B                      				;[Skip delay] 1
    2962.  0E:0D2B  15                  	db $15		;[Note] 22
    2963.  0E:0D2C  C1                  	db $C1		;[Wait] 2
    2964.  0E:0D2D  15                  	db $15		;[Note] 22
    2965.  0E:0D2E                      				;[Skip delay] 2
    2966.  0E:0D2E  15                  	db $15		;[Note] 22
    2967.  0E:0D2F                      				;[Skip delay] 2
    2968.  0E:0D2F  10                  	db $10		;[Note] 17
    2969.  0E:0D30                      				;[Skip delay] 2
    2970.  0E:0D30  15                  	db $15		;[Note] 22
    2971.  0E:0D31                      				;[Skip delay] 2
    2972.  0E:0D31  13                  	db $13		;[Note] 20
    2973.  0E:0D32  C3                  	db $C3		;[Wait] 4
    2974.  0E:0D33  13                  	db $13		;[Note] 20
    2975.  0E:0D34                      				;[Skip delay] 4
    2976.  0E:0D34  13                  	db $13		;[Note] 20
    2977.  0E:0D35  C1                  	db $C1		;[Wait] 2
    2978.  0E:0D36  0E                  	db $0E		;[Note] 15
    2979.  0E:0D37  C3                  	db $C3		;[Wait] 4
    2980.  0E:0D38  13                  	db $13		;[Note] 20
    2981.  0E:0D39                      				;[Skip delay] 4
    2982.  0E:0D39  11                  	db $11		;[Note] 18
    2983.  0E:0D3A  C1                  	db $C1		;[Wait] 2
    2984.  0E:0D3B  11                  	db $11		;[Note] 18
    2985.  0E:0D3C  C0                  	db $C0		;[Wait] 1
    2986.  0E:0D3D  11                  	db $11		;[Note] 18
    2987.  0E:0D3E                      				;[Skip delay] 1
    2988.  0E:0D3E  11                  	db $11		;[Note] 18
    2989.  0E:0D3F  C1                  	db $C1		;[Wait] 2
    2990.  0E:0D40  11                  	db $11		;[Note] 18
    2991.  0E:0D41                      				;[Skip delay] 2
    2992.  0E:0D41  13                  	db $13		;[Note] 20
    2993.  0E:0D42  C2                  	db $C2		;[Wait] 3
    2994.  0E:0D43  13                  	db $13		;[Note] 20
    2995.  0E:0D44                      				;[Skip delay] 3
    2996.  0E:0D44  15                  	db $15		;[Note] 22
    2997.  0E:0D45  C3                  	db $C3		;[Wait] 4
    2998.  0E:0D46  15                  	db $15		;[Note] 22
    2999.  0E:0D47                      				;[Skip delay] 4
    3000.  0E:0D47  15                  	db $15		;[Note] 22
    3001.  0E:0D48  C1                  	db $C1		;[Wait] 2
    3002.  0E:0D49  10                  	db $10		;[Note] 17
    3003.  0E:0D4A                      				;[Skip delay] 2
    3004.  0E:0D4A  10                  	db $10		;[Note] 17
    3005.  0E:0D4B  C0                  	db $C0		;[Wait] 1
    3006.  0E:0D4C  10                  	db $10		;[Note] 17
    3007.  0E:0D4D                      				;[Skip delay] 1
    3008.  0E:0D4D  10                  	db $10		;[Note] 17
    3009.  0E:0D4E  C1                  	db $C1		;[Wait] 2
    3010.  0E:0D4F  13                  	db $13		;[Note] 20
    3011.  0E:0D50  C0                  	db $C0		;[Wait] 1
    3012.  0E:0D51  13                  	db $13		;[Note] 20
    3013.  0E:0D52                      				;[Skip delay] 1
    3014.  0E:0D52  BF                  	db $BF		;[End-Of-Track]
    3015.  0E:0D53                      .track_32:
    3016.  0E:0D53  24                  	db $24		;[Note] 37
    3017.  0E:0D54  6C                  	db $6C		;[Volume] 12
    3018.  0E:0D55  78                  	db $78		;[Instrument] 9
    3019.  0E:0D56  C7                  	db $C7		;[Wait] 8
    3020.  0E:0D57  21                  	db $21		;[Note] 34
    3021.  0E:0D58                      				;[Skip delay] 8
    3022.  0E:0D58  23                  	db $23		;[Note] 36
    3023.  0E:0D59                      				;[Skip delay] 8
    3024.  0E:0D59  26                  	db $26		;[Note] 39
    3025.  0E:0D5A                      				;[Skip delay] 8
    3026.  0E:0D5A  1E                  	db $1E		;[Note] 31
    3027.  0E:0D5B  76                  	db $76		;[Instrument] 7
    3028.  0E:0D5C  C0                  	db $C0		;[Wait] 1
    3029.  0E:0D5D  21                  	db $21		;[Note] 34
    3030.  0E:0D5E  6D                  	db $6D		;[Volume] 13
    3031.  0E:0D5F                      				;[Skip delay] 1
    3032.  0E:0D5F  26                  	db $26		;[Note] 39
    3033.  0E:0D60  6E                  	db $6E		;[Volume] 14
    3034.  0E:0D61                      				;[Skip delay] 1
    3035.  0E:0D61  21                  	db $21		;[Note] 34
    3036.  0E:0D62                      				;[Skip delay] 1
    3037.  0E:0D62  21                  	db $21		;[Note] 34
    3038.  0E:0D63                      				;[Skip delay] 1
    3039.  0E:0D63  26                  	db $26		;[Note] 39
    3040.  0E:0D64                      				;[Skip delay] 1
    3041.  0E:0D64  2A                  	db $2A		;[Note] 43
    3042.  0E:0D65                      				;[Skip delay] 1
    3043.  0E:0D65  26                  	db $26		;[Note] 39
    3044.  0E:0D66                      				;[Skip delay] 1
    3045.  0E:0D66  26                  	db $26		;[Note] 39
    3046.  0E:0D67                      				;[Skip delay] 1
    3047.  0E:0D67  2A                  	db $2A		;[Note] 43
    3048.  0E:0D68                      				;[Skip delay] 1
    3049.  0E:0D68  2D                  	db $2D		;[Note] 46
    3050.  0E:0D69                      				;[Skip delay] 1
    3051.  0E:0D69  2A                  	db $2A		;[Note] 43
    3052.  0E:0D6A                      				;[Skip delay] 1
    3053.  0E:0D6A  2A                  	db $2A		;[Note] 43
    3054.  0E:0D6B                      				;[Skip delay] 1
    3055.  0E:0D6B  2D                  	db $2D		;[Note] 46
    3056.  0E:0D6C                      				;[Skip delay] 1
    3057.  0E:0D6C  32                  	db $32		;[Note] 51
    3058.  0E:0D6D                      				;[Skip delay] 1
    3059.  0E:0D6D  2D                  	db $2D		;[Note] 46
    3060.  0E:0D6E                      				;[Skip delay] 1
    3061.  0E:0D6E  20                  	db $20		;[Note] 33
    3062.  0E:0D6F                      				;[Skip delay] 1
    3063.  0E:0D6F  23                  	db $23		;[Note] 36
    3064.  0E:0D70                      				;[Skip delay] 1
    3065.  0E:0D70  28                  	db $28		;[Note] 41
    3066.  0E:0D71                      				;[Skip delay] 1
    3067.  0E:0D71  23                  	db $23		;[Note] 36
    3068.  0E:0D72                      				;[Skip delay] 1
    3069.  0E:0D72  20                  	db $20		;[Note] 33
    3070.  0E:0D73                      				;[Skip delay] 1
    3071.  0E:0D73  28                  	db $28		;[Note] 41
    3072.  0E:0D74                      				;[Skip delay] 1
    3073.  0E:0D74  2C                  	db $2C		;[Note] 45
    3074.  0E:0D75                      				;[Skip delay] 1
    3075.  0E:0D75  28                  	db $28		;[Note] 41
    3076.  0E:0D76                      				;[Skip delay] 1
    3077.  0E:0D76  28                  	db $28		;[Note] 41
    3078.  0E:0D77                      				;[Skip delay] 1
    3079.  0E:0D77  2C                  	db $2C		;[Note] 45
    3080.  0E:0D78                      				;[Skip delay] 1
    3081.  0E:0D78  2F                  	db $2F		;[Note] 48
    3082.  0E:0D79  6D                  	db $6D		;[Volume] 13
    3083.  0E:0D7A                      				;[Skip delay] 1
    3084.  0E:0D7A  2C                  	db $2C		;[Note] 45
    3085.  0E:0D7B  6C                  	db $6C		;[Volume] 12
    3086.  0E:0D7C                      				;[Skip delay] 1
    3087.  0E:0D7C  2C                  	db $2C		;[Note] 45
    3088.  0E:0D7D  6A                  	db $6A		;[Volume] 10
    3089.  0E:0D7E                      				;[Skip delay] 1
    3090.  0E:0D7E  2F                  	db $2F		;[Note] 48
    3091.  0E:0D7F  69                  	db $69		;[Volume] 9
    3092.  0E:0D80                      				;[Skip delay] 1
    3093.  0E:0D80  34                  	db $34		;[Note] 53
    3094.  0E:0D81  67                  	db $67		;[Volume] 7
    3095.  0E:0D82                      				;[Skip delay] 1
    3096.  0E:0D82  2F                  	db $2F		;[Note] 48
    3097.  0E:0D83                      				;[Skip delay] 1
    3098.  0E:0D83  BF                  	db $BF		;[End-Of-Track]
    3099.  0E:0D84                      .track_33:
    3100.  0E:0D84  09                  	db $09		;[Note] 10
    3101.  0E:0D85  6F                  	db $6F		;[Volume] 15
    3102.  0E:0D86  79                  	db $79		;[Instrument] 10
    3103.  0E:0D87  C1                  	db $C1		;[Wait] 2
    3104.  0E:0D88  09                  	db $09		;[Note] 10
    3105.  0E:0D89  C0                  	db $C0		;[Wait] 1
    3106.  0E:0D8A  09                  	db $09		;[Note] 10
    3107.  0E:0D8B                      				;[Skip delay] 1
    3108.  0E:0D8B  09                  	db $09		;[Note] 10
    3109.  0E:0D8C  C1                  	db $C1		;[Wait] 2
    3110.  0E:0D8D  09                  	db $09		;[Note] 10
    3111.  0E:0D8E                      				;[Skip delay] 2
    3112.  0E:0D8E  09                  	db $09		;[Note] 10
    3113.  0E:0D8F                      				;[Skip delay] 2
    3114.  0E:0D8F  04                  	db $04		;[Note] 5
    3115.  0E:0D90                      				;[Skip delay] 2
    3116.  0E:0D90  09                  	db $09		;[Note] 10
    3117.  0E:0D91                      				;[Skip delay] 2
    3118.  0E:0D91  07                  	db $07		;[Note] 8
    3119.  0E:0D92  C3                  	db $C3		;[Wait] 4
    3120.  0E:0D93  07                  	db $07		;[Note] 8
    3121.  0E:0D94                      				;[Skip delay] 4
    3122.  0E:0D94  07                  	db $07		;[Note] 8
    3123.  0E:0D95  C1                  	db $C1		;[Wait] 2
    3124.  0E:0D96  02                  	db $02		;[Note] 3
    3125.  0E:0D97  C3                  	db $C3		;[Wait] 4
    3126.  0E:0D98  07                  	db $07		;[Note] 8
    3127.  0E:0D99                      				;[Skip delay] 4
    3128.  0E:0D99  05                  	db $05		;[Note] 6
    3129.  0E:0D9A  C1                  	db $C1		;[Wait] 2
    3130.  0E:0D9B  05                  	db $05		;[Note] 6
    3131.  0E:0D9C  C0                  	db $C0		;[Wait] 1
    3132.  0E:0D9D  05                  	db $05		;[Note] 6
    3133.  0E:0D9E                      				;[Skip delay] 1
    3134.  0E:0D9E  05                  	db $05		;[Note] 6
    3135.  0E:0D9F  C1                  	db $C1		;[Wait] 2
    3136.  0E:0DA0  05                  	db $05		;[Note] 6
    3137.  0E:0DA1                      				;[Skip delay] 2
    3138.  0E:0DA1  07                  	db $07		;[Note] 8
    3139.  0E:0DA2  C2                  	db $C2		;[Wait] 3
    3140.  0E:0DA3  07                  	db $07		;[Note] 8
    3141.  0E:0DA4                      				;[Skip delay] 3
    3142.  0E:0DA4  09                  	db $09		;[Note] 10
    3143.  0E:0DA5  C3                  	db $C3		;[Wait] 4
    3144.  0E:0DA6  09                  	db $09		;[Note] 10
    3145.  0E:0DA7                      				;[Skip delay] 4
    3146.  0E:0DA7  09                  	db $09		;[Note] 10
    3147.  0E:0DA8  C1                  	db $C1		;[Wait] 2
    3148.  0E:0DA9  04                  	db $04		;[Note] 5
    3149.  0E:0DAA                      				;[Skip delay] 2
    3150.  0E:0DAA  04                  	db $04		;[Note] 5
    3151.  0E:0DAB  C0                  	db $C0		;[Wait] 1
    3152.  0E:0DAC  04                  	db $04		;[Note] 5
    3153.  0E:0DAD                      				;[Skip delay] 1
    3154.  0E:0DAD  04                  	db $04		;[Note] 5
    3155.  0E:0DAE  C1                  	db $C1		;[Wait] 2
    3156.  0E:0DAF  07                  	db $07		;[Note] 8
    3157.  0E:0DB0  C0                  	db $C0		;[Wait] 1
    3158.  0E:0DB1  07                  	db $07		;[Note] 8
    3159.  0E:0DB2                      				;[Skip delay] 1
    3160.  0E:0DB2  BF                  	db $BF		;[End-Of-Track]
    3161.  0E:0DB3                      .track_34:
    3162.  0E:0DB3  23                  	db $23		;[Note] 36
    3163.  0E:0DB4  6F                  	db $6F		;[Volume] 15
    3164.  0E:0DB5  7A                  	db $7A		;[Instrument] 11
    3165.  0E:0DB6  C1                  	db $C1		;[Wait] 2
    3166.  0E:0DB7  21                  	db $21		;[Note] 34
    3167.  0E:0DB8                      				;[Skip delay] 2
    3168.  0E:0DB8  1F                  	db $1F		;[Note] 32
    3169.  0E:0DB9  C3                  	db $C3		;[Wait] 4
    3170.  0E:0DBA  1C                  	db $1C		;[Note] 29
    3171.  0E:0DBB                      				;[Skip delay] 4
    3172.  0E:0DBB  24                  	db $24		;[Note] 37
    3173.  0E:0DBC                      				;[Skip delay] 4
    3174.  0E:0DBC  26                  	db $26		;[Note] 39
    3175.  0E:0DBD  C1                  	db $C1		;[Wait] 2
    3176.  0E:0DBE  24                  	db $24		;[Note] 37
    3177.  0E:0DBF                      				;[Skip delay] 2
    3178.  0E:0DBF  23                  	db $23		;[Note] 36
    3179.  0E:0DC0  C3                  	db $C3		;[Wait] 4
    3180.  0E:0DC1  23                  	db $23		;[Note] 36
    3181.  0E:0DC2  C1                  	db $C1		;[Wait] 2
    3182.  0E:0DC3  21                  	db $21		;[Note] 34
    3183.  0E:0DC4                      				;[Skip delay] 2
    3184.  0E:0DC4  1F                  	db $1F		;[Note] 32
    3185.  0E:0DC5  C3                  	db $C3		;[Wait] 4
    3186.  0E:0DC6  36                  	db $36		;[Note] 55
    3187.  0E:0DC7  6C                  	db $6C		;[Volume] 12
    3188.  0E:0DC8  7E                  	db $7E		;[Instrument] 15
    3189.  0E:0DC9  C0                  	db $C0		;[Wait] 1
    3190.  0E:0DCA  39                  	db $39		;[Note] 58
    3191.  0E:0DCB                      				;[Skip delay] 1
    3192.  0E:0DCB  3E                  	db $3E		;[Note] 63
    3193.  0E:0DCC                      				;[Skip delay] 1
    3194.  0E:0DCC  39                  	db $39		;[Note] 58
    3195.  0E:0DCD                      				;[Skip delay] 1
    3196.  0E:0DCD  39                  	db $39		;[Note] 58
    3197.  0E:0DCE                      				;[Skip delay] 1
    3198.  0E:0DCE  3E                  	db $3E		;[Note] 63
    3199.  0E:0DCF                      				;[Skip delay] 1
    3200.  0E:0DCF  42                  	db $42		;[Note] 67
    3201.  0E:0DD0                      				;[Skip delay] 1
    3202.  0E:0DD0  3E                  	db $3E		;[Note] 63
    3203.  0E:0DD1                      				;[Skip delay] 1
    3204.  0E:0DD1  3E                  	db $3E		;[Note] 63
    3205.  0E:0DD2                      				;[Skip delay] 1
    3206.  0E:0DD2  42                  	db $42		;[Note] 67
    3207.  0E:0DD3                      				;[Skip delay] 1
    3208.  0E:0DD3  45                  	db $45		;[Note] 70
    3209.  0E:0DD4                      				;[Skip delay] 1
    3210.  0E:0DD4  42                  	db $42		;[Note] 67
    3211.  0E:0DD5                      				;[Skip delay] 1
    3212.  0E:0DD5  42                  	db $42		;[Note] 67
    3213.  0E:0DD6                      				;[Skip delay] 1
    3214.  0E:0DD6  45                  	db $45		;[Note] 70
    3215.  0E:0DD7                      				;[Skip delay] 1
    3216.  0E:0DD7  4A                  	db $4A		;[Note] 75
    3217.  0E:0DD8                      				;[Skip delay] 1
    3218.  0E:0DD8  45                  	db $45		;[Note] 70
    3219.  0E:0DD9                      				;[Skip delay] 1
    3220.  0E:0DD9  38                  	db $38		;[Note] 57
    3221.  0E:0DDA                      				;[Skip delay] 1
    3222.  0E:0DDA  3B                  	db $3B		;[Note] 60
    3223.  0E:0DDB                      				;[Skip delay] 1
    3224.  0E:0DDB  40                  	db $40		;[Note] 65
    3225.  0E:0DDC                      				;[Skip delay] 1
    3226.  0E:0DDC  3B                  	db $3B		;[Note] 60
    3227.  0E:0DDD                      				;[Skip delay] 1
    3228.  0E:0DDD  38                  	db $38		;[Note] 57
    3229.  0E:0DDE                      				;[Skip delay] 1
    3230.  0E:0DDE  40                  	db $40		;[Note] 65
    3231.  0E:0DDF                      				;[Skip delay] 1
    3232.  0E:0DDF  44                  	db $44		;[Note] 69
    3233.  0E:0DE0                      				;[Skip delay] 1
    3234.  0E:0DE0  40                  	db $40		;[Note] 65
    3235.  0E:0DE1                      				;[Skip delay] 1
    3236.  0E:0DE1  40                  	db $40		;[Note] 65
    3237.  0E:0DE2                      				;[Skip delay] 1
    3238.  0E:0DE2  44                  	db $44		;[Note] 69
    3239.  0E:0DE3  69                  	db $69		;[Volume] 9
    3240.  0E:0DE4                      				;[Skip delay] 1
    3241.  0E:0DE4  47                  	db $47		;[Note] 72
    3242.  0E:0DE5  68                  	db $68		;[Volume] 8
    3243.  0E:0DE6                      				;[Skip delay] 1
    3244.  0E:0DE6  44                  	db $44		;[Note] 69
    3245.  0E:0DE7  66                  	db $66		;[Volume] 6
    3246.  0E:0DE8                      				;[Skip delay] 1
    3247.  0E:0DE8  44                  	db $44		;[Note] 69
    3248.  0E:0DE9  65                  	db $65		;[Volume] 5
    3249.  0E:0DEA                      				;[Skip delay] 1
    3250.  0E:0DEA  47                  	db $47		;[Note] 72
    3251.  0E:0DEB  63                  	db $63		;[Volume] 3
    3252.  0E:0DEC                      				;[Skip delay] 1
    3253.  0E:0DEC  4C                  	db $4C		;[Note] 77
    3254.  0E:0DED                      				;[Skip delay] 1
    3255.  0E:0DED  47                  	db $47		;[Note] 72
    3256.  0E:0DEE                      				;[Skip delay] 1
    3257.  0E:0DEE  BF                  	db $BF		;[End-Of-Track]
    3258.  0E:0DEF                      .track_35:
    3259.  0E:0DEF  21                  	db $21		;[Note] 34
    3260.  0E:0DF0  6D                  	db $6D		;[Volume] 13
    3261.  0E:0DF1  7B                  	db $7B		;[Instrument] 12
    3262.  0E:0DF2  C0                  	db $C0		;[Wait] 1
    3263.  0E:0DF3  69                  	db $69		;[Volume] 9
    3264.  0E:0DF4  A5 10               	db $A5, $10; slide-down
    3265.  0E:0DF6                      				;[Skip delay] 1
    3266.  0E:0DF6  68                  	db $68		;[Volume] 8
    3267.  0E:0DF7  AF 02               	db $AF, $02; slide-down rep
    3268.  0E:0DF9                      				;[Skip delay] 1
    3269.  0E:0DF9  66                  	db $66		;[Volume] 6
    3270.  0E:0DFA                      				;[Skip delay] 1
    3271.  0E:0DFA  23                  	db $23		;[Note] 36
    3272.  0E:0DFB  6B                  	db $6B		;[Volume] 11
    3273.  0E:0DFC  7D                  	db $7D		;[Instrument] 14
    3274.  0E:0DFD                      				;[Skip delay] 1
    3275.  0E:0DFD  24                  	db $24		;[Note] 37
    3276.  0E:0DFE  A6 07               	db $A6, $07; tone-slide
    3277.  0E:0E00                      				;[Skip delay] 1
    3278.  0E:0E00  B0 02               	db $B0, $02; tone-slide rep
    3279.  0E:0E02                      				;[Skip delay] 1
    3280.  0E:0E02  60                  	db $60		;[Note] 97
    3281.  0E:0E03                      				;[Skip delay] 1
    3282.  0E:0E03  23                  	db $23		;[Note] 36
    3283.  0E:0E04  C2                  	db $C2		;[Wait] 3
    3284.  0E:0E05  6A                  	db $6A		;[Volume] 10
    3285.  0E:0E06  C0                  	db $C0		;[Wait] 1
    3286.  0E:0E07  69                  	db $69		;[Volume] 9
    3287.  0E:0E08                      				;[Skip delay] 1
    3288.  0E:0E08  67                  	db $67		;[Volume] 7
    3289.  0E:0E09                      				;[Skip delay] 1
    3290.  0E:0E09  66                  	db $66		;[Volume] 6
    3291.  0E:0E0A                      				;[Skip delay] 1
    3292.  0E:0E0A  64                  	db $64		;[Volume] 4
    3293.  0E:0E0B  C2                  	db $C2		;[Wait] 3
    3294.  0E:0E0C  28                  	db $28		;[Note] 41
    3295.  0E:0E0D  68                  	db $68		;[Volume] 8
    3296.  0E:0E0E  89                  	db $89		;[Instrument] 26
    3297.  0E:0E0F  C1                  	db $C1		;[Wait] 2
    3298.  0E:0E10  2D                  	db $2D		;[Note] 46
    3299.  0E:0E11  C2                  	db $C2		;[Wait] 3
    3300.  0E:0E12  32                  	db $32		;[Note] 51
    3301.  0E:0E13                      				;[Skip delay] 3
    3302.  0E:0E13  2D                  	db $2D		;[Note] 46
    3303.  0E:0E14  C1                  	db $C1		;[Wait] 2
    3304.  0E:0E15  30                  	db $30		;[Note] 49
    3305.  0E:0E16                      				;[Skip delay] 2
    3306.  0E:0E16  32                  	db $32		;[Note] 51
    3307.  0E:0E17                      				;[Skip delay] 2
    3308.  0E:0E17  36                  	db $36		;[Note] 55
    3309.  0E:0E18  66                  	db $66		;[Volume] 6
    3310.  0E:0E19  87                  	db $87		;[Instrument] 24
    3311.  0E:0E1A  C3                  	db $C3		;[Wait] 4
    3312.  0E:0E1B  32                  	db $32		;[Note] 51
    3313.  0E:0E1C  C0                  	db $C0		;[Wait] 1
    3314.  0E:0E1D  64                  	db $64		;[Volume] 4
    3315.  0E:0E1E                      				;[Skip delay] 1
    3316.  0E:0E1E  62                  	db $62		;[Volume] 2
    3317.  0E:0E1F  C2                  	db $C2		;[Wait] 3
    3318.  0E:0E20  60                  	db $60		;[Note] 97
    3319.  0E:0E21                      				;[Skip delay] 3
    3320.  0E:0E21  2B                  	db $2B		;[Note] 44
    3321.  0E:0E22  C1                  	db $C1		;[Wait] 2
    3322.  0E:0E23  32                  	db $32		;[Note] 51
    3323.  0E:0E24  C4                  	db $C4		;[Wait] 5
    3324.  0E:0E25  A5 10               	db $A5, $10; slide-down
    3325.  0E:0E27  C0                  	db $C0		;[Wait] 1
    3326.  0E:0E28  AF 08               	db $AF, $08; slide-down rep
    3327.  0E:0E2A  C7                  	db $C7		;[Wait] 8
    3328.  0E:0E2B  60                  	db $60		;[Note] 97
    3329.  0E:0E2C  C3                  	db $C3		;[Wait] 4
    3330.  0E:0E2D  BF                  	db $BF		;[End-Of-Track]
    3331.  0E:0E2E                      .track_36:
    3332.  0E:0E2E  60                  	db $60		;[Note] 97
    3333.  0E:0E2F  C3                  	db $C3		;[Wait] 4
    3334.  0E:0E30  37                  	db $37		;[Note] 56
    3335.  0E:0E31  6D                  	db $6D		;[Volume] 13
    3336.  0E:0E32  83                  	db $83		;[Instrument] 20
    3337.  0E:0E33  C0                  	db $C0		;[Wait] 1
    3338.  0E:0E34  39                  	db $39		;[Note] 58
    3339.  0E:0E35  A6 09               	db $A6, $09; tone-slide
    3340.  0E:0E37                      				;[Skip delay] 1
    3341.  0E:0E37  B0 01               	db $B0, $01; tone-slide rep
    3342.  0E:0E39                      				;[Skip delay] 1
    3343.  0E:0E39  60                  	db $60		;[Note] 97
    3344.  0E:0E3A                      				;[Skip delay] 1
    3345.  0E:0E3A  37                  	db $37		;[Note] 56
    3346.  0E:0E3B  C3                  	db $C3		;[Wait] 4
    3347.  0E:0E3C  A7 55               	db $A7, $55	;[CMD vibrato]
    3348.  0E:0E3E  C0                  	db $C0		;[Wait] 1
    3349.  0E:0E3F  B1 03               	db $B1, $03	;[CMD vibrato] rep
    3350.  0E:0E41  C2                  	db $C2		;[Wait] 3
    3351.  0E:0E42  34                  	db $34		;[Note] 53
    3352.  0E:0E43  C1                  	db $C1		;[Wait] 2
    3353.  0E:0E44  32                  	db $32		;[Note] 51
    3354.  0E:0E45                      				;[Skip delay] 2
    3355.  0E:0E45  30                  	db $30		;[Note] 49
    3356.  0E:0E46  C2                  	db $C2		;[Wait] 3
    3357.  0E:0E47  2D                  	db $2D		;[Note] 46
    3358.  0E:0E48  C0                  	db $C0		;[Wait] 1
    3359.  0E:0E49  6B                  	db $6B		;[Volume] 11
    3360.  0E:0E4A                      				;[Skip delay] 1
    3361.  0E:0E4A  66                  	db $66		;[Volume] 6
    3362.  0E:0E4B                      				;[Skip delay] 1
    3363.  0E:0E4B  2D                  	db $2D		;[Note] 46
    3364.  0E:0E4C  6D                  	db $6D		;[Volume] 13
    3365.  0E:0E4D                      				;[Skip delay] 1
    3366.  0E:0E4D  68                  	db $68		;[Volume] 8
    3367.  0E:0E4E                      				;[Skip delay] 1
    3368.  0E:0E4E  2D                  	db $2D		;[Note] 46
    3369.  0E:0E4F  6B                  	db $6B		;[Volume] 11
    3370.  0E:0E50  C1                  	db $C1		;[Wait] 2
    3371.  0E:0E51  30                  	db $30		;[Note] 49
    3372.  0E:0E52                      				;[Skip delay] 2
    3373.  0E:0E52  32                  	db $32		;[Note] 51
    3374.  0E:0E53  6C                  	db $6C		;[Volume] 12
    3375.  0E:0E54                      				;[Skip delay] 2
    3376.  0E:0E54  66                  	db $66		;[Volume] 6
    3377.  0E:0E55  C0                  	db $C0		;[Wait] 1
    3378.  0E:0E56  63                  	db $63		;[Volume] 3
    3379.  0E:0E57                      				;[Skip delay] 1
    3380.  0E:0E57  32                  	db $32		;[Note] 51
    3381.  0E:0E58  6C                  	db $6C		;[Volume] 12
    3382.  0E:0E59  C1                  	db $C1		;[Wait] 2
    3383.  0E:0E5A  66                  	db $66		;[Volume] 6
    3384.  0E:0E5B  C0                  	db $C0		;[Wait] 1
    3385.  0E:0E5C  63                  	db $63		;[Volume] 3
    3386.  0E:0E5D                      				;[Skip delay] 1
    3387.  0E:0E5D  30                  	db $30		;[Note] 49
    3388.  0E:0E5E  6A                  	db $6A		;[Volume] 10
    3389.  0E:0E5F                      				;[Skip delay] 1
    3390.  0E:0E5F  32                  	db $32		;[Note] 51
    3391.  0E:0E60  C2                  	db $C2		;[Wait] 3
    3392.  0E:0E61  30                  	db $30		;[Note] 49
    3393.  0E:0E62  C1                  	db $C1		;[Wait] 2
    3394.  0E:0E63  34                  	db $34		;[Note] 53
    3395.  0E:0E64  C3                  	db $C3		;[Wait] 4
    3396.  0E:0E65  A7 56               	db $A7, $56	;[CMD vibrato]
    3397.  0E:0E67  C0                  	db $C0		;[Wait] 1
    3398.  0E:0E68  B1 03               	db $B1, $03	;[CMD vibrato] rep
    3399.  0E:0E6A  C2                  	db $C2		;[Wait] 3
    3400.  0E:0E6B  67                  	db $67		;[Volume] 7
    3401.  0E:0E6C  A7 55               	db $A7, $55	;[CMD vibrato]
    3402.  0E:0E6E  C0                  	db $C0		;[Wait] 1
    3403.  0E:0E6F  66                  	db $66		;[Volume] 6
    3404.  0E:0E70  B1 01               	db $B1, $01	;[CMD vibrato] rep
    3405.  0E:0E72                      				;[Skip delay] 1
    3406.  0E:0E72  64                  	db $64		;[Volume] 4
    3407.  0E:0E73  A5 10               	db $A5, $10; slide-down
    3408.  0E:0E75                      				;[Skip delay] 1
    3409.  0E:0E75  63                  	db $63		;[Volume] 3
    3410.  0E:0E76  AF 01               	db $AF, $01; slide-down rep
    3411.  0E:0E78                      				;[Skip delay] 1
    3412.  0E:0E78  34                  	db $34		;[Note] 53
    3413.  0E:0E79  6A                  	db $6A		;[Volume] 10
    3414.  0E:0E7A                      				;[Skip delay] 1
    3415.  0E:0E7A  66                  	db $66		;[Volume] 6
    3416.  0E:0E7B                      				;[Skip delay] 1
    3417.  0E:0E7B  34                  	db $34		;[Note] 53
    3418.  0E:0E7C  6A                  	db $6A		;[Volume] 10
    3419.  0E:0E7D  C1                  	db $C1		;[Wait] 2
    3420.  0E:0E7E  37                  	db $37		;[Note] 56
    3421.  0E:0E7F                      				;[Skip delay] 2
    3422.  0E:0E7F  BF                  	db $BF		;[End-Of-Track]
    3423.  0E:0E80                      .track_37:
    3424.  0E:0E80  60                  	db $60		;[Note] 97
    3425.  0E:0E81  C3                  	db $C3		;[Wait] 4
    3426.  0E:0E82  2F                  	db $2F		;[Note] 48
    3427.  0E:0E83  69                  	db $69		;[Volume] 9
    3428.  0E:0E84  83                  	db $83		;[Instrument] 20
    3429.  0E:0E85  C0                  	db $C0		;[Wait] 1
    3430.  0E:0E86  30                  	db $30		;[Note] 49
    3431.  0E:0E87  A6 09               	db $A6, $09; tone-slide
    3432.  0E:0E89                      				;[Skip delay] 1
    3433.  0E:0E89  B0 01               	db $B0, $01; tone-slide rep
    3434.  0E:0E8B                      				;[Skip delay] 1
    3435.  0E:0E8B  60                  	db $60		;[Note] 97
    3436.  0E:0E8C                      				;[Skip delay] 1
    3437.  0E:0E8C  2F                  	db $2F		;[Note] 48
    3438.  0E:0E8D  C7                  	db $C7		;[Wait] 8
    3439.  0E:0E8E  30                  	db $30		;[Note] 49
    3440.  0E:0E8F  C1                  	db $C1		;[Wait] 2
    3441.  0E:0E90  2F                  	db $2F		;[Note] 48
    3442.  0E:0E91                      				;[Skip delay] 2
    3443.  0E:0E91  2D                  	db $2D		;[Note] 46
    3444.  0E:0E92  C2                  	db $C2		;[Wait] 3
    3445.  0E:0E93  28                  	db $28		;[Note] 41
    3446.  0E:0E94  6D                  	db $6D		;[Volume] 13
    3447.  0E:0E95  C0                  	db $C0		;[Wait] 1
    3448.  0E:0E96  6B                  	db $6B		;[Volume] 11
    3449.  0E:0E97                      				;[Skip delay] 1
    3450.  0E:0E97  66                  	db $66		;[Volume] 6
    3451.  0E:0E98                      				;[Skip delay] 1
    3452.  0E:0E98  28                  	db $28		;[Note] 41
    3453.  0E:0E99  6D                  	db $6D		;[Volume] 13
    3454.  0E:0E9A  C1                  	db $C1		;[Wait] 2
    3455.  0E:0E9B  28                  	db $28		;[Note] 41
    3456.  0E:0E9C                      				;[Skip delay] 2
    3457.  0E:0E9C  2B                  	db $2B		;[Note] 44
    3458.  0E:0E9D  C0                  	db $C0		;[Wait] 1
    3459.  0E:0E9E  60                  	db $60		;[Note] 97
    3460.  0E:0E9F                      				;[Skip delay] 1
    3461.  0E:0E9F  2D                  	db $2D		;[Note] 46
    3462.  0E:0EA0  C3                  	db $C3		;[Wait] 4
    3463.  0E:0EA1  2A                  	db $2A		;[Note] 43
    3464.  0E:0EA2                      				;[Skip delay] 4
    3465.  0E:0EA2  2B                  	db $2B		;[Note] 44
    3466.  0E:0EA3  C0                  	db $C0		;[Wait] 1
    3467.  0E:0EA4  2D                  	db $2D		;[Note] 46
    3468.  0E:0EA5  C2                  	db $C2		;[Wait] 3
    3469.  0E:0EA6  2B                  	db $2B		;[Note] 44
    3470.  0E:0EA7  C1                  	db $C1		;[Wait] 2
    3471.  0E:0EA8  2C                  	db $2C		;[Note] 45
    3472.  0E:0EA9  C9                  	db $C9		;[Wait] 10
    3473.  0E:0EAA  A5 10               	db $A5, $10; slide-down
    3474.  0E:0EAC  C0                  	db $C0		;[Wait] 1
    3475.  0E:0EAD  AF 01               	db $AF, $01; slide-down rep
    3476.  0E:0EAF                      				;[Skip delay] 1
    3477.  0E:0EAF  2C                  	db $2C		;[Note] 45
    3478.  0E:0EB0  C1                  	db $C1		;[Wait] 2
    3479.  0E:0EB1  2F                  	db $2F		;[Note] 48
    3480.  0E:0EB2                      				;[Skip delay] 2
    3481.  0E:0EB2  32                  	db $32		;[Note] 51
    3482.  0E:0EB3                      				;[Skip delay] 2
    3483.  0E:0EB3  BF                  	db $BF		;[End-Of-Track]
    3484.  0E:0EB4                      .track_38:
    3485.  0E:0EB4  12                  	db $12		;[Note] 19
    3486.  0E:0EB5  6F                  	db $6F		;[Volume] 15
    3487.  0E:0EB6  70                  	db $70		;[Instrument] 1
    3488.  0E:0EB7  C1                  	db $C1		;[Wait] 2
    3489.  0E:0EB8  5F                  	db $5F		;[Note] 96
    3490.  0E:0EB9  6E                  	db $6E		;[Volume] 14
    3491.  0E:0EBA  72                  	db $72		;[Instrument] 3
    3492.  0E:0EBB  C0                  	db $C0		;[Wait] 1
    3493.  0E:0EBC  5F                  	db $5F		;[Note] 96
    3494.  0E:0EBD  6D                  	db $6D		;[Volume] 13
    3495.  0E:0EBE                      				;[Skip delay] 1
    3496.  0E:0EBE  5F                  	db $5F		;[Note] 96
    3497.  0E:0EBF  6E                  	db $6E		;[Volume] 14
    3498.  0E:0EC0  C1                  	db $C1		;[Wait] 2
    3499.  0E:0EC1  5F                  	db $5F		;[Note] 96
    3500.  0E:0EC2  73                  	db $73		;[Instrument] 4
    3501.  0E:0EC3                      				;[Skip delay] 2
    3502.  0E:0EC3  12                  	db $12		;[Note] 19
    3503.  0E:0EC4  6F                  	db $6F		;[Volume] 15
    3504.  0E:0EC5  70                  	db $70		;[Instrument] 1
    3505.  0E:0EC6                      				;[Skip delay] 2
    3506.  0E:0EC6  5F                  	db $5F		;[Note] 96
    3507.  0E:0EC7  6E                  	db $6E		;[Volume] 14
    3508.  0E:0EC8  72                  	db $72		;[Instrument] 3
    3509.  0E:0EC9                      				;[Skip delay] 2
    3510.  0E:0EC9  5F                  	db $5F		;[Note] 96
    3511.  0E:0ECA  6D                  	db $6D		;[Volume] 13
    3512.  0E:0ECB  C0                  	db $C0		;[Wait] 1
    3513.  0E:0ECC  60                  	db $60		;[Note] 97
    3514.  0E:0ECD                      				;[Skip delay] 1
    3515.  0E:0ECD  12                  	db $12		;[Note] 19
    3516.  0E:0ECE  70                  	db $70		;[Instrument] 1
    3517.  0E:0ECF  C1                  	db $C1		;[Wait] 2
    3518.  0E:0ED0  5F                  	db $5F		;[Note] 96
    3519.  0E:0ED1  6E                  	db $6E		;[Volume] 14
    3520.  0E:0ED2  72                  	db $72		;[Instrument] 3
    3521.  0E:0ED3                      				;[Skip delay] 2
    3522.  0E:0ED3  5F                  	db $5F		;[Note] 96
    3523.  0E:0ED4  73                  	db $73		;[Instrument] 4
    3524.  0E:0ED5                      				;[Skip delay] 2
    3525.  0E:0ED5  12                  	db $12		;[Note] 19
    3526.  0E:0ED6  70                  	db $70		;[Instrument] 1
    3527.  0E:0ED7                      				;[Skip delay] 2
    3528.  0E:0ED7  5F                  	db $5F		;[Note] 96
    3529.  0E:0ED8  72                  	db $72		;[Instrument] 3
    3530.  0E:0ED9                      				;[Skip delay] 2
    3531.  0E:0ED9  5F                  	db $5F		;[Note] 96
    3532.  0E:0EDA                      				;[Skip delay] 2
    3533.  0E:0EDA  5F                  	db $5F		;[Note] 96
    3534.  0E:0EDB  C0                  	db $C0		;[Wait] 1
    3535.  0E:0EDC  5F                  	db $5F		;[Note] 96
    3536.  0E:0EDD  6D                  	db $6D		;[Volume] 13
    3537.  0E:0EDE                      				;[Skip delay] 1
    3538.  0E:0EDE  5F                  	db $5F		;[Note] 96
    3539.  0E:0EDF  6E                  	db $6E		;[Volume] 14
    3540.  0E:0EE0  C1                  	db $C1		;[Wait] 2
    3541.  0E:0EE1  5F                  	db $5F		;[Note] 96
    3542.  0E:0EE2                      				;[Skip delay] 2
    3543.  0E:0EE2  12                  	db $12		;[Note] 19
    3544.  0E:0EE3  6F                  	db $6F		;[Volume] 15
    3545.  0E:0EE4  70                  	db $70		;[Instrument] 1
    3546.  0E:0EE5                      				;[Skip delay] 2
    3547.  0E:0EE5  5F                  	db $5F		;[Note] 96
    3548.  0E:0EE6  6E                  	db $6E		;[Volume] 14
    3549.  0E:0EE7  72                  	db $72		;[Instrument] 3
    3550.  0E:0EE8  C0                  	db $C0		;[Wait] 1
    3551.  0E:0EE9  5F                  	db $5F		;[Note] 96
    3552.  0E:0EEA  6D                  	db $6D		;[Volume] 13
    3553.  0E:0EEB                      				;[Skip delay] 1
    3554.  0E:0EEB  5F                  	db $5F		;[Note] 96
    3555.  0E:0EEC  6E                  	db $6E		;[Volume] 14
    3556.  0E:0EED  C1                  	db $C1		;[Wait] 2
    3557.  0E:0EEE  5F                  	db $5F		;[Note] 96
    3558.  0E:0EEF  73                  	db $73		;[Instrument] 4
    3559.  0E:0EF0                      				;[Skip delay] 2
    3560.  0E:0EF0  1F                  	db $1F		;[Note] 32
    3561.  0E:0EF1  6F                  	db $6F		;[Volume] 15
    3562.  0E:0EF2  71                  	db $71		;[Instrument] 2
    3563.  0E:0EF3                      				;[Skip delay] 2
    3564.  0E:0EF3  5F                  	db $5F		;[Note] 96
    3565.  0E:0EF4  6D                  	db $6D		;[Volume] 13
    3566.  0E:0EF5  72                  	db $72		;[Instrument] 3
    3567.  0E:0EF6                      				;[Skip delay] 2
    3568.  0E:0EF6  5F                  	db $5F		;[Note] 96
    3569.  0E:0EF7  6A                  	db $6A		;[Volume] 10
    3570.  0E:0EF8  C0                  	db $C0		;[Wait] 1
    3571.  0E:0EF9  60                  	db $60		;[Note] 97
    3572.  0E:0EFA                      				;[Skip delay] 1
    3573.  0E:0EFA  12                  	db $12		;[Note] 19
    3574.  0E:0EFB  6F                  	db $6F		;[Volume] 15
    3575.  0E:0EFC  70                  	db $70		;[Instrument] 1
    3576.  0E:0EFD  C1                  	db $C1		;[Wait] 2
    3577.  0E:0EFE  5F                  	db $5F		;[Note] 96
    3578.  0E:0EFF  6E                  	db $6E		;[Volume] 14
    3579.  0E:0F00  72                  	db $72		;[Instrument] 3
    3580.  0E:0F01                      				;[Skip delay] 2
    3581.  0E:0F01  1F                  	db $1F		;[Note] 32
    3582.  0E:0F02  71                  	db $71		;[Instrument] 2
    3583.  0E:0F03                      				;[Skip delay] 2
    3584.  0E:0F03  1F                  	db $1F		;[Note] 32
    3585.  0E:0F04  6F                  	db $6F		;[Volume] 15
    3586.  0E:0F05                      				;[Skip delay] 2
    3587.  0E:0F05  1F                  	db $1F		;[Note] 32
    3588.  0E:0F06                      				;[Skip delay] 2
    3589.  0E:0F06  1F                  	db $1F		;[Note] 32
    3590.  0E:0F07                      				;[Skip delay] 2
    3591.  0E:0F07  12                  	db $12		;[Note] 19
    3592.  0E:0F08  70                  	db $70		;[Instrument] 1
    3593.  0E:0F09                      				;[Skip delay] 2
    3594.  0E:0F09  5F                  	db $5F		;[Note] 96
    3595.  0E:0F0A  73                  	db $73		;[Instrument] 4
    3596.  0E:0F0B                      				;[Skip delay] 2
    3597.  0E:0F0B  5F                  	db $5F		;[Note] 96
    3598.  0E:0F0C  72                  	db $72		;[Instrument] 3
    3599.  0E:0F0D  C0                  	db $C0		;[Wait] 1
    3600.  0E:0F0E  5F                  	db $5F		;[Note] 96
    3601.  0E:0F0F                      				;[Skip delay] 1
    3602.  0E:0F0F  BF                  	db $BF		;[End-Of-Track]
    3603.  0E:0F10                      .track_39:
    3604.  0E:0F10  15                  	db $15		;[Note] 22
    3605.  0E:0F11  6F                  	db $6F		;[Volume] 15
    3606.  0E:0F12  76                  	db $76		;[Instrument] 7
    3607.  0E:0F13  C1                  	db $C1		;[Wait] 2
    3608.  0E:0F14  15                  	db $15		;[Note] 22
    3609.  0E:0F15  C0                  	db $C0		;[Wait] 1
    3610.  0E:0F16  15                  	db $15		;[Note] 22
    3611.  0E:0F17                      				;[Skip delay] 1
    3612.  0E:0F17  15                  	db $15		;[Note] 22
    3613.  0E:0F18  C1                  	db $C1		;[Wait] 2
    3614.  0E:0F19  15                  	db $15		;[Note] 22
    3615.  0E:0F1A                      				;[Skip delay] 2
    3616.  0E:0F1A  15                  	db $15		;[Note] 22
    3617.  0E:0F1B                      				;[Skip delay] 2
    3618.  0E:0F1B  10                  	db $10		;[Note] 17
    3619.  0E:0F1C                      				;[Skip delay] 2
    3620.  0E:0F1C  15                  	db $15		;[Note] 22
    3621.  0E:0F1D                      				;[Skip delay] 2
    3622.  0E:0F1D  13                  	db $13		;[Note] 20
    3623.  0E:0F1E  C3                  	db $C3		;[Wait] 4
    3624.  0E:0F1F  13                  	db $13		;[Note] 20
    3625.  0E:0F20                      				;[Skip delay] 4
    3626.  0E:0F20  13                  	db $13		;[Note] 20
    3627.  0E:0F21  C1                  	db $C1		;[Wait] 2
    3628.  0E:0F22  0E                  	db $0E		;[Note] 15
    3629.  0E:0F23  C3                  	db $C3		;[Wait] 4
    3630.  0E:0F24  13                  	db $13		;[Note] 20
    3631.  0E:0F25                      				;[Skip delay] 4
    3632.  0E:0F25  11                  	db $11		;[Note] 18
    3633.  0E:0F26  C1                  	db $C1		;[Wait] 2
    3634.  0E:0F27  11                  	db $11		;[Note] 18
    3635.  0E:0F28  C0                  	db $C0		;[Wait] 1
    3636.  0E:0F29  11                  	db $11		;[Note] 18
    3637.  0E:0F2A                      				;[Skip delay] 1
    3638.  0E:0F2A  11                  	db $11		;[Note] 18
    3639.  0E:0F2B  C1                  	db $C1		;[Wait] 2
    3640.  0E:0F2C  11                  	db $11		;[Note] 18
    3641.  0E:0F2D                      				;[Skip delay] 2
    3642.  0E:0F2D  13                  	db $13		;[Note] 20
    3643.  0E:0F2E  C2                  	db $C2		;[Wait] 3
    3644.  0E:0F2F  13                  	db $13		;[Note] 20
    3645.  0E:0F30                      				;[Skip delay] 3
    3646.  0E:0F30  15                  	db $15		;[Note] 22
    3647.  0E:0F31  C3                  	db $C3		;[Wait] 4
    3648.  0E:0F32  15                  	db $15		;[Note] 22
    3649.  0E:0F33  C1                  	db $C1		;[Wait] 2
    3650.  0E:0F34  15                  	db $15		;[Note] 22
    3651.  0E:0F35                      				;[Skip delay] 2
    3652.  0E:0F35  15                  	db $15		;[Note] 22
    3653.  0E:0F36                      				;[Skip delay] 2
    3654.  0E:0F36  15                  	db $15		;[Note] 22
    3655.  0E:0F37  C1                  	db $C1		;[Wait..] 2
    3656.  0E:0F38  6E                  	db $6E		;[Volume] 14
    3657.  0E:0F39  A5 10               	db $A5, $10; slide-down
    3658.  0E:0F3B  C0                  	db $C0		;[Wait] 1
    3659.  0E:0F3C  60                  	db $60		;[Note] 97
    3660.  0E:0F3D  6D                  	db $6D		;[Volume] 13
    3661.  0E:0F3E  AF 03               	db $AF, $03; slide-down rep
    3662.  0E:0F40                      				;[Skip delay] 1
    3663.  0E:0F40  6C                  	db $6C		;[Volume] 12
    3664.  0E:0F41                      				;[Skip delay] 1
    3665.  0E:0F41  6A                  	db $6A		;[Volume] 10
    3666.  0E:0F42                      				;[Skip delay] 1
    3667.  0E:0F42  1D                  	db $1D		;[Note] 30
    3668.  0E:0F43  6D                  	db $6D		;[Volume] 13
    3669.  0E:0F44  75                  	db $75		;[Instrument] 6
    3670.  0E:0F45                      				;[Skip delay] 1
    3671.  0E:0F45  17                  	db $17		;[Note] 24
    3672.  0E:0F46                      				;[Skip delay] 1
    3673.  0E:0F46  BF                  	db $BF		;[End-Of-Track]
    3674.  0E:0F47                      .track_40:
    3675.  0E:0F47  24                  	db $24		;[Note] 37
    3676.  0E:0F48  6C                  	db $6C		;[Volume] 12
    3677.  0E:0F49  78                  	db $78		;[Instrument] 9
    3678.  0E:0F4A  C7                  	db $C7		;[Wait] 8
    3679.  0E:0F4B  21                  	db $21		;[Note] 34
    3680.  0E:0F4C                      				;[Skip delay] 8
    3681.  0E:0F4C  23                  	db $23		;[Note] 36
    3682.  0E:0F4D                      				;[Skip delay] 8
    3683.  0E:0F4D  26                  	db $26		;[Note] 39
    3684.  0E:0F4E                      				;[Skip delay] 8
    3685.  0E:0F4E  24                  	db $24		;[Note] 37
    3686.  0E:0F4F  76                  	db $76		;[Instrument] 7
    3687.  0E:0F50  C1                  	db $C1		;[Wait] 2
    3688.  0E:0F51  24                  	db $24		;[Note] 37
    3689.  0E:0F52  C0                  	db $C0		;[Wait] 1
    3690.  0E:0F53  24                  	db $24		;[Note] 37
    3691.  0E:0F54                      				;[Skip delay] 1
    3692.  0E:0F54  24                  	db $24		;[Note] 37
    3693.  0E:0F55  C1                  	db $C1		;[Wait] 2
    3694.  0E:0F56  24                  	db $24		;[Note] 37
    3695.  0E:0F57                      				;[Skip delay] 2
    3696.  0E:0F57  26                  	db $26		;[Note] 39
    3697.  0E:0F58  C2                  	db $C2		;[Wait] 3
    3698.  0E:0F59  26                  	db $26		;[Note] 39
    3699.  0E:0F5A                      				;[Skip delay] 3
    3700.  0E:0F5A  28                  	db $28		;[Note] 41
    3701.  0E:0F5B  C3                  	db $C3		;[Wait] 4
    3702.  0E:0F5C  28                  	db $28		;[Note] 41
    3703.  0E:0F5D  C1                  	db $C1		;[Wait] 2
    3704.  0E:0F5E  28                  	db $28		;[Note] 41
    3705.  0E:0F5F                      				;[Skip delay] 2
    3706.  0E:0F5F  28                  	db $28		;[Note] 41
    3707.  0E:0F60                      				;[Skip delay] 2
    3708.  0E:0F60  28                  	db $28		;[Note] 41
    3709.  0E:0F61  C1                  	db $C1		;[Wait..] 2
    3710.  0E:0F62  6E                  	db $6E		;[Volume] 14
    3711.  0E:0F63  A5 10               	db $A5, $10; slide-down
    3712.  0E:0F65  C0                  	db $C0		;[Wait] 1
    3713.  0E:0F66  6D                  	db $6D		;[Volume] 13
    3714.  0E:0F67  AF 03               	db $AF, $03; slide-down rep
    3715.  0E:0F69                      				;[Skip delay] 1
    3716.  0E:0F69  6C                  	db $6C		;[Volume] 12
    3717.  0E:0F6A                      				;[Skip delay] 1
    3718.  0E:0F6A  6A                  	db $6A		;[Volume] 10
    3719.  0E:0F6B                      				;[Skip delay] 1
    3720.  0E:0F6B  60                  	db $60		;[Note] 97
    3721.  0E:0F6C  C1                  	db $C1		;[Wait] 2
    3722.  0E:0F6D  BF                  	db $BF		;[End-Of-Track]
    3723.  0E:0F6E                      .track_41:
    3724.  0E:0F6E  09                  	db $09		;[Note] 10
    3725.  0E:0F6F  6F                  	db $6F		;[Volume] 15
    3726.  0E:0F70  79                  	db $79		;[Instrument] 10
    3727.  0E:0F71  C1                  	db $C1		;[Wait] 2
    3728.  0E:0F72  09                  	db $09		;[Note] 10
    3729.  0E:0F73  C0                  	db $C0		;[Wait] 1
    3730.  0E:0F74  09                  	db $09		;[Note] 10
    3731.  0E:0F75                      				;[Skip delay] 1
    3732.  0E:0F75  09                  	db $09		;[Note] 10
    3733.  0E:0F76  C1                  	db $C1		;[Wait] 2
    3734.  0E:0F77  09                  	db $09		;[Note] 10
    3735.  0E:0F78                      				;[Skip delay] 2
    3736.  0E:0F78  09                  	db $09		;[Note] 10
    3737.  0E:0F79                      				;[Skip delay] 2
    3738.  0E:0F79  04                  	db $04		;[Note] 5
    3739.  0E:0F7A                      				;[Skip delay] 2
    3740.  0E:0F7A  09                  	db $09		;[Note] 10
    3741.  0E:0F7B                      				;[Skip delay] 2
    3742.  0E:0F7B  07                  	db $07		;[Note] 8
    3743.  0E:0F7C  C3                  	db $C3		;[Wait] 4
    3744.  0E:0F7D  07                  	db $07		;[Note] 8
    3745.  0E:0F7E                      				;[Skip delay] 4
    3746.  0E:0F7E  07                  	db $07		;[Note] 8
    3747.  0E:0F7F  C1                  	db $C1		;[Wait] 2
    3748.  0E:0F80  02                  	db $02		;[Note] 3
    3749.  0E:0F81  C3                  	db $C3		;[Wait] 4
    3750.  0E:0F82  07                  	db $07		;[Note] 8
    3751.  0E:0F83                      				;[Skip delay] 4
    3752.  0E:0F83  05                  	db $05		;[Note] 6
    3753.  0E:0F84  C1                  	db $C1		;[Wait] 2
    3754.  0E:0F85  05                  	db $05		;[Note] 6
    3755.  0E:0F86  C0                  	db $C0		;[Wait] 1
    3756.  0E:0F87  05                  	db $05		;[Note] 6
    3757.  0E:0F88                      				;[Skip delay] 1
    3758.  0E:0F88  05                  	db $05		;[Note] 6
    3759.  0E:0F89  C1                  	db $C1		;[Wait] 2
    3760.  0E:0F8A  05                  	db $05		;[Note] 6
    3761.  0E:0F8B                      				;[Skip delay] 2
    3762.  0E:0F8B  07                  	db $07		;[Note] 8
    3763.  0E:0F8C  C2                  	db $C2		;[Wait] 3
    3764.  0E:0F8D  07                  	db $07		;[Note] 8
    3765.  0E:0F8E                      				;[Skip delay] 3
    3766.  0E:0F8E  09                  	db $09		;[Note] 10
    3767.  0E:0F8F  C3                  	db $C3		;[Wait] 4
    3768.  0E:0F90  09                  	db $09		;[Note] 10
    3769.  0E:0F91  C1                  	db $C1		;[Wait] 2
    3770.  0E:0F92  09                  	db $09		;[Note] 10
    3771.  0E:0F93                      				;[Skip delay] 2
    3772.  0E:0F93  09                  	db $09		;[Note] 10
    3773.  0E:0F94                      				;[Skip delay] 2
    3774.  0E:0F94  09                  	db $09		;[Note] 10
    3775.  0E:0F95  C1                  	db $C1		;[Wait..] 2
    3776.  0E:0F96  6D                  	db $6D		;[Volume] 13
    3777.  0E:0F97  A5 10               	db $A5, $10; slide-down
    3778.  0E:0F99  C0                  	db $C0		;[Wait] 1
    3779.  0E:0F9A  6A                  	db $6A		;[Volume] 10
    3780.  0E:0F9B  AF 03               	db $AF, $03; slide-down rep
    3781.  0E:0F9D                      				;[Skip delay] 1
    3782.  0E:0F9D  69                  	db $69		;[Volume] 9
    3783.  0E:0F9E                      				;[Skip delay] 1
    3784.  0E:0F9E  67                  	db $67		;[Volume] 7
    3785.  0E:0F9F                      				;[Skip delay] 1
    3786.  0E:0F9F  60                  	db $60		;[Note] 97
    3787.  0E:0FA0  C1                  	db $C1		;[Wait] 2
    3788.  0E:0FA1  BF                  	db $BF		;[End-Of-Track]
    3789.  0E:0FA2                      .track_42:
    3790.  0E:0FA2  23                  	db $23		;[Note] 36
    3791.  0E:0FA3  6F                  	db $6F		;[Volume] 15
    3792.  0E:0FA4  7A                  	db $7A		;[Instrument] 11
    3793.  0E:0FA5  C1                  	db $C1		;[Wait] 2
    3794.  0E:0FA6  21                  	db $21		;[Note] 34
    3795.  0E:0FA7                      				;[Skip delay] 2
    3796.  0E:0FA7  1F                  	db $1F		;[Note] 32
    3797.  0E:0FA8  C3                  	db $C3		;[Wait] 4
    3798.  0E:0FA9  1C                  	db $1C		;[Note] 29
    3799.  0E:0FAA                      				;[Skip delay] 4
    3800.  0E:0FAA  24                  	db $24		;[Note] 37
    3801.  0E:0FAB                      				;[Skip delay] 4
    3802.  0E:0FAB  26                  	db $26		;[Note] 39
    3803.  0E:0FAC  C1                  	db $C1		;[Wait] 2
    3804.  0E:0FAD  24                  	db $24		;[Note] 37
    3805.  0E:0FAE                      				;[Skip delay] 2
    3806.  0E:0FAE  23                  	db $23		;[Note] 36
    3807.  0E:0FAF  C3                  	db $C3		;[Wait] 4
    3808.  0E:0FB0  23                  	db $23		;[Note] 36
    3809.  0E:0FB1  C1                  	db $C1		;[Wait] 2
    3810.  0E:0FB2  21                  	db $21		;[Note] 34
    3811.  0E:0FB3                      				;[Skip delay] 2
    3812.  0E:0FB3  1F                  	db $1F		;[Note] 32
    3813.  0E:0FB4  C2                  	db $C2		;[Wait] 3
    3814.  0E:0FB5  60                  	db $60		;[Note] 97
    3815.  0E:0FB6  C0                  	db $C0		;[Wait] 1
    3816.  0E:0FB7  2B                  	db $2B		;[Note] 44
    3817.  0E:0FB8  84                  	db $84		;[Instrument] 21
    3818.  0E:0FB9  C3                  	db $C3		;[Wait] 4
    3819.  0E:0FBA  28                  	db $28		;[Note] 41
    3820.  0E:0FBB  C1                  	db $C1		;[Wait] 2
    3821.  0E:0FBC  2B                  	db $2B		;[Note] 44
    3822.  0E:0FBD  C0                  	db $C0		;[Wait] 1
    3823.  0E:0FBE  28                  	db $28		;[Note] 41
    3824.  0E:0FBF                      				;[Skip delay] 1
    3825.  0E:0FBF  21                  	db $21		;[Note] 34
    3826.  0E:0FC0  C2                  	db $C2		;[Wait] 3
    3827.  0E:0FC1  1C                  	db $1C		;[Note] 29
    3828.  0E:0FC2                      				;[Skip delay] 3
    3829.  0E:0FC2  1A                  	db $1A		;[Note] 27
    3830.  0E:0FC3  C3                  	db $C3		;[Wait] 4
    3831.  0E:0FC4  10                  	db $10		;[Note] 17
    3832.  0E:0FC5  8A                  	db $8A		;[Instrument] 27
    3833.  0E:0FC6  C1                  	db $C1		;[Wait] 2
    3834.  0E:0FC7  10                  	db $10		;[Note] 17
    3835.  0E:0FC8                      				;[Skip delay] 2
    3836.  0E:0FC8  10                  	db $10		;[Note] 17
    3837.  0E:0FC9                      				;[Skip delay] 2
    3838.  0E:0FC9  10                  	db $10		;[Note] 17
    3839.  0E:0FCA  C0                  	db $C0		;[Wait] 1
    3840.  0E:0FCB  A5 10               	db $A5, $10; slide-down
    3841.  0E:0FCD                      				;[Skip delay] 1
    3842.  0E:0FCD  6D                  	db $6D		;[Volume] 13
    3843.  0E:0FCE  AF 03               	db $AF, $03; slide-down rep
    3844.  0E:0FD0                      				;[Skip delay] 1
    3845.  0E:0FD0  6A                  	db $6A		;[Volume] 10
    3846.  0E:0FD1                      				;[Skip delay] 1
    3847.  0E:0FD1  69                  	db $69		;[Volume] 9
    3848.  0E:0FD2                      				;[Skip delay] 1
    3849.  0E:0FD2  67                  	db $67		;[Volume] 7
    3850.  0E:0FD3                      				;[Skip delay] 1
    3851.  0E:0FD3  60                  	db $60		;[Note] 97
    3852.  0E:0FD4  C1                  	db $C1		;[Wait] 2
    3853.  0E:0FD5  BF                  	db $BF		;[End-Of-Track]
    3854.  0E:0FD6                      .track_43:
    3855.  0E:0FD6  09                  	db $09		;[Note] 10
    3856.  0E:0FD7  6A                  	db $6A		;[Volume] 10
    3857.  0E:0FD8  7B                  	db $7B		;[Instrument] 12
    3858.  0E:0FD9  C0                  	db $C0		;[Wait] 1
    3859.  0E:0FDA  69                  	db $69		;[Volume] 9
    3860.  0E:0FDB                      				;[Skip delay] 1
    3861.  0E:0FDB  68                  	db $68		;[Volume] 8
    3862.  0E:0FDC                      				;[Skip delay] 1
    3863.  0E:0FDC  66                  	db $66		;[Volume] 6
    3864.  0E:0FDD                      				;[Skip delay] 1
    3865.  0E:0FDD  23                  	db $23		;[Note] 36
    3866.  0E:0FDE  6B                  	db $6B		;[Volume] 11
    3867.  0E:0FDF  7D                  	db $7D		;[Instrument] 14
    3868.  0E:0FE0                      				;[Skip delay] 1
    3869.  0E:0FE0  24                  	db $24		;[Note] 37
    3870.  0E:0FE1  A6 07               	db $A6, $07; tone-slide
    3871.  0E:0FE3                      				;[Skip delay] 1
    3872.  0E:0FE3  B0 02               	db $B0, $02; tone-slide rep
    3873.  0E:0FE5                      				;[Skip delay] 1
    3874.  0E:0FE5  60                  	db $60		;[Note] 97
    3875.  0E:0FE6                      				;[Skip delay] 1
    3876.  0E:0FE6  23                  	db $23		;[Note] 36
    3877.  0E:0FE7  C2                  	db $C2		;[Wait] 3
    3878.  0E:0FE8  6A                  	db $6A		;[Volume] 10
    3879.  0E:0FE9  C0                  	db $C0		;[Wait] 1
    3880.  0E:0FEA  69                  	db $69		;[Volume] 9
    3881.  0E:0FEB                      				;[Skip delay] 1
    3882.  0E:0FEB  67                  	db $67		;[Volume] 7
    3883.  0E:0FEC                      				;[Skip delay] 1
    3884.  0E:0FEC  66                  	db $66		;[Volume] 6
    3885.  0E:0FED                      				;[Skip delay] 1
    3886.  0E:0FED  64                  	db $64		;[Volume] 4
    3887.  0E:0FEE  C2                  	db $C2		;[Wait] 3
    3888.  0E:0FEF  28                  	db $28		;[Note] 41
    3889.  0E:0FF0  68                  	db $68		;[Volume] 8
    3890.  0E:0FF1  89                  	db $89		;[Instrument] 26
    3891.  0E:0FF2  C1                  	db $C1		;[Wait] 2
    3892.  0E:0FF3  2D                  	db $2D		;[Note] 46
    3893.  0E:0FF4  C2                  	db $C2		;[Wait] 3
    3894.  0E:0FF5  32                  	db $32		;[Note] 51
    3895.  0E:0FF6                      				;[Skip delay] 3
    3896.  0E:0FF6  2D                  	db $2D		;[Note] 46
    3897.  0E:0FF7  C1                  	db $C1		;[Wait] 2
    3898.  0E:0FF8  30                  	db $30		;[Note] 49
    3899.  0E:0FF9                      				;[Skip delay] 2
    3900.  0E:0FF9  32                  	db $32		;[Note] 51
    3901.  0E:0FFA                      				;[Skip delay] 2
    3902.  0E:0FFA  2D                  	db $2D		;[Note] 46
    3903.  0E:0FFB  69                  	db $69		;[Volume] 9
    3904.  0E:0FFC  83                  	db $83		;[Instrument] 20
    3905.  0E:0FFD                      				;[Skip delay] 2
    3906.  0E:0FFD  67                  	db $67		;[Volume] 7
    3907.  0E:0FFE  C0                  	db $C0		;[Wait] 1
    3908.  0E:0FFF  66                  	db $66		;[Volume] 6
    3909.  0E:1000                      				;[Skip delay] 1
    3910.  0E:1000  30                  	db $30		;[Note] 49
    3911.  0E:1001  69                  	db $69		;[Volume] 9
    3912.  0E:1002                      				;[Skip delay] 1
    3913.  0E:1002  64                  	db $64		;[Volume] 4
    3914.  0E:1003                      				;[Skip delay] 1
    3915.  0E:1003  62                  	db $62		;[Volume] 2
    3916.  0E:1004  C1                  	db $C1		;[Wait] 2
    3917.  0E:1005  2F                  	db $2F		;[Note] 48
    3918.  0E:1006  69                  	db $69		;[Volume] 9
    3919.  0E:1007  C0                  	db $C0		;[Wait] 1
    3920.  0E:1008  65                  	db $65		;[Volume] 5
    3921.  0E:1009                      				;[Skip delay] 1
    3922.  0E:1009  63                  	db $63		;[Volume] 3
    3923.  0E:100A                      				;[Skip delay] 1
    3924.  0E:100A  2B                  	db $2B		;[Note] 44
    3925.  0E:100B  68                  	db $68		;[Volume] 8
    3926.  0E:100C  C2                  	db $C2		;[Wait] 3
    3927.  0E:100D  28                  	db $28		;[Note] 41
    3928.  0E:100E  C1                  	db $C1		;[Wait] 2
    3929.  0E:100F  A7 55               	db $A7, $55	;[CMD vibrato]
    3930.  0E:1011  C0                  	db $C0		;[Wait] 1
    3931.  0E:1012  65                  	db $65		;[Volume] 5
    3932.  0E:1013  B1 03               	db $B1, $03	;[CMD vibrato] rep
    3933.  0E:1015                      				;[Skip delay] 1
    3934.  0E:1015  64                  	db $64		;[Volume] 4
    3935.  0E:1016                      				;[Skip delay] 1
    3936.  0E:1016  63                  	db $63		;[Volume] 3
    3937.  0E:1017                      				;[Skip delay] 1
    3938.  0E:1017  60                  	db $60		;[Note] 97
    3939.  0E:1018  CB                  	db $CB		;[Wait] 12
    3940.  0E:1019  BF                  	db $BF		;[End-Of-Track]
    3941.  0E:101A                      .track_44:
    3942.  0E:101A  60                  	db $60		;[Note] 97
    3943.  0E:101B  C3                  	db $C3		;[Wait] 4
    3944.  0E:101C  37                  	db $37		;[Note] 56
    3945.  0E:101D  6D                  	db $6D		;[Volume] 13
    3946.  0E:101E  83                  	db $83		;[Instrument] 20
    3947.  0E:101F  C0                  	db $C0		;[Wait] 1
    3948.  0E:1020  39                  	db $39		;[Note] 58
    3949.  0E:1021  A6 07               	db $A6, $07; tone-slide
    3950.  0E:1023                      				;[Skip delay] 1
    3951.  0E:1023  B0 01               	db $B0, $01; tone-slide rep
    3952.  0E:1025                      				;[Skip delay] 1
    3953.  0E:1025  60                  	db $60		;[Note] 97
    3954.  0E:1026                      				;[Skip delay] 1
    3955.  0E:1026  37                  	db $37		;[Note] 56
    3956.  0E:1027  C3                  	db $C3		;[Wait] 4
    3957.  0E:1028  A7 55               	db $A7, $55	;[CMD vibrato]
    3958.  0E:102A  C0                  	db $C0		;[Wait] 1
    3959.  0E:102B  B1 03               	db $B1, $03	;[CMD vibrato] rep
    3960.  0E:102D  C2                  	db $C2		;[Wait] 3
    3961.  0E:102E  3E                  	db $3E		;[Note] 63
    3962.  0E:102F  C0                  	db $C0		;[Wait] 1
    3963.  0E:1030  40                  	db $40		;[Note] 65
    3964.  0E:1031  A6 07               	db $A6, $07; tone-slide
    3965.  0E:1033                      				;[Skip delay] 1
    3966.  0E:1033  3E                  	db $3E		;[Note] 63
    3967.  0E:1034  C1                  	db $C1		;[Wait] 2
    3968.  0E:1035  3C                  	db $3C		;[Note] 61
    3969.  0E:1036  C1                  	db $C1		;[Wait..] 2
    3970.  0E:1037  A7 55               	db $A7, $55	;[CMD vibrato]
    3971.  0E:1039  C0                  	db $C0		;[Wait] 1
    3972.  0E:103A  39                  	db $39		;[Note] 58
    3973.  0E:103B  C0                  	db $C0		;[Wait..] 1
    3974.  0E:103C  67                  	db $67		;[Volume] 7
    3975.  0E:103D                      				;[Skip delay] 1
    3976.  0E:103D  65                  	db $65		;[Volume] 5
    3977.  0E:103E                      				;[Skip delay] 1
    3978.  0E:103E  39                  	db $39		;[Note] 58
    3979.  0E:103F  6D                  	db $6D		;[Volume] 13
    3980.  0E:1040                      				;[Skip delay] 1
    3981.  0E:1040  68                  	db $68		;[Volume] 8
    3982.  0E:1041                      				;[Skip delay] 1
    3983.  0E:1041  39                  	db $39		;[Note] 58
    3984.  0E:1042  6D                  	db $6D		;[Volume] 13
    3985.  0E:1043  C1                  	db $C1		;[Wait] 2
    3986.  0E:1044  40                  	db $40		;[Note] 65
    3987.  0E:1045                      				;[Skip delay] 2
    3988.  0E:1045  3E                  	db $3E		;[Note] 63
    3989.  0E:1046  C1                  	db $C1		;[Wait..] 2
    3990.  0E:1047  66                  	db $66		;[Volume] 6
    3991.  0E:1048  C0                  	db $C0		;[Wait] 1
    3992.  0E:1049  63                  	db $63		;[Volume] 3
    3993.  0E:104A                      				;[Skip delay] 1
    3994.  0E:104A  3C                  	db $3C		;[Note] 61
    3995.  0E:104B  6D                  	db $6D		;[Volume] 13
    3996.  0E:104C  C1                  	db $C1		;[Wait] 2
    3997.  0E:104D  66                  	db $66		;[Volume] 6
    3998.  0E:104E  C0                  	db $C0		;[Wait] 1
    3999.  0E:104F  63                  	db $63		;[Volume] 3
    4000.  0E:1050                      				;[Skip delay] 1
    4001.  0E:1050  3B                  	db $3B		;[Note] 60
    4002.  0E:1051  6D                  	db $6D		;[Volume] 13
    4003.  0E:1052  C1                  	db $C1		;[Wait] 2
    4004.  0E:1053  69                  	db $69		;[Volume] 9
    4005.  0E:1054  C0                  	db $C0		;[Wait] 1
    4006.  0E:1055  37                  	db $37		;[Note] 56
    4007.  0E:1056  6D                  	db $6D		;[Volume] 13
    4008.  0E:1057  C1                  	db $C1		;[Wait] 2
    4009.  0E:1058  69                  	db $69		;[Volume] 9
    4010.  0E:1059  C0                  	db $C0		;[Wait] 1
    4011.  0E:105A  39                  	db $39		;[Note] 58
    4012.  0E:105B  6B                  	db $6B		;[Volume] 11
    4013.  0E:105C  C1                  	db $C1		;[Wait] 2
    4014.  0E:105D  A7 55               	db $A7, $55	;[CMD vibrato]
    4015.  0E:105F  C0                  	db $C0		;[Wait] 1
    4016.  0E:1060  69                  	db $69		;[Volume] 9
    4017.  0E:1061  B1 03               	db $B1, $03	;[CMD vibrato] rep
    4018.  0E:1063                      				;[Skip delay] 1
    4019.  0E:1063  67                  	db $67		;[Volume] 7
    4020.  0E:1064                      				;[Skip delay] 1
    4021.  0E:1064  66                  	db $66		;[Volume] 6
    4022.  0E:1065                      				;[Skip delay] 1
    4023.  0E:1065  60                  	db $60		;[Note] 97
    4024.  0E:1066  CB                  	db $CB		;[Wait] 12
    4025.  0E:1067  BF                  	db $BF		;[End-Of-Track]
    4026.  0E:1068                      .track_45:
    4027.  0E:1068  60                  	db $60		;[Note] 97
    4028.  0E:1069  C3                  	db $C3		;[Wait] 4
    4029.  0E:106A  2F                  	db $2F		;[Note] 48
    4030.  0E:106B  69                  	db $69		;[Volume] 9
    4031.  0E:106C  83                  	db $83		;[Instrument] 20
    4032.  0E:106D  C0                  	db $C0		;[Wait] 1
    4033.  0E:106E  30                  	db $30		;[Note] 49
    4034.  0E:106F  A6 08               	db $A6, $08; tone-slide
    4035.  0E:1071                      				;[Skip delay] 1
    4036.  0E:1071  B0 01               	db $B0, $01; tone-slide rep
    4037.  0E:1073                      				;[Skip delay] 1
    4038.  0E:1073  60                  	db $60		;[Note] 97
    4039.  0E:1074                      				;[Skip delay] 1
    4040.  0E:1074  2F                  	db $2F		;[Note] 48
    4041.  0E:1075  C7                  	db $C7		;[Wait] 8
    4042.  0E:1076  3B                  	db $3B		;[Note] 60
    4043.  0E:1077  C0                  	db $C0		;[Wait] 1
    4044.  0E:1078  3C                  	db $3C		;[Note] 61
    4045.  0E:1079  A6 06               	db $A6, $06; tone-slide
    4046.  0E:107B                      				;[Skip delay] 1
    4047.  0E:107B  3B                  	db $3B		;[Note] 60
    4048.  0E:107C  C1                  	db $C1		;[Wait] 2
    4049.  0E:107D  39                  	db $39		;[Note] 58
    4050.  0E:107E  C2                  	db $C2		;[Wait] 3
    4051.  0E:107F  34                  	db $34		;[Note] 53
    4052.  0E:1080                      				;[Skip delay] 3
    4053.  0E:1080  34                  	db $34		;[Note] 53
    4054.  0E:1081  C1                  	db $C1		;[Wait] 2
    4055.  0E:1082  34                  	db $34		;[Note] 53
    4056.  0E:1083                      				;[Skip delay] 2
    4057.  0E:1083  39                  	db $39		;[Note] 58
    4058.  0E:1084  C0                  	db $C0		;[Wait] 1
    4059.  0E:1085  60                  	db $60		;[Note] 97
    4060.  0E:1086                      				;[Skip delay] 1
    4061.  0E:1086  3B                  	db $3B		;[Note] 60
    4062.  0E:1087  6D                  	db $6D		;[Volume] 13
    4063.  0E:1088  C1                  	db $C1		;[Wait] 2
    4064.  0E:1089  66                  	db $66		;[Volume] 6
    4065.  0E:108A  C0                  	db $C0		;[Wait] 1
    4066.  0E:108B  63                  	db $63		;[Volume] 3
    4067.  0E:108C                      				;[Skip delay] 1
    4068.  0E:108C  39                  	db $39		;[Note] 58
    4069.  0E:108D  6D                  	db $6D		;[Volume] 13
    4070.  0E:108E  C1                  	db $C1		;[Wait] 2
    4071.  0E:108F  66                  	db $66		;[Volume] 6
    4072.  0E:1090  C0                  	db $C0		;[Wait] 1
    4073.  0E:1091  63                  	db $63		;[Volume] 3
    4074.  0E:1092                      				;[Skip delay] 1
    4075.  0E:1092  37                  	db $37		;[Note] 56
    4076.  0E:1093  6D                  	db $6D		;[Volume] 13
    4077.  0E:1094  C1                  	db $C1		;[Wait] 2
    4078.  0E:1095  69                  	db $69		;[Volume] 9
    4079.  0E:1096  C0                  	db $C0		;[Wait] 1
    4080.  0E:1097  34                  	db $34		;[Note] 53
    4081.  0E:1098  6D                  	db $6D		;[Volume] 13
    4082.  0E:1099  C1                  	db $C1		;[Wait] 2
    4083.  0E:109A  69                  	db $69		;[Volume] 9
    4084.  0E:109B  C0                  	db $C0		;[Wait] 1
    4085.  0E:109C  34                  	db $34		;[Note] 53
    4086.  0E:109D  6B                  	db $6B		;[Volume] 11
    4087.  0E:109E  C2                  	db $C2		;[Wait] 3
    4088.  0E:109F  68                  	db $68		;[Volume] 8
    4089.  0E:10A0  C0                  	db $C0		;[Wait] 1
    4090.  0E:10A1  65                  	db $65		;[Volume] 5
    4091.  0E:10A2                      				;[Skip delay] 1
    4092.  0E:10A2  63                  	db $63		;[Volume] 3
    4093.  0E:10A3                      				;[Skip delay] 1
    4094.  0E:10A3  60                  	db $60		;[Note] 97
    4095.  0E:10A4  CB                  	db $CB		;[Wait] 12
    4096.  0E:10A5  BF                  	db $BF		;[End-Of-Track]
    4097.  0E:10A6                      .track_46:
    4098.  0E:10A6  2C                  	db $2C		;[Note] 45
    4099.  0E:10A7  6F                  	db $6F		;[Volume] 15
    4100.  0E:10A8  7E                  	db $7E		;[Instrument] 15
    4101.  0E:10A9  C7                  	db $C7		;[Wait] 8
    4102.  0E:10AA  20                  	db $20		;[Note] 33
    4103.  0E:10AB  76                  	db $76		;[Instrument] 7
    4104.  0E:10AC  C2                  	db $C2		;[Wait] 3
    4105.  0E:10AD  20                  	db $20		;[Note] 33
    4106.  0E:10AE  67                  	db $67		;[Volume] 7
    4107.  0E:10AF  CC                  	db $CC		;[Wait] 13
    4108.  0E:10B0  20                  	db $20		;[Note] 33
    4109.  0E:10B1  6F                  	db $6F		;[Volume] 15
    4110.  0E:10B2  C2                  	db $C2		;[Wait] 3
    4111.  0E:10B3  20                  	db $20		;[Note] 33
    4112.  0E:10B4  67                  	db $67		;[Volume] 7
    4113.  0E:10B5  CC                  	db $CC		;[Wait] 13
    4114.  0E:10B6  20                  	db $20		;[Note] 33
    4115.  0E:10B7  6F                  	db $6F		;[Volume] 15
    4116.  0E:10B8  C2                  	db $C2		;[Wait] 3
    4117.  0E:10B9  20                  	db $20		;[Note] 33
    4118.  0E:10BA  67                  	db $67		;[Volume] 7
    4119.  0E:10BB  CC                  	db $CC		;[Wait] 13
    4120.  0E:10BC  20                  	db $20		;[Note] 33
    4121.  0E:10BD  6F                  	db $6F		;[Volume] 15
    4122.  0E:10BE  C2                  	db $C2		;[Wait] 3
    4123.  0E:10BF  20                  	db $20		;[Note] 33
    4124.  0E:10C0  67                  	db $67		;[Volume] 7
    4125.  0E:10C1  C4                  	db $C4		;[Wait] 5
    4126.  0E:10C2  BF                  	db $BF		;[End-Of-Track]
    4127.  0E:10C3                      .track_47:
    4128.  0E:10C3  16                  	db $16		;[Note] 23
    4129.  0E:10C4  6F                  	db $6F		;[Volume] 15
    4130.  0E:10C5  7D                  	db $7D		;[Instrument] 14
    4131.  0E:10C6  C1                  	db $C1		;[Wait] 2
    4132.  0E:10C7  60                  	db $60		;[Note] 97
    4133.  0E:10C8                      				;[Skip delay] 2
    4134.  0E:10C8  16                  	db $16		;[Note] 23
    4135.  0E:10C9                      				;[Skip delay] 2
    4136.  0E:10C9  60                  	db $60		;[Note] 97
    4137.  0E:10CA                      				;[Skip delay] 2
    4138.  0E:10CA  14                  	db $14		;[Note] 21
    4139.  0E:10CB  70                  	db $70		;[Instrument] 1
    4140.  0E:10CC  C3                  	db $C3		;[Wait] 4
    4141.  0E:10CD  14                  	db $14		;[Note] 21
    4142.  0E:10CE  7B                  	db $7B		;[Instrument] 12
    4143.  0E:10CF  C1                  	db $C1		;[Wait] 2
    4144.  0E:10D0  14                  	db $14		;[Note] 21
    4145.  0E:10D1                      				;[Skip delay] 2
    4146.  0E:10D1  16                  	db $16		;[Note] 23
    4147.  0E:10D2  7D                  	db $7D		;[Instrument] 14
    4148.  0E:10D3                      				;[Skip delay] 2
    4149.  0E:10D3  16                  	db $16		;[Note] 23
    4150.  0E:10D4  7B                  	db $7B		;[Instrument] 12
    4151.  0E:10D5                      				;[Skip delay] 2
    4152.  0E:10D5  16                  	db $16		;[Note] 23
    4153.  0E:10D6  7C                  	db $7C		;[Instrument] 13
    4154.  0E:10D7                      				;[Skip delay] 2
    4155.  0E:10D7  16                  	db $16		;[Note] 23
    4156.  0E:10D8  70                  	db $70		;[Instrument] 1
    4157.  0E:10D9                      				;[Skip delay] 2
    4158.  0E:10D9  19                  	db $19		;[Note] 26
    4159.  0E:10DA  C3                  	db $C3		;[Wait] 4
    4160.  0E:10DB  1D                  	db $1D		;[Note] 30
    4161.  0E:10DC  7D                  	db $7D		;[Instrument] 14
    4162.  0E:10DD  C1                  	db $C1		;[Wait] 2
    4163.  0E:10DE  1D                  	db $1D		;[Note] 30
    4164.  0E:10DF  7B                  	db $7B		;[Instrument] 12
    4165.  0E:10E0                      				;[Skip delay] 2
    4166.  0E:10E0  1B                  	db $1B		;[Note] 28
    4167.  0E:10E1  7D                  	db $7D		;[Instrument] 14
    4168.  0E:10E2                      				;[Skip delay] 2
    4169.  0E:10E2  60                  	db $60		;[Note] 97
    4170.  0E:10E3                      				;[Skip delay] 2
    4171.  0E:10E3  1B                  	db $1B		;[Note] 28
    4172.  0E:10E4                      				;[Skip delay] 2
    4173.  0E:10E4  60                  	db $60		;[Note] 97
    4174.  0E:10E5                      				;[Skip delay] 2
    4175.  0E:10E5  19                  	db $19		;[Note] 26
    4176.  0E:10E6  70                  	db $70		;[Instrument] 1
    4177.  0E:10E7  C3                  	db $C3		;[Wait] 4
    4178.  0E:10E8  19                  	db $19		;[Note] 26
    4179.  0E:10E9  7B                  	db $7B		;[Instrument] 12
    4180.  0E:10EA  C1                  	db $C1		;[Wait] 2
    4181.  0E:10EB  19                  	db $19		;[Note] 26
    4182.  0E:10EC                      				;[Skip delay] 2
    4183.  0E:10EC  1B                  	db $1B		;[Note] 28
    4184.  0E:10ED  7D                  	db $7D		;[Instrument] 14
    4185.  0E:10EE                      				;[Skip delay] 2
    4186.  0E:10EE  1B                  	db $1B		;[Note] 28
    4187.  0E:10EF  7B                  	db $7B		;[Instrument] 12
    4188.  0E:10F0                      				;[Skip delay] 2
    4189.  0E:10F0  1B                  	db $1B		;[Note] 28
    4190.  0E:10F1  7C                  	db $7C		;[Instrument] 13
    4191.  0E:10F2                      				;[Skip delay] 2
    4192.  0E:10F2  1B                  	db $1B		;[Note] 28
    4193.  0E:10F3  70                  	db $70		;[Instrument] 1
    4194.  0E:10F4                      				;[Skip delay] 2
    4195.  0E:10F4  16                  	db $16		;[Note] 23
    4196.  0E:10F5  C3                  	db $C3		;[Wait] 4
    4197.  0E:10F6  14                  	db $14		;[Note] 21
    4198.  0E:10F7  7D                  	db $7D		;[Instrument] 14
    4199.  0E:10F8  C1                  	db $C1		;[Wait] 2
    4200.  0E:10F9  14                  	db $14		;[Note] 21
    4201.  0E:10FA  7B                  	db $7B		;[Instrument] 12
    4202.  0E:10FB                      				;[Skip delay] 2
    4203.  0E:10FB  BF                  	db $BF		;[End-Of-Track]
    4204.  0E:10FC                      .track_48:
    4205.  0E:10FC  FF                  	db $FF		;[Wait] 64
    4206.  0E:10FD  BF                  	db $BF		;[End-Of-Track]
    4207.  0E:10FE                      .track_49:
    4208.  0E:10FE  C2                  	db $C2		;[Wait] 3
    4209.  0E:10FF  2E                  	db $2E		;[Note] 47
    4210.  0E:1100  62                  	db $62		;[Volume] 2
    4211.  0E:1101  72                  	db $72		;[Instrument] 3
    4212.  0E:1102  C0                  	db $C0		;[Wait] 1
    4213.  0E:1103  60                  	db $60		;[Note] 97
    4214.  0E:1104                      				;[Skip delay] 1
    4215.  0E:1104  2E                  	db $2E		;[Note] 47
    4216.  0E:1105                      				;[Skip delay] 1
    4217.  0E:1105  60                  	db $60		;[Note] 97
    4218.  0E:1106                      				;[Skip delay] 1
    4219.  0E:1106  2E                  	db $2E		;[Note] 47
    4220.  0E:1107  C1                  	db $C1		;[Wait] 2
    4221.  0E:1108  60                  	db $60		;[Note] 97
    4222.  0E:1109                      				;[Skip delay] 2
    4223.  0E:1109  2E                  	db $2E		;[Note] 47
    4224.  0E:110A                      				;[Skip delay] 2
    4225.  0E:110A  60                  	db $60		;[Note] 97
    4226.  0E:110B  C3                  	db $C3		;[Wait] 4
    4227.  0E:110C  2E                  	db $2E		;[Note] 47
    4228.  0E:110D  C1                  	db $C1		;[Wait] 2
    4229.  0E:110E  30                  	db $30		;[Note] 49
    4230.  0E:110F                      				;[Skip delay] 2
    4231.  0E:110F  31                  	db $31		;[Note] 50
    4232.  0E:1110                      				;[Skip delay] 2
    4233.  0E:1110  30                  	db $30		;[Note] 49
    4234.  0E:1111                      				;[Skip delay] 2
    4235.  0E:1111  2E                  	db $2E		;[Note] 47
    4236.  0E:1112                      				;[Skip delay] 2
    4237.  0E:1112  60                  	db $60		;[Note] 97
    4238.  0E:1113                      				;[Skip delay] 2
    4239.  0E:1113  2E                  	db $2E		;[Note] 47
    4240.  0E:1114                      				;[Skip delay] 2
    4241.  0E:1114  2C                  	db $2C		;[Note] 45
    4242.  0E:1115                      				;[Skip delay] 2
    4243.  0E:1115  2E                  	db $2E		;[Note] 47
    4244.  0E:1116  C2                  	db $C2		;[Wait] 3
    4245.  0E:1117  60                  	db $60		;[Note] 97
    4246.  0E:1118  C0                  	db $C0		;[Wait] 1
    4247.  0E:1119  2E                  	db $2E		;[Note] 47
    4248.  0E:111A                      				;[Skip delay] 1
    4249.  0E:111A  60                  	db $60		;[Note] 97
    4250.  0E:111B                      				;[Skip delay] 1
    4251.  0E:111B  2E                  	db $2E		;[Note] 47
    4252.  0E:111C  C2                  	db $C2		;[Wait] 3
    4253.  0E:111D  60                  	db $60		;[Note] 97
    4254.  0E:111E  C0                  	db $C0		;[Wait] 1
    4255.  0E:111F  2E                  	db $2E		;[Note] 47
    4256.  0E:1120  C1                  	db $C1		;[Wait] 2
    4257.  0E:1121  60                  	db $60		;[Note] 97
    4258.  0E:1122  C3                  	db $C3		;[Wait] 4
    4259.  0E:1123  2E                  	db $2E		;[Note] 47
    4260.  0E:1124  C1                  	db $C1		;[Wait] 2
    4261.  0E:1125  30                  	db $30		;[Note] 49
    4262.  0E:1126                      				;[Skip delay] 2
    4263.  0E:1126  31                  	db $31		;[Note] 50
    4264.  0E:1127                      				;[Skip delay] 2
    4265.  0E:1127  30                  	db $30		;[Note] 49
    4266.  0E:1128                      				;[Skip delay] 2
    4267.  0E:1128  2E                  	db $2E		;[Note] 47
    4268.  0E:1129                      				;[Skip delay] 2
    4269.  0E:1129  60                  	db $60		;[Note] 97
    4270.  0E:112A                      				;[Skip delay] 2
    4271.  0E:112A  2E                  	db $2E		;[Note] 47
    4272.  0E:112B                      				;[Skip delay] 2
    4273.  0E:112B  2C                  	db $2C		;[Note] 45
    4274.  0E:112C  C0                  	db $C0		;[Wait] 1
    4275.  0E:112D  BF                  	db $BF		;[End-Of-Track]
    4276.  0E:112E                      .track_50:
    4277.  0E:112E  2E                  	db $2E		;[Note] 47
    4278.  0E:112F  67                  	db $67		;[Volume] 7
    4279.  0E:1130  72                  	db $72		;[Instrument] 3
    4280.  0E:1131  C0                  	db $C0		;[Wait] 1
    4281.  0E:1132  61                  	db $61		;[Volume] 1
    4282.  0E:1133                      				;[Skip delay] 1
    4283.  0E:1133  2E                  	db $2E		;[Note] 47
    4284.  0E:1134  67                  	db $67		;[Volume] 7
    4285.  0E:1135                      				;[Skip delay] 1
    4286.  0E:1135  61                  	db $61		;[Volume] 1
    4287.  0E:1136                      				;[Skip delay] 1
    4288.  0E:1136  2E                  	db $2E		;[Note] 47
    4289.  0E:1137  67                  	db $67		;[Volume] 7
    4290.  0E:1138  C1                  	db $C1		;[Wait] 2
    4291.  0E:1139  60                  	db $60		;[Note] 97
    4292.  0E:113A                      				;[Skip delay] 2
    4293.  0E:113A  2E                  	db $2E		;[Note] 47
    4294.  0E:113B                      				;[Skip delay] 2
    4295.  0E:113B  60                  	db $60		;[Note] 97
    4296.  0E:113C  C3                  	db $C3		;[Wait] 4
    4297.  0E:113D  2E                  	db $2E		;[Note] 47
    4298.  0E:113E  C1                  	db $C1		;[Wait] 2
    4299.  0E:113F  30                  	db $30		;[Note] 49
    4300.  0E:1140                      				;[Skip delay] 2
    4301.  0E:1140  31                  	db $31		;[Note] 50
    4302.  0E:1141                      				;[Skip delay] 2
    4303.  0E:1141  30                  	db $30		;[Note] 49
    4304.  0E:1142                      				;[Skip delay] 2
    4305.  0E:1142  2E                  	db $2E		;[Note] 47
    4306.  0E:1143                      				;[Skip delay] 2
    4307.  0E:1143  60                  	db $60		;[Note] 97
    4308.  0E:1144                      				;[Skip delay] 2
    4309.  0E:1144  2E                  	db $2E		;[Note] 47
    4310.  0E:1145                      				;[Skip delay] 2
    4311.  0E:1145  2C                  	db $2C		;[Note] 45
    4312.  0E:1146                      				;[Skip delay] 2
    4313.  0E:1146  2E                  	db $2E		;[Note] 47
    4314.  0E:1147  C2                  	db $C2		;[Wait] 3
    4315.  0E:1148  61                  	db $61		;[Volume] 1
    4316.  0E:1149  C0                  	db $C0		;[Wait] 1
    4317.  0E:114A  2E                  	db $2E		;[Note] 47
    4318.  0E:114B  67                  	db $67		;[Volume] 7
    4319.  0E:114C                      				;[Skip delay] 1
    4320.  0E:114C  61                  	db $61		;[Volume] 1
    4321.  0E:114D                      				;[Skip delay] 1
    4322.  0E:114D  2E                  	db $2E		;[Note] 47
    4323.  0E:114E  67                  	db $67		;[Volume] 7
    4324.  0E:114F  C2                  	db $C2		;[Wait] 3
    4325.  0E:1150  61                  	db $61		;[Volume] 1
    4326.  0E:1151  C0                  	db $C0		;[Wait] 1
    4327.  0E:1152  2E                  	db $2E		;[Note] 47
    4328.  0E:1153  67                  	db $67		;[Volume] 7
    4329.  0E:1154  C1                  	db $C1		;[Wait] 2
    4330.  0E:1155  60                  	db $60		;[Note] 97
    4331.  0E:1156  C3                  	db $C3		;[Wait] 4
    4332.  0E:1157  2E                  	db $2E		;[Note] 47
    4333.  0E:1158  C1                  	db $C1		;[Wait] 2
    4334.  0E:1159  30                  	db $30		;[Note] 49
    4335.  0E:115A                      				;[Skip delay] 2
    4336.  0E:115A  31                  	db $31		;[Note] 50
    4337.  0E:115B                      				;[Skip delay] 2
    4338.  0E:115B  30                  	db $30		;[Note] 49
    4339.  0E:115C                      				;[Skip delay] 2
    4340.  0E:115C  2E                  	db $2E		;[Note] 47
    4341.  0E:115D                      				;[Skip delay] 2
    4342.  0E:115D  60                  	db $60		;[Note] 97
    4343.  0E:115E                      				;[Skip delay] 2
    4344.  0E:115E  2E                  	db $2E		;[Note] 47
    4345.  0E:115F                      				;[Skip delay] 2
    4346.  0E:115F  2C                  	db $2C		;[Note] 45
    4347.  0E:1160                      				;[Skip delay] 2
    4348.  0E:1160  2E                  	db $2E		;[Note] 47
    4349.  0E:1161  C0                  	db $C0		;[Wait] 1
    4350.  0E:1162  61                  	db $61		;[Volume] 1
    4351.  0E:1163                      				;[Skip delay] 1
    4352.  0E:1163  BF                  	db $BF		;[End-Of-Track]
    4353.  0E:1164                      .track_51:
    4354.  0E:1164  16                  	db $16		;[Note] 23
    4355.  0E:1165  69                  	db $69		;[Volume] 9
    4356.  0E:1166  C1                  	db $C1		;[Wait] 2
    4357.  0E:1167  60                  	db $60		;[Note] 97
    4358.  0E:1168                      				;[Skip delay] 2
    4359.  0E:1168  16                  	db $16		;[Note] 23
    4360.  0E:1169                      				;[Skip delay] 2
    4361.  0E:1169  60                  	db $60		;[Note] 97
    4362.  0E:116A                      				;[Skip delay] 2
    4363.  0E:116A  14                  	db $14		;[Note] 21
    4364.  0E:116B  C7                  	db $C7		;[Wait] 8
    4365.  0E:116C  16                  	db $16		;[Note] 23
    4366.  0E:116D  C3                  	db $C3		;[Wait] 4
    4367.  0E:116E  60                  	db $60		;[Note] 97
    4368.  0E:116F  C1                  	db $C1		;[Wait] 2
    4369.  0E:1170  16                  	db $16		;[Note] 23
    4370.  0E:1171                      				;[Skip delay] 2
    4371.  0E:1171  19                  	db $19		;[Note] 26
    4372.  0E:1172  C3                  	db $C3		;[Wait] 4
    4373.  0E:1173  1D                  	db $1D		;[Note] 30
    4374.  0E:1174                      				;[Skip delay] 4
    4375.  0E:1174  1B                  	db $1B		;[Note] 28
    4376.  0E:1175  C1                  	db $C1		;[Wait] 2
    4377.  0E:1176  60                  	db $60		;[Note] 97
    4378.  0E:1177                      				;[Skip delay] 2
    4379.  0E:1177  1B                  	db $1B		;[Note] 28
    4380.  0E:1178                      				;[Skip delay] 2
    4381.  0E:1178  60                  	db $60		;[Note] 97
    4382.  0E:1179                      				;[Skip delay] 2
    4383.  0E:1179  19                  	db $19		;[Note] 26
    4384.  0E:117A  C7                  	db $C7		;[Wait] 8
    4385.  0E:117B  1B                  	db $1B		;[Note] 28
    4386.  0E:117C  C3                  	db $C3		;[Wait] 4
    4387.  0E:117D  60                  	db $60		;[Note] 97
    4388.  0E:117E  C1                  	db $C1		;[Wait] 2
    4389.  0E:117F  1B                  	db $1B		;[Note] 28
    4390.  0E:1180                      				;[Skip delay] 2
    4391.  0E:1180  16                  	db $16		;[Note] 23
    4392.  0E:1181  C3                  	db $C3		;[Wait] 4
    4393.  0E:1182  14                  	db $14		;[Note] 21
    4394.  0E:1183                      				;[Skip delay] 4
    4395.  0E:1183  BF                  	db $BF		;[End-Of-Track]
    4396.  0E:1184                      .track_52:
    4397.  0E:1184  2E                  	db $2E		;[Note] 47
    4398.  0E:1185  6C                  	db $6C		;[Volume] 12
    4399.  0E:1186  71                  	db $71		;[Instrument] 2
    4400.  0E:1187  C0                  	db $C0		;[Wait] 1
    4401.  0E:1188  64                  	db $64		;[Volume] 4
    4402.  0E:1189                      				;[Skip delay] 1
    4403.  0E:1189  2E                  	db $2E		;[Note] 47
    4404.  0E:118A  6C                  	db $6C		;[Volume] 12
    4405.  0E:118B                      				;[Skip delay] 1
    4406.  0E:118B  64                  	db $64		;[Volume] 4
    4407.  0E:118C                      				;[Skip delay] 1
    4408.  0E:118C  2C                  	db $2C		;[Note] 45
    4409.  0E:118D  6C                  	db $6C		;[Volume] 12
    4410.  0E:118E  C1                  	db $C1		;[Wait] 2
    4411.  0E:118F  60                  	db $60		;[Note] 97
    4412.  0E:1190                      				;[Skip delay] 2
    4413.  0E:1190  2E                  	db $2E		;[Note] 47
    4414.  0E:1191                      				;[Skip delay] 2
    4415.  0E:1191  60                  	db $60		;[Note] 97
    4416.  0E:1192                      				;[Skip delay] 2
    4417.  0E:1192  2C                  	db $2C		;[Note] 45
    4418.  0E:1193                      				;[Skip delay] 2
    4419.  0E:1193  60                  	db $60		;[Note] 97
    4420.  0E:1194                      				;[Skip delay] 2
    4421.  0E:1194  2E                  	db $2E		;[Note] 47
    4422.  0E:1195  C5                  	db $C5		;[Wait] 6
    4423.  0E:1196  64                  	db $64		;[Volume] 4
    4424.  0E:1197  C1                  	db $C1		;[Wait] 2
    4425.  0E:1198  29                  	db $29		;[Note] 42
    4426.  0E:1199  6C                  	db $6C		;[Volume] 12
    4427.  0E:119A  C3                  	db $C3		;[Wait] 4
    4428.  0E:119B  2C                  	db $2C		;[Note] 45
    4429.  0E:119C  C5                  	db $C5		;[Wait] 6
    4430.  0E:119D  60                  	db $60		;[Note] 97
    4431.  0E:119E  C1                  	db $C1		;[Wait] 2
    4432.  0E:119F  2E                  	db $2E		;[Note] 47
    4433.  0E:11A0  D2                  	db $D2		;[Wait] 19
    4434.  0E:11A1  67                  	db $67		;[Volume] 7
    4435.  0E:11A2  C0                  	db $C0		;[Wait] 1
    4436.  0E:11A3  2E                  	db $2E		;[Note] 47
    4437.  0E:11A4  6F                  	db $6F		;[Volume] 15
    4438.  0E:11A5  73                  	db $73		;[Instrument] 4
    4439.  0E:11A6  C1                  	db $C1		;[Wait] 2
    4440.  0E:11A7  35                  	db $35		;[Note] 54
    4441.  0E:11A8  C5                  	db $C5		;[Wait] 6
    4442.  0E:11A9  BF                  	db $BF		;[End-Of-Track]
    4443.  0E:11AA                      .track_53:
    4444.  0E:11AA  60                  	db $60		;[Note] 97
    4445.  0E:11AB  C2                  	db $C2		;[Wait] 3
    4446.  0E:11AC  2E                  	db $2E		;[Note] 47
    4447.  0E:11AD  63                  	db $63		;[Volume] 3
    4448.  0E:11AE  71                  	db $71		;[Instrument] 2
    4449.  0E:11AF  C0                  	db $C0		;[Wait] 1
    4450.  0E:11B0  61                  	db $61		;[Volume] 1
    4451.  0E:11B1                      				;[Skip delay] 1
    4452.  0E:11B1  2E                  	db $2E		;[Note] 47
    4453.  0E:11B2  63                  	db $63		;[Volume] 3
    4454.  0E:11B3                      				;[Skip delay] 1
    4455.  0E:11B3  61                  	db $61		;[Volume] 1
    4456.  0E:11B4                      				;[Skip delay] 1
    4457.  0E:11B4  2C                  	db $2C		;[Note] 45
    4458.  0E:11B5  63                  	db $63		;[Volume] 3
    4459.  0E:11B6  C1                  	db $C1		;[Wait] 2
    4460.  0E:11B7  60                  	db $60		;[Note] 97
    4461.  0E:11B8                      				;[Skip delay] 2
    4462.  0E:11B8  2E                  	db $2E		;[Note] 47
    4463.  0E:11B9                      				;[Skip delay] 2
    4464.  0E:11B9  60                  	db $60		;[Note] 97
    4465.  0E:11BA                      				;[Skip delay] 2
    4466.  0E:11BA  2C                  	db $2C		;[Note] 45
    4467.  0E:11BB                      				;[Skip delay] 2
    4468.  0E:11BB  60                  	db $60		;[Note] 97
    4469.  0E:11BC                      				;[Skip delay] 2
    4470.  0E:11BC  2E                  	db $2E		;[Note] 47
    4471.  0E:11BD  C5                  	db $C5		;[Wait] 6
    4472.  0E:11BE  60                  	db $60		;[Note] 97
    4473.  0E:11BF  C1                  	db $C1		;[Wait] 2
    4474.  0E:11C0  29                  	db $29		;[Note] 42
    4475.  0E:11C1  C3                  	db $C3		;[Wait] 4
    4476.  0E:11C2  2C                  	db $2C		;[Note] 45
    4477.  0E:11C3  C5                  	db $C5		;[Wait] 6
    4478.  0E:11C4  60                  	db $60		;[Note] 97
    4479.  0E:11C5  C1                  	db $C1		;[Wait] 2
    4480.  0E:11C6  2E                  	db $2E		;[Note] 47
    4481.  0E:11C7  D0                  	db $D0		;[Wait] 17
    4482.  0E:11C8  60                  	db $60		;[Note] 97
    4483.  0E:11C9  C2                  	db $C2		;[Wait] 3
    4484.  0E:11CA  2E                  	db $2E		;[Note] 47
    4485.  0E:11CB  62                  	db $62		;[Volume] 2
    4486.  0E:11CC  73                  	db $73		;[Instrument] 4
    4487.  0E:11CD  C1                  	db $C1		;[Wait] 2
    4488.  0E:11CE  35                  	db $35		;[Note] 54
    4489.  0E:11CF  C2                  	db $C2		;[Wait] 3
    4490.  0E:11D0  BF                  	db $BF		;[End-Of-Track]
    4491.  0E:11D1                      .track_54:
    4492.  0E:11D1  BF                  	db $BF		;[End-Of-Track]
    4493.  0E:11D2                      ; [ Song sub-track data ]
     397   0E:11D2                      	include	"..\TTplayer\code\ttreplayDAT.asm"
       1.  0E:11D2                      
       2.  0E:11D2  00 (128)            	ds 8*16, 0
       3.  0E:1252                      _VOLUME_TABLE
       4.  0E:1252  (0100)              	incbin ".\voltable_combined.bin"	
       5.  0E:1352                      
       6.  0E:1352                      ;Konami values found in	Nemesis 2 replayer.
       7.  0E:1352  (0E:0D40)           C_PER		equ	$6a*32	
       8.  0E:1352  (0E:0C80)           C1_PER	equ	$64*32
       9.  0E:1352  (0E:0BC0)           D_PER		equ	$5e*32
      10.  0E:1352  (0E:0B20)           D1_PER	equ	$59*32
      11.  0E:1352  (0E:0A80)           E_PER		equ	$54*32
      12.  0E:1352  (0E:09E0)           F_PER		equ	$4f*32
      13.  0E:1352  (0E:0940)           F1_PER	equ	$4a*32
      14.  0E:1352  (0E:08C0)           G_PER		equ	$46*32
      15.  0E:1352  (0E:0840)           G1_PER	equ	$42*32
      16.  0E:1352  (0E:07E0)           A_PER		equ	$3f*32
      17.  0E:1352  (0E:0760)           A1_PER	equ	$3b*32
      18.  0E:1352  (0E:0700)           B_PER		equ	$38*32
      19.  0E:1352                      
      20.  0E:1352                      TRACK_ToneTable:	
      21.  0E:1352                      	dw C_PER/1	,C1_PER/1  ,D_PER/1  ,D1_PER/1  ,E_PER/1	,F_PER/1  ,F1_PER/1  ,G_PER/1	 ,G1_PER/1	,A_PER/1  ,A1_PER/1  ,B_PER/1
      21.  0E:1352  40 0D 80 0C C0 0B 20 0B 80 0A E0 09 40 09 C0 08 
      21.  0E:1362  40 08 E0 07 60 07 00 07 
      22.  0E:136A                      	dw C_PER/2	,C1_PER/2  ,D_PER/2  ,D1_PER/2  ,E_PER/2	,F_PER/2  ,F1_PER/2  ,G_PER/2	 ,G1_PER/2	,A_PER/2  ,A1_PER/2  ,B_PER/2
      22.  0E:136A  A0 06 40 06 E0 05 90 05 40 05 F0 04 A0 04 60 04 
      22.  0E:137A  20 04 F0 03 B0 03 80 03 
      23.  0E:1382                      	dw C_PER/4	,C1_PER/4  ,D_PER/4  ,D1_PER/4  ,E_PER/4	,F_PER/4  ,F1_PER/4  ,G_PER/4	 ,G1_PER/4	,A_PER/4  ,A1_PER/4  ,B_PER/4
      23.  0E:1382  50 03 20 03 F0 02 C8 02 A0 02 78 02 50 02 30 02 
      23.  0E:1392  10 02 F8 01 D8 01 C0 01 
      24.  0E:139A                      	dw C_PER/8	,C1_PER/8  ,D_PER/8  ,D1_PER/8  ,E_PER/8	,F_PER/8  ,F1_PER/8  ,G_PER/8	 ,G1_PER/8	,A_PER/8  ,A1_PER/8  ,B_PER/8
      24.  0E:139A  A8 01 90 01 78 01 64 01 50 01 3C 01 28 01 18 01 
      24.  0E:13AA  08 01 FC 00 EC 00 E0 00 
      25.  0E:13B2                      	dw C_PER/16	,C1_PER/16 ,D_PER/16 ,D1_PER/16 ,E_PER/16	,F_PER/16 ,F1_PER/16 ,G_PER/16 ,G1_PER/16	,A_PER/16 ,A1_PER/16 ,B_PER/16
      25.  0E:13B2  D4 00 C8 00 BC 00 B2 00 A8 00 9E 00 94 00 8C 00 
      25.  0E:13C2  84 00 7E 00 76 00 70 00 
      26.  0E:13CA                      	dw C_PER/32	,C1_PER/32 ,D_PER/32 ,D1_PER/32 ,E_PER/32	,F_PER/32 ,F1_PER/32 ,G_PER/32 ,G1_PER/32	,A_PER/32 ,A1_PER/32 ,B_PER/32
      26.  0E:13CA  6A 00 64 00 5E 00 59 00 54 00 4F 00 4A 00 46 00 
      26.  0E:13DA  42 00 3F 00 3B 00 38 00 
      27.  0E:13E2                      	dw C_PER/64	,C1_PER/64 ,D_PER/64 ,D1_PER/64 ,E_PER/64	,F_PER/64 ,F1_PER/64 ,G_PER/64 ,G1_PER/64	,A_PER/64 ,A1_PER/64 ,B_PER/64
      27.  0E:13E2  35 00 32 00 2F 00 2C 00 2A 00 27 00 25 00 23 00 
      27.  0E:13F2  21 00 1F 00 1D 00 1C 00 
      28.  0E:13FA                      	dw C_PER/128,C1_PER/128,D_PER/128,D1_PER/128,E_PER/128,F_PER/128,F1_PER/128,G_PER/128,G1_PER/128,A_PER/128,A1_PER/128,B_PER/128
      28.  0E:13FA  1A 00 19 00 17 00 16 00 15 00 13 00 12 00 11 00 
      28.  0E:140A  10 00 0F 00 0E 00 0E 00 
      29.  0E:1412                      
      30.  0E:1412                      
      31.  0E:1412                      TRACK_Vibrato_sine:
      32.  0E:1412                      	db	 0*2,	2*2, 4*2, 7*2,11*2,16*2,22*2,28*2,35*2,43*2,51*2,59*2,68*2,77*2,87*2,96*2
      32.  0E:1412  00 04 08 0E 16 20 2C 38 46 56 66 76 88 9A AE C0 
      33.  0E:1422                      	db	96*2,86*2,77*2,68*2,59*2,51*2,43*2,35*2,28*2,22*2,16*2,11*2, 7*2,	4*2, 2*2, 0*2
      33.  0E:1422  C0 AC 9A 88 76 66 56 46 38 2C 20 16 0E 08 04 00 
      34.  0E:1432                      
      35.  0E:1432                      TRACK_Vibrato_triangle:
      36.  0E:1432                      	db	 0, 6,12,18,24,30,36,42,48,54,60,66,72,78,84,90
      36.  0E:1432  00 06 0C 12 18 1E 24 2A 30 36 3C 42 48 4E 54 5A 
      37.  0E:1442                      	db	96,90,84,78,72,66,60,54,48,42,36,30,24,18,12, 6
      37.  0E:1442  60 5A 54 4E 48 42 3C 36 30 2A 24 1E 18 12 0C 06 
      38.  0E:1452                      
      39.  0E:1452                      TRACK_Vibrato_pulse:
      40.  0E:1452                      	db	255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
      40.  0E:1452  FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 
      41.  0E:1462                      	db      0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0	
      41.  0E:1462  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
      42.  0E:1472                      	
     398   0E:1472                      end_demo_song:	
     399   0E:1472                      
     400   0E:1472                      	
     401   0E:1472                      FINISH:
     402   0E:1472                      
     403   0E:1472                      
     404   0E:1472                      ;---------------------------------------------------------
     405   0E:1472                      ; Variables
     406   0E:1472                      ;---------------------------------------------------------
     407   0E:1472  (0040)              	MAP 0x0040
     408   0E:1472  (0E:0040)           musbuff:	#15*1024
     409   0E:1472                      	
     410   0E:1472  (0000)              	ENDMAP
     411   0E:1472                      	
     412   0E:1472  (C000)              	MAP 0xC000
     413   0E:1472  (0E:C000)           ttreplayRAM:		#0
     414   0E:1472                      	include	"..\TTplayer\code\ttreplayRAM.asm"
       1.  0E:1472                      ;================================
       2.  0E:1472                      ; The new replayer.
       3.  0E:1472                      ;
       4.  0E:1472                      ; Persistent RAM unswappable
       5.  0E:1472                      ;
       6.  0E:1472                      ;================================
       7.  0E:1472                      
       8.  0E:1472  (0E:FFFFFFEF)       TRACK_Instrument		equ 0-17
       9.  0E:1472  (0E:FFFFFFF0)       TRACK_Command		equ 1-17
      10.  0E:1472  (0E:FFFFFFF1)       TRACK_MacroPointer	equ 2-17
      11.  0E:1472  (0E:FFFFFFF3)       TRACK_MacroStart		equ 4-17
      12.  0E:1472  (0E:FFFFFFF5)       TRACK_MacroRestart 	equ 6-17		; no longer needed
      13.  0E:1472  (0E:FFFFFFF6)       TRACK_Note			equ 7-17
      14.  0E:1472  (0E:FFFFFFF7)       TRACK_Volume		equ 8-17
      15.  0E:1472  (0E:FFFFFFF8)       TRACK_Waveform		equ 9-17
      16.  0E:1472  (0E:FFFFFFF9)       TRACK_Flags			equ 10-17
      17.  0E:1472                      	; 0 = note trigger
      18.  0E:1472                      	; 1 = note active
      19.  0E:1472                      	; 4 = morph active		;-< for SCC when 1 then waveform is following morph buffer
      20.  0E:1472                      	; 3 = command trigger
      21.  0E:1472                      	; 2 = envelope trigger
      22.  0E:1472                      	; 5 = instrument trigger
      23.  0E:1472                      	; 6 = waveform trigger
      24.  0E:1472                      	; 7 = PSG/SCC
      25.  0E:1472  (0E:FFFFFFFA)       TRACK_empty			equ 11-17		; needed for pushing 0 at note start
      26.  0E:1472  (0E:FFFFFFFB)       TRACK_ToneAdd		equ 12-17		; reset after note set
      27.  0E:1472  (0E:FFFFFFFD)       TRACK_VolumeAdd		equ 14-17		; reset after note set
      28.  0E:1472  (0E:FFFFFFFE)       TRACK_Noise			equ 15-17		; reset after note set
      29.  0E:1472  (0E:FFFFFFFF)       TRACK_cmd_VolumeAdd	equ 16-17		; reset after note set
      30.  0E:1472  (0E:0000)           TRACK_cmd_ToneSlideAdd	equ 17-17		; reset after note set
      31.  0E:1472  (0E:0002)           TRACK_cmd_ToneAdd		equ 19-17		; reset after note set
      32.  0E:1472                      
      33.  0E:1472  (0E:0004)           TRACK_cmd_detune		equ 21-17
      34.  0E:1472  (0E:0005)           TRACK_cmd_0			equ 22-17
      35.  0E:1472  (0E:0006)           TRACK_cmd_1			equ 23-17
      36.  0E:1472  (0E:0007)           TRACK_cmd_2			equ 24-17
      37.  0E:1472  (0E:0008)           TRACK_cmd_3			equ 25-17
      38.  0E:1472  (0E:0009)           TRACK_cmd_4_depth		equ 26-17
      39.  0E:1472  (0E:000A)           TRACK_cmd_4_step		equ 27-17
      40.  0E:1472  (0E:000B)           TRACK_cmd_NoteAdd		equ 28-17		;x reset after note set
      41.  0E:1472  (0E:000C)           TRACK_cmd_A			equ 29-17		
      42.  0E:1472  (0E:000D)           TRACK_cmd_B			equ 30-17		
      43.  0E:1472  (0E:000E)           TRACK_cmd_E			equ 31-17
      44.  0E:1472  (0E:000F)           TRACK_Timer			equ 32-17		; used for timing by all cmd's
      45.  0E:1472  (0E:0010)           TRACK_Step			equ 33-17		; only for VIBRATO???
      46.  0E:1472  (0E:0011)           TRACK_Delay			equ 34-17		; rows to wait till next data
      47.  0E:1472  (0E:0012)           TRACK_prevDelay		equ 35-17
      48.  0E:1472  (0E:0013)           TRACK_Retrig		equ 36-17		; rows to retrigger command
      49.  0E:1472  (0E:0014)           TRACK_cmd_A_add		equ 37-17	;<< Still in use???
      50.  0E:1472                      
      51.  0E:1472  (0E:0026)           TRACK_REC_SIZE		equ 38
      52.  0E:1472                      
      53.  0E:1472                      
      54.  0E:1472  (0E:0000)           B_TRGNOT			equ 0			; note trigger
      55.  0E:1472  (0E:0001)           B_ACTNOT			equ 1			; note active
      56.  0E:1472  (0E:0002)           B_TRGENV			equ 2			; envelope trigger
      57.  0E:1472  (0E:0003)           B_TRGCMD			equ 3			; command active
      58.  0E:1472  (0E:0004)           B_ACTMOR			equ 4			; morph active
      59.  0E:1472  (0E:0005)           B_TRGINS			equ 5			; instrument trigger
      60.  0E:1472  (0E:0006)           B_TRGWAV			equ 6			; waveform trigger
      61.  0E:1472  (0E:0007)           B_PSGSCC			equ 7			; chip type (PSG or SCC)
      62.  0E:1472                      
      63.  0E:1472                      
      64.  0E:1472  (0E:C000)           _SP_Storage			#1			; to store the SP
      65.  0E:1472                      
      66.  0E:1472  (0E:C001)           replay_trigger		#1			; trigger byte.
      67.  0E:1472  (0E:C002)           replay_mainPSGvol		#2			; volume mixer for PSG SCC balance
      68.  0E:1472  (0E:C004)           replay_mainSCCvol		#2			; volume mixer for PSG SCC balance
      69.  0E:1472                      ;replay_songbase:		#2			; pointer to song data
      70.  0E:1472  (0E:C006)           replay_wavebase:		#2			; pointer to waveform data
      71.  0E:1472  (0E:C008)           replay_insbase:		#2			; pointer to instrument data
      72.  0E:1472  (0E:C00A)           replay_orderpointer:	#2			; pointer to the order track list pointers
      73.  0E:1472                      
      74.  0E:1472  (0E:C00C)           replay_speed 		#1			; speed to replay (get from song)
      75.  0E:1472  (0E:C00D)           replay_speed_subtimer 	#1			; counter for finer speed
      76.  0E:1472  (0E:C00E)           replay_speed_timer 	#1 			; counter for speed
      77.  0E:1472  (0E:C00F)           replay_mode 		#1			; Replayer status
      78.  0E:1472                      ; mode 0  = no sound output
      79.  0E:1472                      ; mode 1  = replay song 
      80.  0E:1472  (0E:C010)           replay_fade			#1			; Fade active (value = fade speed)
      81.  0E:1472  (0E:C011)           replay_fade_timer		#1			; Timer for fade
      82.  0E:1472  (0E:C012)           replay_fade_vol		#1			; fade volume to lower the channel volume.
      83.  0E:1472                      
      84.  0E:1472                      
      85.  0E:1472  (0E:C013)           replay_previous_note	#1			; previous note played
      86.  0E:1472  (0E:C014)           replay_mainvol		#2			; the volume correction.
      87.  0E:1472                      
      88.  0E:1472  (0E:C016)           replay_vib_table		#2			; pointer to the vibrato table
      89.  0E:1472  (0E:C018)           replay_Tonetable		#2			; ToneTable (affected by transpose);
      90.  0E:1472                      
      91.  0E:1472  (0E:C01A)           replay_morph_active	#1			; flag to indicate morphing is active
      92.  0E:1472                      ;replay_morph_update	#1			; flag to indicate a new waveform is ready
      93.  0E:1472  (0E:C01B)           replay_morph_timer	#1			; step timer between morphs
      94.  0E:1472  (0E:C01C)           replay_morph_speed	#1 
      95.  0E:1472  (0E:C01D)           replay_morph_counter	#1			; counter till end morph
      96.  0E:1472  (0E:C01E)           replay_morph_buffer	#64			; interleaved buffer with morphed waveform and morph delta values
      97.  0E:1472  (0E:C05E)           replay_morph_waveform	#1 			; waveform we are morphing to.
      98.  0E:1472                      
      99.  0E:1472                      
     100.  0E:1472  (0E:C05F)           TRACK_Chan1			#TRACK_REC_SIZE
     101.  0E:1472  (0E:C085)           TRACK_Chan2			#TRACK_REC_SIZE
     102.  0E:1472  (0E:C0AB)           TRACK_Chan3			#TRACK_REC_SIZE
     103.  0E:1472  (0E:C0D1)           TRACK_Chan4			#TRACK_REC_SIZE
     104.  0E:1472  (0E:C0F7)           TRACK_Chan5			#TRACK_REC_SIZE
     105.  0E:1472  (0E:C11D)           TRACK_Chan6			#TRACK_REC_SIZE
     106.  0E:1472  (0E:C143)           TRACK_Chan7			#TRACK_REC_SIZE
     107.  0E:1472  (0E:C169)           TRACK_Chan8			#TRACK_REC_SIZE
     108.  0E:1472                      
     109.  0E:1472  (0E:C18F)           TRACK_pointer1		#2
     110.  0E:1472  (0E:C191)           TRACK_pointer2		#2
     111.  0E:1472  (0E:C193)           TRACK_pointer3		#2
     112.  0E:1472  (0E:C195)           TRACK_pointer4		#2
     113.  0E:1472  (0E:C197)           TRACK_pointer5		#2
     114.  0E:1472  (0E:C199)           TRACK_pointer6		#2
     115.  0E:1472  (0E:C19B)           TRACK_pointer7		#2
     116.  0E:1472  (0E:C19D)           TRACK_pointer8		#2
     117.  0E:1472                      
     118.  0E:1472                      
     119.  0E:1472                      ;--- AY SPECIFIC
     120.  0E:1472  (0E:C19F)           AY_registers		#0 
     121.  0E:1472  (0E:C19F)           AY_regToneA 		#2	; Tone A freq low (8bit)
     122.  0E:1472                      					; Tone A freq high (4bit)
     123.  0E:1472  (0E:C1A1)           AY_regToneB 		#2	; Tone B freq low
     124.  0E:1472                      					; Tone B freq high
     125.  0E:1472  (0E:C1A3)           AY_regToneC 		#2	; Tone C freq low
     126.  0E:1472                      					; Tone C freq high
     127.  0E:1472  (0E:C1A5)           AY_regNOISE 		#1	; Noise freq (5bit)
     128.  0E:1472  (0E:C1A6)           AY_regMIXER 		#1	;0x38	;x3f	; Mixer control (1 = off, 0 = on)
     129.  0E:1472  (0E:C1A7)           AY_regVOLA 			#1	; Chan A volume
     130.  0E:1472  (0E:C1A8)           AY_regVOLB 			#1	; Chan B volume
     131.  0E:1472  (0E:C1A9)           AY_regVOLC  		#1	; Chan C volume
     132.  0E:1472  (0E:C1AA)           AY_regEnvL 			#1	; Volume Env Freq low (8bit)	
     133.  0E:1472  (0E:C1AB)           AY_regEnvH 			#1	; Volume Env Freq high (4bit)
     134.  0E:1472  (0E:C1AC)           AY_regEnvShape 		#1	; Volume Env Shape (4bit)
     135.  0E:1472                      
     136.  0E:1472                      ;--- SCC SPECIFIC
     137.  0E:1472                      
     138.  0E:1472  (0E:C1AD)           _0x9800:	#32			; Waveform data
     139.  0E:1472  (0E:C1CD)           _0x9820:	#32
     140.  0E:1472  (0E:C1ED)           _0x9840:	#32
     141.  0E:1472  (0E:C20D)           _0x9860:	#32
     142.  0E:1472  (0E:C22D)           SCC_registers 		#0
     143.  0E:1472  (0E:C22D)           SCC_regToneA 		#2	; Tone A freq low (8bit)
     144.  0E:1472                      					; Tone A freq high (4bit)
     145.  0E:1472  (0E:C22F)           SCC_regToneB 		#2	; Tone B freq low
     146.  0E:1472                      					; Tone B freq high
     147.  0E:1472  (0E:C231)           SCC_regToneC 		#2	; Tone C freq low
     148.  0E:1472                      					; Tone C freq high
     149.  0E:1472  (0E:C233)           SCC_regToneD 		#2	; Tone D freq low
     150.  0E:1472                      					; Tone D freq high
     151.  0E:1472  (0E:C235)           SCC_regToneE 		#2	; Tone E freq low
     152.  0E:1472                      					; Tone E freq high
     153.  0E:1472  (0E:C237)           SCC_regVOLA 		#1	; Chan A volume
     154.  0E:1472  (0E:C238)           SCC_regVOLB 		#1	; Chan B volume
     155.  0E:1472  (0E:C239)           SCC_regVOLC  		#1	; Chan C volume
     156.  0E:1472  (0E:C23A)           SCC_regVOLD 		#1	; Chan D volume
     157.  0E:1472  (0E:C23B)           SCC_regVOLE  		#1	; Chan E volume
     158.  0E:1472  (0E:C23C)           SCC_regMIXER 		#1	; x3f	; Mixer control (1 = off, 0 = on)
     159.  0E:1472                      
     160.  0E:1472                      
     161.  0E:1472                      ;/// see to remove this.
     162.  0E:1472                      ;-- SCC registers
     163.  0E:1472  (0E:C23D)           oldregs:	#(32*4)+(3*5)+1		; a way to int the SCC
     164.  0E:1472                      
     165.  0E:1472                      
     415   0E:1472                      
     416   0E:1472  (0E:C2CD)           _levelmap:			#mapWidth*mapHeight
     417   0E:1472                      
     418   0E:1472  (0E:CDCD)           _cur_level_bf:		#mapWidth*mapHeight/2
     419   0E:1472                      
     420   0E:1472  (0E:D34D)           slotvar				#1
     421   0E:1472  (0E:D34E)           slotram				#1
     422   0E:1472  (0E:D34F)           SEL_NTSC			#1
     423   0E:1472                      
     424   0E:1472  (0E:D350)           joystick			#1
     425   0E:1472                      
     426   0E:1472  (0E:D351)           _mcx				#2	; relative with in the frame on the screen
     427   0E:1472  (0E:D353)           _mcy				#2
     428   0E:1472                      
     429   0E:1472  (0E:D355)           _mclx				#2	; absolute with the level in ram
     430   0E:1472  (0E:D357)           _mcly				#2
     431   0E:1472                      
     432   0E:1472  (0E:D359)           _mcframe			#1
     433   0E:1472  (0E:D35A)           _mcstate			#1
     434   0E:1472                      
     435   0E:1472  (0E:D35B)           _mcdx				#2
     436   0E:1472  (0E:D35D)           _mcdy				#2
     437   0E:1472                      
     438   0E:1472  (0E:D35F)           _mcprobe:			#1
     439   0E:1472  (0E:D360)           _mcprobeb:			#1
     440   0E:1472                      
     441   0E:1472  (0E:D361)           _ticxframe			#1
     442   0E:1472                      
     443   0E:1472  (0E:D362)           _buffer:			#16
     444   0E:1472  (0E:D372)           _fps:				#2
     445   0E:1472  (0E:D374)           _nframes:			#2
     446   0E:1472  (0E:D376)           _vbit16:			#2
     447   0E:1472                      
     448   0E:1472  (0E:D378)           _ymappos:			#1
     449   0E:1472  (0E:D379)           _xmappos:			#2
     450   0E:1472  (0E:D37B)           _levelmap_pos:		#2
     451   0E:1472                      
     452   0E:1472  (0E:D37D)           _shadowbuff:		#2
     453   0E:1472  (0E:D37F)           _currentpage:		#1
     454   0E:1472                      
     455   0E:1472  (0E:D380)           _displaypage:		#1
     456   0E:1472                      
     457   0E:1472  (0E:D381)           _xtic				#1
     458   0E:1472  (0E:D382)           _xoffset:			#1
     459   0E:1472  (0E:D383)           _yoffset:			#1
     460   0E:1472                      
     461   0E:1472  (0E:D384)           randSeed:			#2
     462   0E:1472  (0E:D386)           cur_level:			#1
     463   0E:1472  (0E:D387)           wave_count:			#1
     464   0E:1472  (0E:D388)           landing_permission:	#1
     465   0E:1472  (0E:D389)           assault_wave_timer:	#2
     466   0E:1472  (0E:D38B)           bullet_rate:		#1
     467   0E:1472  (0E:D38C)           _dxchng:			#1		; <>0 if direction changes
     468   0E:1472  (0E:D38D)           _dxmap:				#1		; previous dxmap
     469   0E:1472  (0E:D38E)           dxmap:				#1
     470   0E:1472  (0E:D38F)           xmap:				#2
     471   0E:1472  (0E:D391)           _xmapx4:			#2		; xmap x 4
     472   0E:1472  (0E:D393)           yship:				#1
     473   0E:1472  (0E:D394)           xship:				#2
     474   0E:1472  (0E:D396)           aniframe:			#1
     475   0E:1472  (0E:D397)           ms_state:			#1
     476   0E:1472  (0E:D398)           old_aniframe:		#1
     477   0E:1472  (0E:D399)           anispeed:			#1
     478   0E:1472  (0E:D39A)           already_dead:		#1
     479   0E:1472  (0E:D39B)           lives_bin:			#1
     480   0E:1472                      
     481   0E:1472  (0E:D39C)           god_mode:			#1
     482   0E:1472  (0E:D39D)           visible_sprts:		#1
     483   0E:1472  (0E:D39E)           flip_flop:			#1
     484   0E:1472                      
     485   0E:1472  (0E:D39F)           ram_sat:			#3*4
     486   0E:1472                      
     487   0E:1472                      	struct enemy_data
     488   0E:1472                    < y				db	0
     489   0E:1472                    < x				dw	0
     490   0E:1472                    < xoff			db	0
     491   0E:1472                    < yoff			db	0
     492   0E:1472                    < xsize			db	0
     493   0E:1472                    < ysize			db	0
     494   0E:1472                    < status			db	0	; B7 = DWN/UP | B6 = RIGHT/LEFT | B5 = ok/wrong clr | B0 = Inactive/Active
     495   0E:1472                    < cntr			db	0
     496   0E:1472                    < kind			db	0
     497   0E:1472                    < frame			db	0
     498   0E:1472                    < color			db	0
     499   0E:1472                    < color2			db	0
     500   0E:1472                    < speed			dw	0
     501   0E:1472                    < 	ends
     502   0E:1472                      	
     503   0E:1472  (0E:D3AB)           any_object:			#0
     504   0E:1472  (0E:D3AB)           ms_bullets:			#enemy_data*max_bullets
     505   0E:1472  (0E:D3C9)           enem_bullets:		#enemy_data*max_enem_bullets
     506   0E:1472  (0E:D3F6)           enemies:			#enemy_data*max_enem
     507   0E:1472                      
     508   0E:1472  (0000)              	ENDMAP

    LABELS
-------------------------------------------------
00:00005000   _kBank1
00:00007000   _kBank2
00:00009000   _kBank3
00:0000B000   _kBank4
00:00000100   mapWidth
00:0000000B   mapHeight
00:000000A8   YSIZE
00:0000000C   max_enem
00:00000003   max_enem_bullets
00:00000002   max_bullets
00:00000004   maxspeed
00:000000B4   assault_wave_timer_preset
00:00000002   enemy_bullet_speed
00:00000078   xship_rel
00:00004FE1   ms_ani
00:00004FE1 X ms_demo_ani
00:00005031   ms_col_win
00:00005031 X ms_demo_coll_wind
00:000050D1   add_bc_score_bin
00:000050D2   rand8_init
00:000050DB   rand8
00:000050E8   land_now_test
00:00005106   npc_init
00:00005133 X bull_init
00:0000514C   wave_timer
00:00005191   wave0
00:00005191   wave1
00:000051A7 X wave1.neg
00:000051B8   wave1.pos
00:00005213   wave1.next
00:0000521D   wave2
00:0000522B X wave2.neg
00:00005240   wave2.pos
00:000052A2   wave2.next
00:000052A9   wave3
00:000052B7 X wave3.neg
00:000052BF   wave3.pos
00:0000531A   wave3.next
00:00005321   wave4
00:0000532D   _wave4_cont
00:0000532F X _wave4_cont.neg
00:00005343   _wave4_cont.pos
00:000053AA   _wave4_cont.next
00:000053B1   wave5
00:000053BF X wave5.neg
00:000053C6   wave5.pos
00:0000541E   wave5.next
00:00005425   wave6
00:00005430   wave7
00:0000543E X wave7.neg
00:00005445   wave7.pos
00:00005493   wave7.next
00:0000549A   npc_loop
00:000054CA   next
00:000054D3   npcdies
00:000054FA   enemy255
00:00005516   enemy0
00:00005516 X enemy1
00:0000551C X enemy1.go_left
00:0000553F   enemy1.go_right
00:00005571   enemy2
00:00005571 X enemy3
00:0000558A X enemy3.go_left
00:000055A0   enemy3.go_right
00:000055C5   enemy4
00:000055DE X enemy4.go_left
00:000055F4   enemy4.go_right
00:00005611 X enemy4.go_up
00:0000561B   enemy4.go_dwn
00:00005700   rotation
00:00005708   rotate
00:00005800   sinewave
00:00005840   enemy5
00:00005859 X enemy5.go_left
00:0000586F   enemy5.go_right
00:000058A7   enemy6
00:000058C0 X enemy6.go_left
00:000058DE   enemy6.go_right
00:00005906 X enemy6.go_up
00:00005910   enemy6.go_dwn
00:0000592D   enemy7
00:00005946 X enemy7.go_left
00:00005964   enemy7.go_right
00:000059A7   book_enemy_shoot
00:000059EE   book_enemy_shoot.activate_this
00:000059F4 X book_enemy_shoot.shootdx
00:00005A03   book_enemy_shoot.shootsx
00:00005A39   enemy_bullet_loop
00:00005B23   test_obstacles.found
02:00008000   ms_spt
01:00006000   replay_init
01:0000600F   replay_pause
01:00006024   _replay_pause_r
01:0000602A X replay_fade_out
01:00006035 X replay_transpose
01:0000603E   replay_set_SCC_balance
01:00006045   replay_set_PSG_balance
01:0000604C   _getnewbalancebase
01:0000605A   replay_loadsong
01:0000606C   replay_loadsong.nwu
01:00006079   replay_loadsong.niu
01:0000611F   _replay_check_patternend
01:00006143   _replay_check_patternend.no_restart
01:00006151   replay_play
01:0000616D X replay_decodedata
01:00006190   replay_decodedata.decode2
01:000061B3   replay_decodedata.decode3
01:000061D6   replay_decodedata.decode4
01:000061F9   replay_decodedata.decode5
01:0000621C   replay_decodedata.decode6
01:0000623F   replay_decodedata.decode7
01:00006262   replay_decodedata.decode8
01:00006285   replay_decodedata.decode_end
01:00006285   replay_decodedata_NO
01:00006387   replay_decodedata_NO.cont_fadeing
01:0000638D   replay_decodedata_NO.no_new_step
01:000063A1   replay_decodedata_NO.calc_vol
01:000063A7   replay_decodedata_NO.no_carry
01:000063AC   replay_decode_chan
01:000063B9   replay_decode_chan.skip_retrig_reset
01:000063C2   _rdn2
01:000063C7   _rdv2
01:000063CC   _rdi2
01:000063D4   _rdn
01:000063DC   _rdi
01:000063E4   _rdv
01:000063EC   _rdc
01:000063F6   _rd_delay
01:000063FD   _replay_decode_note
01:00006409   _replay_decode_rest
01:00006412   _replay_decode_ins
01:00006429   _replay_decode_ins.skip
01:00006446   _replay_decode_ins.skip_ins
01:0000644B   _replay_decode_vol
01:00006460   _replay_decode_delay
01:0000646D   _replay_decode_cmd
01:0000647C   _replay_decode_cmd.skip
01:00006483   DECODE_CMDLIST
01:000064D5   _CHIPcmd0_arpeggio
01:000064E1   _CHIPcmd1_port_up
01:000064E9   _CHIPcmd2_port_down
01:000064F1   _CHIPcmd3_RE_port_tone
01:000064F7   _CHIPcmd3_port_tone
01:000064FE   _CHIPcmd3_port_tone_cont
01:00006515   _CHIPcmd3_port_tone_cont.skip
01:0000652D   _CHIPcmd3_port_tone_cont.skip2
01:00006541   _CHIPcmd4_vibrato
01:0000655B   _CHIPcmd5_vibrato_port_tone
01:0000655B   _CHIPcmd6_vibrato_vol
01:0000655B   _CHIPcmd7_vol_slide
01:00006567   _CHIPcmd8_macro_offset
01:0000656A   _CHIPcmd9_env_shape
01:00006572   _CHIPcmdA_env_mul
01:00006587   _CHIPcmdB_wave_res
01:0000658F   _CHIPcmdC_wave_duty
01:0000658F   _CHIPcmdD_wave_cut
01:0000658F   _CHIPcmdE_wave_compr
01:00006599   _CHIPcmdF_wave_set
01:000065A3   _CHIPcmd10_morph_slave
01:000065A9   _CHIPcmd11_morph_start
01:000065C1   _CHIPcmd11_morph_start.loop
01:000065CF   _CHIPcmd12_morph_cont
01:000065E6   _CHIPcmd13_short_arp
01:000065F2   _CHIPcmd14_fine_up
01:000065F2   _CHIPcmd15_fine_down
01:000065FE   _CHIPcmd16_vib_ctrl
01:00006609 X _cmd16_pulse
01:00006612   _cmd16_tri
01:0000661B   _cmd16_sine
01:00006624   _CHIPcmd17_track_detune
01:00006639   _CHIPcmd17_track_detune.pos
01:00006643   _CHIPcmd18_transpose
01:00006657   _CHIPcmd18_transpose.skip1
01:0000665D   _CHIPcmd18_transpose.pos
01:00006663   _CHIPcmd18_transpose.skip2
01:00006669   _CHIPcmdXX_note_cut
01:00006672   _CHIPcmd19_note_delay
01:00006690   _CHIPcmd1A_trigger
01:00006696   _CHIPcmd1B_speed
01:000066A9   _CHIPcmd1C_notelink
01:000066AF X _CHIPcmd1C_call
01:000066AF   _CHIPcmd1D_ret
01:000066B3   _CHIPcmd0_RE_arpeggio
01:000066B7   _CHIPcmd1_RE_port_up
01:000066B7   _CHIPcmd2_RE_port_down
01:000066B7   _CHIPcmd4_RE_vibrato
01:000066BF   _CHIPcmd5_RE_vibrato_port_tone
01:000066BF   _CHIPcmd6_RE_vibrato_vol
01:000066BF   _CHIPcmd7_RE_vol_slide
01:000066CB   _CHIPcmd8_RE_macro_offset
01:000066D7   _CHIPcmd9_RE_env_shape
01:000066DF   replay_process_chan_AY
01:000066F6   replay_process_chan_AY.skip
01:000066FB   _pcAY_noCommand
01:000066FB   _pcAY_commandEND
01:00006700 X _pcAY_triggerNote
01:00006724   _pcAY_noNoteTrigger
01:00006748   _vol_change
01:0000674F X _vol_rel
01:00006761   _vol_rel.skip
01:00006762   _vol_base
01:00006772   _noEnv
01:0000677D X _noEnv.add_Vadd
01:00006787   _noEnv.sub_Vadd
01:00006793   _noEnv.skip2
01:00006793   _Vadd
01:0000679D   _Vadd.skip
01:000067A7   _Vadd.skip2
01:000067AC   _noVolume
01:000067CD   _noVolume.skip
01:000067D3   _noNoise
01:000067E0   _pcAY_noTone
01:000067F6   _pcAY_noTone.skip
01:000067FD   _pcAY_noToneAdd
01:00006806   _pcAY_noToneAdd.noend
01:00006816   _pcAY_noToneAdd.skip
01:0000682C   _pcAY_noNoteActive
01:00006831   _pcAY_cmdlist
01:00006867   _pcAY_cmd0_arpeggio
01:00006883   _pcAY_cmd0_arpeggio.step2
01:00006897   _pcAY_cmd0_arpeggio.step3
01:0000689E   _pcAY_cmd1_port_up
01:000068B2   _pcAY_cmd2_port_down
01:000068C6   _pcAY_cmd3_port_tone
01:000068D4 X _pcAY_cmd3_add
01:000068E7   _pcAY_cmd3_sub
01:000068FA   _pcAY_cmd3_stop
01:00006907   _pcAY_cmd4_vibrato
01:00006922   _pcAY_cmd4_vibrato.skip
01:00006926   _pcAY_cmd4_vibrato.loop
01:00006939   _pcAY_cmd4pos
01:0000693F   _pcAY_cmd4pos.skip
01:00006943   _pcAY_cmd4pos.loop
01:00006947   _pcAY_cmd4_zero
01:00006951   _pcAY_cmd5_vibrato_port_tone
01:00006957   _pcAY_cmd6_vibrato_vol
01:0000695D   _pcAY_cmd7_vol_slide
01:00006963   _pcAY_cmdasub
01:00006978 X _pcAY_cmda_dec
01:00006981   _pcAY_cmda_inc
01:0000698A   _pcAY_cmd8_macro_offset
01:00006995   _pcAY_cmdc_wave_duty
01:000069A7   _pcAY_cmdc_wave_duty.skip
01:000069B0   _wspw_loop_h
01:000069BB   _wspw_loop_l
01:000069C2   _pcAY_cmdd_wave_cut
01:000069D6   _pcAY_cmdd_wave_cut.skip
01:000069FC   _wsc_l
01:00006A03   _pcAY_cmde_wave_compr
01:00006A17   _pcAY_cmde_wave_compr.skip
01:00006A37   _wcomp_loop
01:00006A49   _wcomp_loop.skip
01:00006A4B   _wcomp_loop.loop
01:00006A54   _pcAY_cmd13_short_arp
01:00006A65   _pcAY_cmd14_fine_up
01:00006A7F   _pcAY_cmd15_fine_down
01:00006A99   _pcAY_cmdXX_note_cut
01:00006AA6   _pcAY_cmd19_note_delay
01:00006AB9   replay_route
01:00006AC0   _comp_loop
01:00006AD9   _ptAY_loop
01:00006AF1   _ptAY_noEnv
01:00006B09   _ptAY_noEnv.skip
01:00006B1C   _ptAY_noEnv.skip2
01:00006B2F   _ptAY_noEnv.skip3
01:00006B42   _ptAY_noEnv.skip4
01:00006B42   scc_reg_update
01:00006B52   loop
01:00006B59   loop.skip
01:00006B61   _write_SCC_wave
01:00006B6B X _write_SCC_wave.normalwave
01:00006B7B   _write_SCC_wave.ramwave
01:00006B89   _write_SCC_wave.skip
01:00006B8F   _write_SCC_special
01:00006B94   _wss_l
01:00006B9C   replay_process_morph
01:00006BA9   replay_process_morph.loop
01:00006BB0   replay_process_morph.skip
01:00006BCF   replay_process_morph.skip2
01:00006BD5   replay_process_morph.skip3
01:00006BD7   _rpm_loop
01:00006BE4 X _rpm_larger
01:00006BF2   _rpm_smaller
01:00006C02   _rpm_next_step
01:00006C17   _rpm_next_step.skip
01:00006C1D   _rpm_ns_loop
01:00006C23 X _rmp_ns_sub
01:00006C2A   _rmp_ns_sub.skip
01:00006C35   _rmp_ns_add
01:00006C3A   _rmp_ns_add.skip
01:00000000   ms_fly__right
01:00000001   ms_spin_face_right
01:00000002   ms_side_dwn_face_right
01:00000003   ms_side_up__face_right
01:00000004   ms_fly__left
01:00000005   ms_spin_face_left
01:00000006   ms_side_dwn_face_left
01:00000007   ms_side_up__face_left
01:00000008   ms_loop_right2left
01:00000009   ms_loop_left2right
01:0000000A   ms_explode
01:0000000B   ms_landing
01:0000000C   ms_reset
01:00006C43   ms_ctrl
01:00006C4B X ms_ctrl.intro
01:00006C95   ms_ctrl.ms_landing
01:00006C95   ms_ctrl.ms_reset
01:00006C96   ms_ctrl.ms_directions
01:00006CCC   ms_ctrl.test_move_right
01:00006CDF   ms_ctrl.test_move_left
01:00006CF2   ms_ctrl._dw
01:00006CFD   ms_ctrl._up
01:00006D06   ms_ctrl.rd_joy
01:00006D14 X ms_ctrl.rd_key
01:00006D5E   ms_ctrl.z_or_space
01:00006D64   ms_ctrl.x_and_up
01:00006D6A   ms_ctrl.up
01:00006D70   ms_ctrl.x_and_dwn
01:00006D76   ms_ctrl.dwn
01:00006D7C   ms_ctrl.left
01:00006D82   ms_ctrl.right
01:00006D88   ms_ctrl.ms_fly__right
01:00006DD7   ms_ctrl.ms_loop_right2left
01:00006DED   ms_ctrl.ms_spin_face_left
01:00006E03   ms_ctrl.ms_fly__left
01:00006E55   ms_ctrl.ms_loop_left2right
01:00006E6B   ms_ctrl.ms_spin_face_right
01:00006E81   ms_ctrl.ms_side_dwn_face_right
01:00006EB8   ms_ctrl.ms_side_up__face_right
01:00006EEF   ms_ctrl.ms_side_dwn_face_left
01:00006F27   ms_ctrl.ms_side_up__face_left
01:00006F5F   ms_ctrl.ms_explode
01:00000005   max_bullet_rate
01:00006F93   ms_shoot
01:00006F9F   ms_shoot.book_bullet
01:00006FB8   ms_shoot.activate_this
01:00006FC3 X ms_shoot.shootdx
01:00006FCD   ms_shoot.shootsx
01:00007009   bullet_loop
01:0000705C   put_ms_sprt
01:000070A1   put_ms_sprt.expl
01:000070CF X put_ms_sprt.landing
01:0000711C   opening_screen
01:00007200   color_base
00:00000024 X ENASLT
00:00000138   RSLREG
00:0000FCC1   EXPTBL
00:00004010   search_slot
00:0000402F   search_slotram
00:00004050   search_slotram0
00:00004055 X setrompage0
00:0000405B   setrampage0
00:00004061   setrompage2
00:00004067 X setrampage2
00:0000406D X setrompage3
00:00004073 X setrampage3
00:00004079 X recbios
00:0000407C   setslotpage0
00:000040B3 X setslotpage1
00:000040F2   setslotpage2
00:00004139   setslotpage3
00:00004178   _cls
00:00000099   vdpport1
00:0000009A   vdpport2
00:00004194   levelcolors
00:00004194 X _SetPalet
00:000041A6   _vdpsetvramwr
00:000041B7 X _vdpsetvramwr14
00:000041C0 X _vdpsetvramrd
00:000041DA   _setpage
00:0000005F   chgmod
00:0000000C X RDSLT
00:00000156 X KILBUF
00:000041EB   set_scr
00:0000422A   _waitvdp
00:0000000C X rdslt
00:0000001C X CALSLT
00:00000180   chgcpu
00:0000FCC1 X exttbl
00:00004239   _set_r800
00:0000425A   set_turbo_tr
00:0000F3DF   RG0SAV
00:0000F3E0   RG1SAV
00:0000F3E1 X RG2SAV
00:0000F3E2 X RG3SAV
00:0000F3E3 X RG4SAV
00:0000F3E4 X RG5SAV
00:0000F3E5 X RG6SAV
00:0000F3E6   RG7SAV
00:0000FFE7   RG8SAV
00:0000FFE8   RG9SAV
00:0000FFE9 X RG10SAV
00:0000FFEA X RG11SAV
00:0000FFEB X RG12SAV
00:0000FFEC X RG13SAV
00:0000FFED X RG14SAV
00:0000FFEE X RG15SAV
00:0000FFEF X RG16SAV
00:0000FFF0 X RG17SAV
00:0000FFF1 X RG18SAV
00:0000FFF2 X RG19SAV
00:0000FFF3 X RG20SAV
00:0000FFF4 X RG21SAV
00:0000FFF5 X RG22SAV
00:0000FFF7 X RG23SAV
00:0000FC9E   _jiffy
00:00004262   _fake_isr
00:0000426F   _isrinit
00:00004293   _intreset
00:000042AF   _scroll
00:000042CE X waitHBLANK
00:000042E5   lint
00:0000432A   lint.exit
00:00000000   border_color
00:0000433A   vblank
00:0000436E X vblank.stand
00:00004375   _blank_line_lft
00:0000438D   _blank_line_rgt
00:000043A5   inc_xoffset
00:000043B1   inc_xoffset.movex
00:000043B7 X inc_xoffset.case0
00:000043C2   inc_xoffset.case1_15
00:000043CD   dec_xoffset
00:000043D9   dec_xoffset.movex
00:000043E0 X dec_xoffset.case15
00:000043EB   dec_xoffset.case0_14
00:000043F6   newxmap
00:00004439   activate_window
00:00004478   changedir
00:00004490 X changedir.left
00:000044A4   changedir.right
00:000044B8   nodirchange
00:000044CF X nodirchange.left
00:000044DF   nodirchange.right
00:000044EF   checkkbd
00:000044FC   _hw_sprite_init
00:0000451E   load_colors
00:00004540   set_manta
00:00004549   plot_enemy
00:00004554 X directplot_enemy
00:000045A3   directplot_enemy.next1
00:000045EC   directplot_enemy.next2
00:000045F8   directplot_enemy.spriteoff1
00:00004605   directplot_enemy.spriteoff2
00:0000461A   reverseplot_enemy
00:00004671   reverseplot_enemy.next2
00:000046AF   reverseplot_enemy.next1
00:000046BE   reverseplot_enemy.spriteoff1
00:000046CB   reverseplot_enemy.spriteoff2
00:00004700   sprite_collision_windows
00:0000470C X sprite_0
00:0000470C X sprite_1
00:0000470C X sprite_2
00:0000470C X sprite_3
00:00004710 X sprite_4
00:00004714 X sprite_5
00:00004718 X sprite_6
00:0000471C X sprite_7
00:00004720 X sprite_8
00:00004724 X sprite_9
00:00004728 X sprite_10
00:0000472C X sprite_11
00:00004730 X sprite_12
00:00004734 X sprite_13
00:00004738 X sprite_14
00:0000473C X sprite_15
00:00004740 X sprite_16
00:00004744 X sprite_17
00:00004748 X sprite_18
00:0000474C X sprite_19
00:00004750 X sprite_20
00:00004754 X sprite_21
00:00004758 X sprite_22
00:0000475C X sprite_23
00:00004760 X sprite_24
00:00004764 X sprite_25
00:00004768 X sprite_26
00:0000476C X sprite_27
00:00004770 X sprite_28
00:00004774 X sprite_29
00:00004778 X sprite_30
00:0000477C X sprite_31
00:00004780 X sprite_32
00:00004784 X sprite_33
00:00004788 X sprite_34
00:0000478C X sprite_35
00:00004790 X sprite_36
00:00004794 X sprite_37
00:00004798 X sprite_38
00:0000479C X sprite_39
00:000047A0 X sprite_40
00:000047A4 X sprite_41
00:000047A8 X sprite_42
00:000047AC X sprite_43
00:000047B0 X sprite_44
00:000047B4 X sprite_45
00:000047B8 X sprite_46
00:000047BC X sprite_47
00:000047C0 X sprite_48
00:000047C4 X sprite_49
00:000047C8 X sprite_50
00:000047CC X sprite_51
00:000047D0 X sprite_52
00:000047D4 X sprite_53
00:000047D8 X sprite_54
00:000047DC X sprite_55
00:000047E0 X sprite_56
00:000047E4 X sprite_57
00:000047E8 X sprite_58
00:000047EC X sprite_59
00:000047F0 X sprite_60
00:000047F4 X sprite_61
00:000047F8 X sprite_62
00:000047FC X sprite_63
00:00004800   set_size
00:00004820   set_size2
00:00004840   test_collision_enemy_bullets
00:00004880   test_collision_msbullets
00:00004899   test_collision
00:000048CF   CalcCollision
00:000048D9   CalcCollision.switch
00:000048DF   CollisionCheck_8b
00:000048E5   CollisionCheck_8b.other
00:00000000   obj_data.y
00:00000001   obj_data.x
00:00000003   obj_data.xoff
00:00000004   obj_data.yoff
00:00000005   obj_data.xsize
00:00000006   obj_data.ysize
00:00000007 X obj_data
00:000048E9 X _check_obj_collision
00:000048EF X check_obj_collision_8_16
00:00004908 X swap_objects_y
00:00004936 X swap_objects_x
00:00004946   START
00:00004953   _ntsc
00:00004A4F   main_loop
00:00004A84   AFXPLAY
00:00004A85 X _print_probe
00:00004ACA X _print_fps
00:00004AE7 X _compute_fps
00:00004AEE   int2ascii
00:00004AF1 X Num2asc
00:00004B0A   Num1
00:00004B0C   Num2
00:00004B15   blank_line
00:00004B49   plot_line_lft1
00:00004B51   plot_line_lft2
00:00004B59   plot_line_rgt1
00:00004B65   plot_line_rgt2
00:00004B71   plot_tile
00:00004BBC   init_page0
00:00004BE8   clrboder
00:00004C1A   move_block
00:00004C5A   plot_line1
00:00004C71   plot_line2
00:00004CB2   _1stblock
00:00004CDD   _1st
00:00004D0A   _2nd
00:00004D92   _plot_spt
00:00004E81   manta_color
00:00004EB1   set_manta_color
00:00004EC0   color_enemy
00:00004ECB X directcolor_enemy
00:00004F47   directcolor_enemy.next
00:00004F56   reversecolor_enemy
00:00004FCC   reversecolor_enemy.next
18:0000A000   _scorebar
04:0000A000   _tiles0
10:0000A000   _opening
0F:0000A000   _level
0F:0000AB00   sprtdata
0E:00008000   demo_song
0E:00000045   demo_song.restart
0E:000000A9   demo_song.waveform_start
0E:00000249   demo_song.instrument_start
0E:00000287   demo_song.ins_1
0E:0000028A   demo_song.rst_i1
0E:0000028E   demo_song.ins_2
0E:000002BB   demo_song.rst_i2
0E:000002BF   demo_song.ins_3
0E:000002C4   demo_song.rst_i3
0E:000002C8   demo_song.ins_4
0E:000002CF   demo_song.rst_i4
0E:000002D3   demo_song.ins_5
0E:000002D3   demo_song.ins_6
0E:000002DC   demo_song.rst_i6
0E:000002E5   demo_song.ins_7
0E:000002F6   demo_song.rst_i7
0E:00000302   demo_song.ins_8
0E:00000313   demo_song.rst_i8
0E:00000317   demo_song.ins_9
0E:00000340   demo_song.rst_i9
0E:00000366   demo_song.ins_10
0E:0000038D   demo_song.rst_i10
0E:00000391   demo_song.ins_11
0E:000003B8   demo_song.rst_i11
0E:000003BC   demo_song.ins_12
0E:000003CD   demo_song.rst_i12
0E:000003D1   demo_song.ins_13
0E:000003EA   demo_song.rst_i13
0E:000003EE   demo_song.ins_14
0E:000003FF   demo_song.rst_i14
0E:00000403   demo_song.ins_15
0E:0000042A   demo_song.rst_i15
0E:0000042E   demo_song.ins_16
0E:0000043F   demo_song.rst_i16
0E:00000443   demo_song.ins_17
0E:00000443   demo_song.ins_18
0E:00000456   demo_song.rst_i18
0E:0000045A   demo_song.ins_19
0E:0000045A   demo_song.ins_20
0E:0000046B   demo_song.rst_i20
0E:0000046F   demo_song.ins_21
0E:00000478   demo_song.rst_i21
0E:00000481   demo_song.ins_22
0E:00000481   demo_song.ins_23
0E:00000481   demo_song.ins_24
0E:000004AE   demo_song.rst_i24
0E:000004D8   demo_song.ins_25
0E:000004D8   demo_song.ins_26
0E:000004FF   demo_song.rst_i26
0E:00000503   demo_song.ins_27
0E:00000514   demo_song.rst_i27
0E:00000519   demo_song.ins_28
0E:00000519   demo_song.ins_29
0E:00000519   demo_song.ins_30
0E:00000519   demo_song.ins_31
0E:00000526   demo_song.rst_i31
0E:0000052A   demo_song.track_0
0E:0000058A   demo_song.track_1
0E:000005C3   demo_song.track_2
0E:000005F1   demo_song.track_3
0E:00000623   demo_song.track_4
0E:0000065F   demo_song.track_5
0E:000006A1   demo_song.track_6
0E:000006FB   demo_song.track_7
0E:0000072C   demo_song.track_8
0E:0000078D   demo_song.track_9
0E:000007C1   demo_song.track_10
0E:000007EA   demo_song.track_11
0E:00000816   demo_song.track_12
0E:0000084D   demo_song.track_13
0E:00000880   demo_song.track_14
0E:000008E2   demo_song.track_15
0E:0000091A   demo_song.track_16
0E:00000986   demo_song.track_17
0E:000009C2   demo_song.track_18
0E:00000A04   demo_song.track_19
0E:00000A40   demo_song.track_20
0E:00000A86   demo_song.track_21
0E:00000AC0   demo_song.track_22
0E:00000B1B   demo_song.track_23
0E:00000B60   demo_song.track_24
0E:00000B95   demo_song.track_25
0E:00000BD0   demo_song.track_26
0E:00000C05   demo_song.track_27
0E:00000C46   demo_song.track_28
0E:00000C85   demo_song.track_29
0E:00000CEC   demo_song.track_30
0E:00000D24   demo_song.track_31
0E:00000D53   demo_song.track_32
0E:00000D84   demo_song.track_33
0E:00000DB3   demo_song.track_34
0E:00000DEF   demo_song.track_35
0E:00000E2E   demo_song.track_36
0E:00000E80   demo_song.track_37
0E:00000EB4   demo_song.track_38
0E:00000F10   demo_song.track_39
0E:00000F47   demo_song.track_40
0E:00000F6E   demo_song.track_41
0E:00000FA2   demo_song.track_42
0E:00000FD6   demo_song.track_43
0E:0000101A   demo_song.track_44
0E:00001068   demo_song.track_45
0E:000010A6 X demo_song.track_46
0E:000010C3 X demo_song.track_47
0E:000010FC X demo_song.track_48
0E:000010FE X demo_song.track_49
0E:0000112E X demo_song.track_50
0E:00001164 X demo_song.track_51
0E:00001184 X demo_song.track_52
0E:000011AA X demo_song.track_53
0E:000011D1 X demo_song.track_54
0E:00001252   _VOLUME_TABLE
0E:00000D40   C_PER
0E:00000C80   C1_PER
0E:00000BC0   D_PER
0E:00000B20   D1_PER
0E:00000A80   E_PER
0E:000009E0   F_PER
0E:00000940   F1_PER
0E:000008C0   G_PER
0E:00000840   G1_PER
0E:000007E0   A_PER
0E:00000760   A1_PER
0E:00000700   B_PER
0E:00001352   TRACK_ToneTable
0E:00001412   TRACK_Vibrato_sine
0E:00001432   TRACK_Vibrato_triangle
0E:00001452   TRACK_Vibrato_pulse
0E:00001472   end_demo_song
0E:00001472 X FINISH
0E:00000040   musbuff
0E:0000C000   ttreplayRAM
0E:FFFFFFEF   TRACK_Instrument
0E:FFFFFFF0   TRACK_Command
0E:FFFFFFF1   TRACK_MacroPointer
0E:FFFFFFF3   TRACK_MacroStart
0E:FFFFFFF5 X TRACK_MacroRestart
0E:FFFFFFF6   TRACK_Note
0E:FFFFFFF7   TRACK_Volume
0E:FFFFFFF8   TRACK_Waveform
0E:FFFFFFF9   TRACK_Flags
0E:FFFFFFFA X TRACK_empty
0E:FFFFFFFB   TRACK_ToneAdd
0E:FFFFFFFD   TRACK_VolumeAdd
0E:FFFFFFFE   TRACK_Noise
0E:FFFFFFFF   TRACK_cmd_VolumeAdd
0E:00000000   TRACK_cmd_ToneSlideAdd
0E:00000002   TRACK_cmd_ToneAdd
0E:00000004   TRACK_cmd_detune
0E:00000005   TRACK_cmd_0
0E:00000006   TRACK_cmd_1
0E:00000007   TRACK_cmd_2
0E:00000008   TRACK_cmd_3
0E:00000009   TRACK_cmd_4_depth
0E:0000000A   TRACK_cmd_4_step
0E:0000000B   TRACK_cmd_NoteAdd
0E:0000000C   TRACK_cmd_A
0E:0000000D   TRACK_cmd_B
0E:0000000E   TRACK_cmd_E
0E:0000000F   TRACK_Timer
0E:00000010   TRACK_Step
0E:00000011   TRACK_Delay
0E:00000012   TRACK_prevDelay
0E:00000013   TRACK_Retrig
0E:00000014 X TRACK_cmd_A_add
0E:00000026   TRACK_REC_SIZE
0E:00000000   B_TRGNOT
0E:00000001   B_ACTNOT
0E:00000002   B_TRGENV
0E:00000003   B_TRGCMD
0E:00000004   B_ACTMOR
0E:00000005 X B_TRGINS
0E:00000006   B_TRGWAV
0E:00000007   B_PSGSCC
0E:0000C000   _SP_Storage
0E:0000C001   replay_trigger
0E:0000C002   replay_mainPSGvol
0E:0000C004   replay_mainSCCvol
0E:0000C006   replay_wavebase
0E:0000C008   replay_insbase
0E:0000C00A   replay_orderpointer
0E:0000C00C   replay_speed
0E:0000C00D   replay_speed_subtimer
0E:0000C00E   replay_speed_timer
0E:0000C00F   replay_mode
0E:0000C010   replay_fade
0E:0000C011   replay_fade_timer
0E:0000C012   replay_fade_vol
0E:0000C013   replay_previous_note
0E:0000C014   replay_mainvol
0E:0000C016   replay_vib_table
0E:0000C018   replay_Tonetable
0E:0000C01A   replay_morph_active
0E:0000C01B   replay_morph_timer
0E:0000C01C   replay_morph_speed
0E:0000C01D   replay_morph_counter
0E:0000C01E   replay_morph_buffer
0E:0000C05E   replay_morph_waveform
0E:0000C05F   TRACK_Chan1
0E:0000C085   TRACK_Chan2
0E:0000C0AB   TRACK_Chan3
0E:0000C0D1   TRACK_Chan4
0E:0000C0F7   TRACK_Chan5
0E:0000C11D   TRACK_Chan6
0E:0000C143   TRACK_Chan7
0E:0000C169   TRACK_Chan8
0E:0000C18F   TRACK_pointer1
0E:0000C191   TRACK_pointer2
0E:0000C193   TRACK_pointer3
0E:0000C195   TRACK_pointer4
0E:0000C197   TRACK_pointer5
0E:0000C199   TRACK_pointer6
0E:0000C19B   TRACK_pointer7
0E:0000C19D   TRACK_pointer8
0E:0000C19F   AY_registers
0E:0000C19F   AY_regToneA
0E:0000C1A1   AY_regToneB
0E:0000C1A3   AY_regToneC
0E:0000C1A5   AY_regNOISE
0E:0000C1A6   AY_regMIXER
0E:0000C1A7   AY_regVOLA
0E:0000C1A8   AY_regVOLB
0E:0000C1A9   AY_regVOLC
0E:0000C1AA   AY_regEnvL
0E:0000C1AB   AY_regEnvH
0E:0000C1AC   AY_regEnvShape
0E:0000C1AD   _0x9800
0E:0000C1CD X _0x9820
0E:0000C1ED X _0x9840
0E:0000C20D X _0x9860
0E:0000C22D   SCC_registers
0E:0000C22D   SCC_regToneA
0E:0000C22F   SCC_regToneB
0E:0000C231   SCC_regToneC
0E:0000C233   SCC_regToneD
0E:0000C235   SCC_regToneE
0E:0000C237   SCC_regVOLA
0E:0000C238   SCC_regVOLB
0E:0000C239   SCC_regVOLC
0E:0000C23A   SCC_regVOLD
0E:0000C23B   SCC_regVOLE
0E:0000C23C   SCC_regMIXER
0E:0000C23D   oldregs
0E:0000C2CD   _levelmap
0E:0000CDCD X _cur_level_bf
0E:0000D34D   slotvar
0E:0000D34E   slotram
0E:0000D34F   SEL_NTSC
0E:0000D350   joystick
0E:0000D351 X _mcx
0E:0000D353 X _mcy
0E:0000D355 X _mclx
0E:0000D357 X _mcly
0E:0000D359   _mcframe
0E:0000D35A X _mcstate
0E:0000D35B   _mcdx
0E:0000D35D X _mcdy
0E:0000D35F X _mcprobe
0E:0000D360   _mcprobeb
0E:0000D361   _ticxframe
0E:0000D362   _buffer
0E:0000D372   _fps
0E:0000D374   _nframes
0E:0000D376 X _vbit16
0E:0000D378   _ymappos
0E:0000D379   _xmappos
0E:0000D37B   _levelmap_pos
0E:0000D37D X _shadowbuff
0E:0000D37F   _currentpage
0E:0000D380   _displaypage
0E:0000D381 X _xtic
0E:0000D382   _xoffset
0E:0000D383   _yoffset
0E:0000D384   randSeed
0E:0000D386   cur_level
0E:0000D387   wave_count
0E:0000D388   landing_permission
0E:0000D389   assault_wave_timer
0E:0000D38B   bullet_rate
0E:0000D38C   _dxchng
0E:0000D38D   _dxmap
0E:0000D38E   dxmap
0E:0000D38F   xmap
0E:0000D391   _xmapx4
0E:0000D393   yship
0E:0000D394   xship
0E:0000D396   aniframe
0E:0000D397   ms_state
0E:0000D398   old_aniframe
0E:0000D399   anispeed
0E:0000D39A   already_dead
0E:0000D39B   lives_bin
0E:0000D39C   god_mode
0E:0000D39D X visible_sprts
0E:0000D39E   flip_flop
0E:0000D39F   ram_sat
00:00000000   enemy_data.y
00:00000001   enemy_data.x
00:00000003   enemy_data.xoff
00:00000004   enemy_data.yoff
00:00000005   enemy_data.xsize
00:00000006   enemy_data.ysize
00:00000007   enemy_data.status
00:00000008   enemy_data.cntr
00:00000009   enemy_data.kind
00:0000000A   enemy_data.frame
00:0000000B   enemy_data.color
00:0000000C   enemy_data.color2
00:0000000D   enemy_data.speed
00:0000000F   enemy_data
0E:0000D3AB   any_object
0E:0000D3AB   ms_bullets
0E:0000D3C9   enem_bullets
0E:0000D3F6   enemies


 Output: main.out
-------------------------------------------------

 Page: 00
  Org: 00004000  Size: *  Used: 00000000

    No output

 Output: urd_scr8.rom
-------------------------------------------------

 Page: 00
  Org: 00004000  Size: 00002000  Used: 00001B24

   Address   Length Align   Label
   00004000    4065         search_slot
   00004FE1    2883         ms_ani
   00005B24    1244       <empty>

 Page: 01
  Org: 00006000  Size: 00002000  Used: 00001600

   Address   Length Align   Label
   00006000    5632         replay_init
   00007600    2560       <empty>

 Page: 02
  Org: 00008000  Size: 00002000  Used: 00001500

   Address   Length Align   Label
   00008000    5376         ms_spt
   00009500    2816       <empty>

 Page: 03
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 04
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         _tiles0

 Page: 05
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 06
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 07
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 08
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 09
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 0A
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 0B
  Org: 0000A000  Size: 00002000  Used: 00001300

   Address   Length Align   Label
   0000A000    4864         
   0000B300    3328       <empty>

 Page: 0C
  Org: 00004000  Size: 00002000  Used: 00000000

   00004000    8192       <empty>

 Page: 0D
  Org: 00006000  Size: 00002000  Used: 00000000

   00006000    8192       <empty>

 Page: 0E
  Org: 00008000  Size: 00002000  Used: 00001432

   Address   Length Align   Label
   00008000    5170         demo_song
   00009432    3022       <empty>

 Page: 0F
  Org: 0000A000  Size: 00002000  Used: 00001300

   Address   Length Align   Label
   0000A000    2816         _level
   0000AB00    2048         sprtdata
   0000B300    3328       <empty>

 Page: 10
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         _opening

 Page: 11
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 12
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 13
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 14
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 15
  Org: 0000A000  Size: 00002000  Used: 00002000

   Address   Length Align   Label
   0000A000    8192         

 Page: 16
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 17
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 18
  Org: 0000A000  Size: 00002000  Used: 00001800

   Address   Length Align   Label
   0000A000    6144         _scorebar
   0000B800    2048       <empty>

 Page: 19
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 1A
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 1B
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 1C
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 1D
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 1E
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>

 Page: 1F
  Org: 0000A000  Size: 00002000  Used: 00000000

   0000A000    8192       <empty>
